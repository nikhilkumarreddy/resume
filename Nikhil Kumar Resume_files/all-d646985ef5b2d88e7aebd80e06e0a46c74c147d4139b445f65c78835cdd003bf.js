var resume=resume||{};$(function(){if(0<$("form.edit-access-form").length&&$(document).on("ajax:success","form.edit-access-form",function(e,t){var s=$("*[data-target='#privacy-modal-"+t.resume.id+"']");s.find("i.flaticon-fa-link, i.flaticon-fa-globe, i.flaticon-fa-lock").hide(),s.find("i.resume-access-"+t.resume.access).show(),$("#privacy-modal-"+t.resume.id).modal("hide"),ShowNextResumeTooltip()}),$('form[data-toggle="automatically-submit"]').change(function(){$(this).submit()}),$("#resume_wizard_path_modal").modal("show"),$(document).on("change","select[data-toggle='manage-resumes-sort']",function(e){e.preventDefault(),window.location.href=$(this).val()}),$(document).on("ajax:success","a.btn-mark-default-item",function(e,t){$(".item-resume").removeClass("item-resume-default"),t.mark_action&&$(this).parents(".item-resume").addClass("item-resume-default")}),0<$("#resume-preview").length){var s=function(e){var t=e.find("input[name='contact[title]']").val();return""!=t.trim()&&(e.find(".name-resume-actions").removeClass("editable-mode"),e.find(".name-resume-text").html(t),!0)};if($(document).on("change","#resume_document_resume",function(){var e=$(this).closest("#resume_wizard_path_modal"),t=e.find('[data-step="upload-resume"]');e.find('[data-step="choose-resume-path"]').hide(),t.show()}),$(document).on("click",'#resume_wizard_path_modal [data-toggle="back-step"]',function(e){e.preventDefault();var t=$(this).closest("#resume_wizard_path_modal"),s=t.find('[data-step="upload-resume"]');t.find('[data-step="choose-resume-path"]').show(),s.hide()}),$(document).on("click","form.resume_title label, form.resume_title span, form.resume_title i",function(){var e=$(this).closest(".name-resume-actions"),t=e.find("input"),s=2*t.val().length;e.toggleClass("editable-mode"),t.focus(),t[0].setSelectionRange(s,s)}),$(document).on("ajax:beforeSend","form.resume_title",function(e){return e.preventDefault(),s($(this))}),$(document).on("focusout","form.resume_title input",function(e){e.preventDefault();var t=$(this).closest(".resume_title");s(t)&&t.trigger("submit")}),0<$("#wrapper-resume-content").length){if($(".selectpicker").selectpicker({style:"dropdown-toggle btn-square btn-dark btn-small",dropupAuto:!1}),Clipboard.isSupported())new Clipboard("#resume-public-url-copy-button",{text:function(){return $("input#resume-public-url").val()}}).on("success",function(){$.pnotify({text:"Public URL copied to your clipboard",type:"success"})});else $("#resume-public-url-copy-button").hide();$("input#resume-public-url").on("click",function(){$(this).select()}),$(document).on("click","[data-toggle=avatar-preview]",function(e){e.preventDefault();var t=window.location.pathname.split("/")[2];new AvatarUploader("resume",t).init()}),$(".owl-carousel5").owlCarousel({nav:!0,items:5,responsive:{0:{items:2},320:{items:2},480:{items:3},700:{items:3},975:{items:4},1200:{items:5},1400:{items:5},1600:{items:5}},navText:!1,onInitialized:function(e){var t=$("#resume-templates .template-thumb.active").data("index"),s=Math.floor(t/e.page.size);0<s&&setTimeout(function(){$(".owl-carousel5").trigger("to.owl.carousel",s)},100)}});var t=function(){var t=[],s=0;$("#resume-sections .resume-row").each(function(){var e=Number($(this).closest(".col-sections").attr("column"));s+=1,t.push({id:$(this).data("id"),order:s+1e3*e,type:$(this).data("type")}),$(this).find("input[name$='[order]']").val(s+1e3*e)}),$.ajax({url:window.location.pathname+"/update_order",method:"PUT",data:{orders:t}}),ShowNextResumeTooltip()};window.splitResume=function(){var e=theme_settings.ff.match(/"([^']+)"/)[1],t=theme_settings.hff.match(/"([^']+)"/)[1];e=new FontFaceObserver(e),t=new FontFaceObserver(t);var s=window.globalCountCheckLoaded=0,o=function(){window.globalCountCheckLoaded++,s++,Promise.all([e.load(null,1e3),t.load(null,1e3)]).then(function(){window.globalCountCheckLoaded==s&&(resume.mergePages($("input[name='paper-size-resume']").val()),resume.splitPages($("input[name='paper-size-resume']").val()))})["catch"](function(e){window.globalCountCheckLoaded==s&&(1==s&&(console.warn("Some critical font are not available:",e),resume.mergePages($("input[name='paper-size-resume']").val()),resume.splitPages($("input[name='paper-size-resume']").val())),o())})};o()},window.autocompleteJobTitles=[],window.autocompleteCompanies=[],window.autocompleteCities=[],$.get("//velvetjobs.s3.amazonaws.com/static/job_titles.json.gz",function(e){window.autocompleteJobTitles=e,updateResumeBuilderButtons()}),$.get("//velvetjobs.s3.amazonaws.com/static/companies.json.gz",function(e){window.autocompleteCompanies=e,updateResumeBuilderButtons()}),$.get("//velvetjobs.s3.amazonaws.com/static/cities.json.gz",function(e){window.autocompleteCities=e,updateResumeBuilderButtons()}),window.updateResumeBuilderButtons=function(){$('input[type="checkbox"]').not(".unstyled, .ez-hide").ezMark(),$(".resume-builder-buttons a").each(function(){var e=$(this).data("title"),t=$(this).data("type");"section"==t&&(0<$("section[data-title='"+e+"']").length?$(this).attr("disabled","disabled"):$(this).removeAttr("disabled")),"contacts"==t&&(""!=$("select[name='contact[country_id]']").val()?$(this).attr("disabled","disabled"):$(this).removeAttr("disabled"))});var t=function(e){if(13==e.keyCode)return $(this).trigger("change"),$(this).typeahead("close"),e.preventDefault(),!1};$("input[name='education[school]']").each(function(){var e=$(this);e.closest(".twitter-typeahead").length||(e.typeahead({minLength:1},{limit:6,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/user_educations/autocompleate_university/?query=%QUERY"}})}),e.on("keydown",t))}),0<window.autocompleteJobTitles.length&&$('input[data-toggle="tips-n-examples-preload-title"]').each(function(){var e=$(this);e.closest(".twitter-typeahead").length||(e.typeahead({minLength:1},{limit:6,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:window.autocompleteJobTitles,sorter:TypeaheadBloodhoundSorter.bind($(this))})}),e.on("keydown",t))}),0<window.autocompleteCompanies.length&&$('input[name="position[company_name]"]').each(function(){var e=$(this);e.closest(".twitter-typeahead").length||(e.typeahead({minLength:1},{limit:6,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:window.autocompleteCompanies,sorter:TypeaheadBloodhoundSorter.bind($(this))})}),e.on("keydown",t))}),0<window.autocompleteCities.length&&($('input[name="position[city]"]').each(function(){var e=$(this);e.closest(".twitter-typeahead").length||e.typeahead({minLength:1},{limit:6,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:window.autocompleteCities,sorter:TypeaheadBloodhoundSorter.bind($(this))})}),e.on("keydown",t)}),$('input[name="position[city]"]').attr("autocomplete","disabled"))},window.updateSortable=function(){var e=0,s=function(){clearTimeout(e),e=setTimeout(t,100)};$(".resume-rows").each(function(){var e=$(this),t=!1;e.attr("data-node")!==undefined&&(t='.resume-rows[data-node="'+e.attr("data-node")+'"]'),e.sortable({items:".resume-row",connectWith:t,handle:".button-sort",start:function(e,t){if(disableTooltip(),t.item.closest(".with-subsections").addClass("section-start-draggable zindex-priority"),$(".resume-sections").removeClass("editable-mode").addClass("sortable-mode"),resume.setPaperSize($("input[name='paper-size-resume']").val()+"-min"),t.item.attr("data-node")!==undefined){var s=$(t.item),o=s.attr("data-node");$.fn.mergeNodes('[data-node="'+o+'"] .resume-view'),$('[data-node="'+o+'"]').first().find(".resume-view, .resume-edit").appendTo(s),$('[data-node="'+o+'"]').each(function(){var e=$(this),t=!1;e.is(s)&&(t=!0),!t&&e.remove()})}t.item.css("height","auto").height(t.helper.height()),t.placeholder.height(t.helper.height())},update:s,stop:function(e,t){updateTooltip(),t.item.prop("style",""),$(".section-start-draggable, .zindex-priority").removeClass("section-start-draggable zindex-priority"),$(".resume-sections").addClass("editable-mode").removeClass("sortable-mode"),resume.mergePages($("input[name='paper-size-resume']").val()),resume.splitPages($("input[name='paper-size-resume']").val())},change:function(e,t){if(t.placeholder.prev().attr("data-node")!==undefined||t.placeholder.next().attr("data-node")!==undefined){var s=t.placeholder.prev().attr("data-node")!==undefined?t.placeholder.prev().attr("data-node"):t.placeholder.next().attr("data-node"),o=t.placeholder.closest(".page-resume").index(),a=$('[data-node="'+s+'"]');1<a.size()&&(a.first().closest(".page-resume").index()==o?t.placeholder.insertBefore(a.first()):t.placeholder.insertAfter(a.last()))}}})}),$("#resume-sections .col-sections").sortable({items:".with-subsections",connectWith:".col-sections",handle:".resume-section-toolbar .button-sort",start:function(e,t){if(disableTooltip(),t.item.closest(".col-sections").addClass("no-pad-bottom no-marg-bottom"),$(".resume-sections").removeClass("editable-mode").addClass("sortable-mode"),resume.setPaperSize($("input[name='paper-size-resume']").val()+"-min"),t.item.attr("data-node")!==undefined){var s=$(t.item),o=s.attr("data-node");$('[data-node="'+o+'"]:not(:first) .inner-section .resume-section-toolbar').remove(),$('[data-node="'+o+'"] .inner-section .resume-row[data-node]').each(function(){var e=$(this).attr("data-node");$('.resume-row[data-node="'+e+'"]:not(:first)').each(function(){el=$(this),el.find(".overlay-submain-bg, .resume-toolbar").remove()})}),$.fn.mergeNodes('[data-node="'+o+'"] .inner-section'),$('[data-node="'+o+'"]').first().find(".inner-section").appendTo(s),$('[data-node="'+o+'"]').each(function(){var e=$(this),t=!1;e.is(s)&&(t=!0),!t&&e.remove()})}t.item.css("height","auto").height(t.helper.height()),t.placeholder.height(t.helper.height())},update:function(){s()},stop:function(e,t){t.item.prop("style",""),updateTooltip(),$(".col-sections.no-pad-bottom").removeClass("no-pad-bottom"),$(".col-sections.no-marg-bottom").removeClass("no-marg-bottom"),$(".resume-sections").addClass("editable-mode").removeClass("sortable-mode"),resume.mergePages($("input[name='paper-size-resume']").val()),resume.splitPages($("input[name='paper-size-resume']").val())},change:function(e,t){if(t.placeholder.prev().attr("data-node")!==undefined||t.placeholder.next().attr("data-node")!==undefined){var s=t.placeholder.prev().attr("data-node")!==undefined?t.placeholder.prev().attr("data-node"):t.placeholder.next().attr("data-node"),o=t.placeholder.closest(".page-resume").index(),a=$('[data-node="'+s+'"]');1<a.size()&&(a.first().closest(".page-resume").index()==o?t.placeholder.insertBefore(a.first()):t.placeholder.insertAfter(a.last()))}}})},window.updateTooltip=function(){$('[data-toggle="tooltip"]').data("tooltip",!1).tooltip(),$("body .tooltip").remove()},window.disableTooltip=function(){$('[data-toggle="tooltip"]').tooltip("destroy"),$("body .tooltip").remove()},window.isAvailableToEditForm=function(){return $(".off-canvas-wrap").removeClass("move-left"),!(0<$("section.editable-mode").length||0==$("#wrapper-resume-content").hasClass("editable-mode"))},window.updateTipsCountInfo=function(){var e=$(this);el=e.find('a[data-toggle="tips-n-examples"], a.btn-toggle-tips')},$(document).on("click",".resume-sections section .button-edit",function(e){if(e.preventDefault(),$(".off-canvas-wrap").removeClass("move-left"),$("body").removeClass("opened-style-editor"),isAvailableToEditForm()){var t,s,o=$(this),a=o.closest("section.with-subsections"),n=o.closest("section");if(a.length)a.addClass("editable-mode"),(t=a.data("node"))&&$('section[data-node="'+t+'"]').addClass("editable-mode"),a.hasClass("only-with-one-subsection")&&(n=a.find("section").eq(0));(t=n.attr("data-node"))?($('section[data-node="'+t+'"]').each(function(e){var t=$(this);0==e?(s=t.is(n),t.addClass("editable-mode"),t.find("textarea").redactor(redactorOptions),n=(o=t).closest("section")):t.addClass("editable-mode-placeholder")}),s||$(document).scrollTop(n.offset().top-100)):(n.addClass("editable-mode"),n.find("textarea").redactor(redactorOptions)),n.closest(".page-resume").addClass("editable-mode").addClass("type-editable-"+n.data("type")),validationResumeForm.call(n),updateTipsCountInfo.call(n),$("#wrapper-resume-content").removeClass("editable-mode"),o.closest(".page-resume").alterClass("pagesize-*","pagesize-"+$("input[name='paper-size-resume']").val().toLowerCase()+"-min"),n.height("")}}),$(document).on("click",".resume-sections .resume-row .resume-view",function(e){"SECTION"==$(this).parents().eq(3)[0].tagName&&0==$(e.target).hasClass("close")&&isAvailableToEditForm()&&$(this).parent().find(".button-edit").trigger("click")}),$(document).on("click",".resume-sections h2.resume-title",function(){isAvailableToEditForm()&&$("section.contacts:first").find(".button-edit").trigger("click")}),$(document).on("click",".resume-sections section .button-cancel",function(e){e.preventDefault(),$(".off-canvas-wrap").removeClass("move-left");var t=$(this),s=$(this).closest("section"),o=(s.data("type"),s.parents("section").eq(0)),a=s.attr("data-node");if(0<parseInt(0+s.find("input[name$='[id]']").val()))s.find("form")[0].reset(),s.find("textarea").closest(".redactor-box").length&&s.find("textarea").redactor("core.destroy");else{o=s.parents("section").eq(0);s.remove(),o.length&&0==o.find("section").size()&&o.remove()}$("#wrapper-resume-content").addClass("editable-mode"),$(".showed-tips").removeClass("showed-tips"),$("section.editable-mode").removeClass("editable-mode"),$(".page-resume.editable-mode").removeClass("editable-mode").removeClass(function(e,t){return(t.match(/(^|\s)type-editable-\S+/g)||[]).join(" ")}),a&&$('section[data-node="'+a+'"].editable-mode-placeholder').removeClass("editable-mode-placeholder"),t.closest(".page-resume").alterClass("pagesize-*","pagesize-"+$("input[name='paper-size-resume']").val().toLowerCase()),ShowNextResumeTooltip()}),$(document).on("mouseover",".page-resume-inner section[data-node]",function(){var e=$(this),t=e.attr("data-node");$('section[data-node="'+t+'"]').not(e).addClass("hover-mode-placeholder")}),$(document).on("mouseout",".page-resume-inner section[data-node]",function(){var e=$(this),t=e.attr("data-node");$('section[data-node="'+t+'"]').not(e).removeClass("hover-mode-placeholder")}),$(document).on("mouseover",".page-resume-inner section .resume-row[data-node]",function(){var e=$(this),t=e.attr("data-node");$('.resume-row[data-node="'+t+'"]').not(e).addClass("hover-mode-placeholder")}),$(document).on("mouseout",".page-resume-inner section .resume-row[data-node]",function(){var e=$(this),t=e.attr("data-node");$('.resume-row[data-node="'+t+'"]').not(e).removeClass("hover-mode-placeholder")}),$(document).on("click",".resume-sections section .button-delete",function(){var e=$(this),t=e.find(".fa"),s=e.parents("section").eq(0);t.removeClass("flaticon-rubbish").addClass("flaticon-fa-spinner fa-spin"),$.ajax({method:"DELETE",url:$(this).data("url")+"?"+$.param({entry_id:s.data("id"),type:s.data("type")}),success:function(e){e.success&&($(document).scrollTop(),$("#resume-preview").html($(e.html)[0].innerHTML),updateResumeBuilderButtons(),updateSortable(),updateTooltip(),resume.splitPages($("input[name='paper-size-resume']").val()),resume.resizeCoverPage(),$('a[data-toggle="tips-n-examples"]').each(function(){preloadTips.call(this)}),ShowNextResumeTooltip())}})}),$(document).on("click",".resume-builder-buttons a",function(e){if(e.preventDefault(),$(".off-canvas-wrap").removeClass("move-left"),!$(this).attr("disabled")&&isAvailableToEditForm()){if("contacts"==$(this).data("type"))$(".resume-sections section[data-type=contacts]").toggleClass("editable-mode");else{var t={type:$(this).data("type"),title:$(this).data("title")};$.get($(this).data("url"),t,function(e){var t=$(e.html),s=0;if($("#resume-sections section").find("input[name$='[order]']").each(function(){Number($(this).val())>s&&(s=Number($(this).val()))}),"section"==e.type){s<1e3?$("#resume-preview .col-sections[column=0] .with-subsections:last").length?(n=$("#resume-preview .col-sections[column=0] .with-subsections:last")).after(t):(n=$("#resume-preview .col-sections[column=0]")).append(t):$("#resume-preview .col-sections[column=1] .with-subsections:last").length?(n=$("#resume-preview .col-sections[column=1] .with-subsections:last")).after(t):(n=$("#resume-preview .col-sections[column=1]")).append(t),n.closest(".page-resume").alterClass("pagesize-*","pagesize-"+$("input[name='paper-size-resume']").val().toLowerCase()+"-min"),$(document).scrollTop(t.offset().top-100)}else{var o=$('#resume-preview section[data-type="'+e.type+'"]').last();if(o.length){var a=o.closest(".with-subsections");o.closest(".page-resume").alterClass("pagesize-*","pagesize-"+$("input[name='paper-size-resume']").val().toLowerCase()+"-min"),a.addClass("editable-mode").find(".resume-rows").append(t.find(".resume-rows").addClass("editable-mode").html()),t=a.find(".resume-rows .resume-row.editable-mode"),$(document).scrollTop(t.offset().top-100)}else{var n;s<1e3?$("#resume-preview .col-sections[column=0] .with-subsections:last").length?(n=$("#resume-preview .col-sections[column=0] .with-subsections:last")).after(t):(n=$("#resume-preview .col-sections[column=0]")).append(t):$("#resume-preview .col-sections[column=1] .with-subsections:last").length?(n=$("#resume-preview .col-sections[column=1] .with-subsections:last")).after(t):(n=$("#resume-preview .col-sections[column=1]")).append(t),n.closest(".page-resume").alterClass("pagesize-*","pagesize-"+$("input[name='paper-size-resume']").val().toLowerCase()+"-min"),$(document).scrollTop(t.offset().top-100)}}$("#resume-sections .editable-mode.resume-row").closest(".page-resume").addClass("editable-mode").addClass("type-editable-"+$("#resume-sections .editable-mode.resume-row").data("type")),$("#resume-sections .editable-mode.resume-row").find("input[type=text],textarea,select").filter(":first").focus(),$("#resume-sections .editable-mode.resume-row").find("textarea").redactor(redactorOptions),updateResumeBuilderButtons(),resume.resizeCoverPage(),validationResumeForm.call($("#resume-sections section.editable-mode.resume-row")),ShowNextResumeTooltip()})}$("#wrapper-resume-content").removeClass("editable-mode")}}),$(document).on("ajax:beforeSend",".resume-sections section form",function(){var e=$(this).find("button[type=submit]");if(e.hasClass("disabled"))return!1;e.addClass("disabled")}),$(document).on("ajax:success",".resume-sections section form",function(e,t){if($(".off-canvas-wrap").removeClass("move-left"),t.success)$(document).scrollTop(),$("#resume-preview").html($(t.html)[0].innerHTML),updateResumeBuilderButtons(),updateSortable(),updateTooltip(),ShowNextResumeTooltip(),resume.resizeCoverPage(),resume.splitPages($("input[name='paper-size-resume']").val()),$("#wrapper-resume-content").addClass("editable-mode"),$('a[data-toggle="tips-n-examples"]').each(function(){preloadTips.call(this)});else for(var s in $(this).find("button[type=submit]").removeClass("disabled"),$(this).find(".errors").html(""),t.errors)$(this).find(".errors").append("<p>"+t.errors[s]+"</p>")}),$("#edit_form_resume .make-switch").on("switch-change",function(){$("#edit_form_resume").submit()}),updateResumeBuilderButtons(),splitResume(),$("body").data("page-size",$(window).width()),$(window).on("resize",function(){1200<=$(window).width()&&$("body").data("page-size")<1200?(resume.mergePages($("input[name='paper-size-resume']").val()),resume.splitPages($("input[name='paper-size-resume']").val())):$(window).width()<1200&&1200<=$("body").data("page-size")&&resume.mergePages($("input[name='paper-size-resume']").val(),!0),$("body").data("page-size",$(window).width())}),$(document).on("click",'[data-toggle="right-off-canvas-toggle"]',function(e){e.preventDefault(),$(this).closest(".off-canvas-wrap").toggleClass("move-left")}),$(document).on("click",".off-canvas-wrap .exit-off-canvas",function(e){e.preventDefault(),$(this).closest(".off-canvas-wrap").prop("class","off-canvas-wrap")}),0==$("#resume_wizard_path_modal").length&&ShowNextResumeTooltip()}}}),window.preloadTips=function(t){var s,o=$(this),a=o.parents("section");(s=t!==undefined?t:$(this).closest("form").find("input[data-toggle='tips-n-examples-preload-title']:last").val())&&(!t&&o.parents("div").hasClass("showed-tips")&&(o.parents("div").removeClass("showed-tips"),$(".resume-tips-list").html("")),$.get("/resume/tips_autocomplete_values",{title:s,filter:$(this).data("filter")},function(e){o.popover("destroy"),o.data("preload-tips",[]),0<e.tips.length&&(o.popover({content:"&laquo;"+s+"&raquo; (+"+e.tips.length+")",html:!0,placement:"top",trigger:"hover",container:o.closest(".wrapper-btn-toggle-tips")}),o.data("preload-title",s),o.data("preload-tips",e.tips),t||!a.hasClass("editable-mode")||o.parents("div").hasClass("showed-tips")||o.trigger("click"))}))},$(function(){(0<$("#resume-preview").length||0<$('a[data-toggle="tips-n-examples"]').length)&&(/manager\/resume\/analyzer\/reviews/.test(window.location.href)&&$.get("//velvetjobs.s3.amazonaws.com/static/job_titles.json.gz",function(e){window.autocompleteJobTitles=e}),$(document).on("typeahead:selected change",'input[data-toggle="tips-n-examples-preload-title"]',function(){var e=($(this).closest(".closest-tips").length?$(this).closest(".closest-tips"):$(this).closest("form")).find('a[data-toggle="tips-n-examples"]'),t=$(this).val();e.attr("previous_title")!=t&&(preloadTips.call(e),e.attr("previous_title",t))}),$(document).on("click",'a[data-toggle="tips-n-examples"]',function(e){e.originalEvent&&preloadTips.call(this)}),$(document).on("click",'a[data-toggle="tips-n-examples"], a.btn-toggle-tips',function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=$(this),a=t.closest(".closest-tips").length?t.closest(".closest-tips"):t.parents(".tips-placeholder").eq(0),n=a.parents(".accordion-body").eq(0),i=a.find(".wrapper-tips .tips-content-wrapper > .inner"),r=t.data("animation-show")?t.data("animation-show"):"fadeInLeft",s=t.data("animation-hide")?t.data("animation-hide"):"fadeOutLeft";a.hasClass("showed-tips")?(i.addClass("animated "+s),a.addClass("in-process-hide-tips"),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.removeClass("showed-tips in-process-hide-tips"),n.length&&n.removeClass("opened-tips"),setTimeout(function(){i.removeClass("animated "+s),$(".resume-tips-list .wrapper-tips").remove()},100)}),ShowNextResumeTooltip()):window.renderTips(function(){n=a.parents(".accordion-body").eq(0),i=a.find(".wrapper-tips .tips-content-wrapper > .inner"),a.addClass("showed-tips"),n.length&&n.addClass("opened-tips"),i.addClass("animated "+r),i.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i.removeClass("animated "+r)}),setTimeout(function(){a.find(".tips-header .btn-group").addClass("open")},10);var e=a.find('a[data-toggle="tips-n-examples"]').data("preload-title");if(e&&0<e.length){a.find('[data-toggle="tips-search-category-job"]').typeahead("val",e);var t=a.find('a[data-toggle="tips-n-examples"]').data("preload-tips"),s="";if(t&&t.length){for(var o in s='<ul class="unstyled">',t){s+='                  <li>                    <div class="media-table">                      <div class="media-left">                        <div class="btn-add-tips">                          <i class="fa flaticon-add186"></i>                        </div>                      </div>                      <div class="media-body vertical-middle">                        '+t[o]+"                      </div>                    </div>                  </li>"}s+="</ul>"}else s='<div class="text-empty-tips">Please select the most appropriate job title</div>';$(".list-examples-tips").html(s),setTimeout(function(){$(".select-category-tips").closest(".btn-group").removeClass("open")},100)}"function"==typeof gtag&&(-1!=window.location.pathname.indexOf("/resumes")&&gtag("event","Show Resume Tips","Resumes"),-1!=window.location.pathname.indexOf("/resume-builder")&&gtag("event","Show Resume Tips","Resume Builder"))},t.closest("section.editable-mode"))}),$(document).on("click",".list-examples-tips li",function(e){e.preventDefault();var t=$(this),s=$("<div />").html(t.find(".media-body").html().trim()).text(),o=$(this).parents(".showed-tips").find("textarea").redactor("code.get"),a=$.trim(o),n=$(this).parents(".wrapper-tips").data("wrap");if("li"==n&&("</ul>"==a.slice(-5)?(a=a.slice(0,-5),a+="\n\t<li>"+s+"</li>\n</ul>"):a+="\n<ul>\n\t<li>"+s+"</li>\n</ul>",$(this).parents(".showed-tips").find("textarea").redactor("code.set",a)),"p"==n)if(0==$(a).text().replace(/[\r\n]/gm,"").length)t.parents(".showed-tips").find("textarea").redactor("code.set",s),$(".btn-toggle-tips").trigger("click");else{var i=$('<div class="modal modal-flat modal-flat-middle modal-flat-mobile hide fade"><div class="modal-flat-content"><div class="w400"><div class="modal-flat-inner"><div class="modal-header with-border"><h3>Please confirm</h3></div><div class="modal-body"><p class="fs-16">Would you like to replace the current cover letter with the new example?<p></div><div class="modal-footer"><div class="flexbox-cols no-marg"><div class="flex-col-item no-marg"><button data-dismiss="modal" class="btn btn-flat btn-flat-light with-trade-font with-strong btn-block btn-flat-lg">Cancel</button></div><div class="flex-col-item no-marg"><input type="submit" value="Yes" class="btn btn-flat btn-flat-blacked with-trade-font with-strong btn-block btn-flat-lg"/></div></div><button data-dismiss="modal" class="btn btn-flat btn-modal-close">&times;</button></div></div></div></div></div>');i.modal("show"),i.find("input[type=submit]").click(function(){t.parents(".showed-tips").find("textarea").redactor("code.set",s),i.modal("hide"),$(".btn-toggle-tips").trigger("click")})}var r=t.closest(".showed-tips").find(".redactor-editor");r.scrollTop(r[0].scrollHeight-r.height()),"function"==typeof gtag&&(-1!=window.location.pathname.indexOf("/resumes")&&gtag("event","Add Resume Tip","Resumes"),-1!=window.location.pathname.indexOf("/resume-builder")&&gtag("event","Add Resume Tip","Resume Builder"))}),window.renderTips=function(e,t){var s=t,o=s.find('a[data-toggle="tips-n-examples"]').data("filter");0<$("#resume-tips-list").length&&($(".showed-tips .resume-tips-list").html(""),$(".showed-tips").removeClass("showed-tips"),s.find(".resume-tips-list").html($("#resume-tips-list")[0].innerHTML)),$('[data-toggle="tips-search-category-job"]').val(null);var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:window.autocompleteJobTitles}),n=function(e,t){return""===e?t(a.all()):a.search(e,t)};$('[data-toggle="tips-search-category-job"]').typeahead({minLength:0},{source:n,limit:1e4}).on("typeahead:select",function(e,t){$.get("/resume/tips_autocomplete_values",{title:t,filter:o},function(e){var t="";if(e.tips.length){for(var s in t='<ul class="unstyled">',e.tips){t+='                <li>                  <div class="media-table">                    <div class="media-left">                      <div class="btn-add-tips">                        <i class="fa flaticon-add186"></i>                      </div>                    </div>                    <div class="media-body vertical-middle">                      '+e.tips[s]+"                    </div>                  </div>                </li>"}t+="</ul>"}else t='<div class="text-empty-tips">Please select the most appropriate job title</div>';$(".list-examples-tips").html(t)});var s=($(this).closest(".closest-tips").length?$(this).closest(".closest-tips"):$(this).closest("form")).find('a[data-toggle="tips-n-examples"]');s.attr("previous_title")!=t&&(preloadTips.call(s,t),s.attr("previous_title",t))}),setTimeout(e,10)})}),$(function(){if($("#resume-preview[data-editable]").length){var t=$("body"),s=t.hasClass("resume-templates-opened");$(document).on("click","#open-style-editor",function(e){e.preventDefault(),t.removeClass("resume-templates-closed").addClass("opened-style-editor")}),$(document).on("click","#close-style-editor",function(e){e.preventDefault(),t.removeClass("opened-style-editor"),ShowNextResumeTooltip()}),$(document).on("click",".resume-sections [data-toggle='select-theme']",function(e){e.preventDefault(),$(".off-canvas-wrap").removeClass("move-left"),t.removeClass("opened-style-editor"),t.toggleClass("resume-templates-opened"),t.toggleClass("resume-templates-closed",!t.hasClass("resume-templates-opened")),$("#wrapper-resume-content").removeClass("editable-mode"),$("#resume-preview").removeClass(),$("#resume-preview").addClass(resume.currentTheme),$("#resume-templates .template-thumb.active").removeClass("active"),$('#resume-templates .template-thumb[data-theme="'+resume.currentTheme+'"]').addClass("active"),resume.currentFormatting=$("#resume-preview").data("formatting-customs")[resume.currentTheme],resume.currentFormatting||(resume.currentFormatting=$("#resume-preview").data("formatting-defaults")[resume.currentTheme]),s=!0}),$(document).on("click","#resume-templates .button-cancel",function(e){e.preventDefault(),$(".off-canvas-wrap").removeClass("move-left"),resume.generateInlineStyles(resume.currentFormatting),resume.updateFormattingRange(resume.currentFormatting),$("#wrapper-resume-content").addClass("editable-mode"),t.removeClass("without-animation"),t.toggleClass("resume-templates-opened"),t.toggleClass("resume-templates-closed",!t.hasClass("resume-templates-opened")),$("#resume-preview").removeClass(),$("#resume-preview").addClass(resume.currentTheme),$("#resume-templates .template-thumb.active").removeClass("active"),$('#resume-templates .template-thumb[data-theme-class-name="'+resume.currentTheme+'"]').addClass("active"),s=!1,ShowNextResumeTooltip()}),$(document).on("click","#resume-templates .button-save",function(e){e.preventDefault(),$(".off-canvas-wrap").removeClass("move-left"),resume.currentTheme=$("#resume-preview").attr("class"),t.toggleClass("resume-templates-opened"),t.toggleClass("resume-templates-closed",!t.hasClass("resume-templates-opened")),$("#wrapper-resume-content").addClass("editable-mode"),$("#resume-preview").data("theme",resume.currentTheme),$.post($(this).data("url"),{contact:{theme:resume.currentTheme},_method:"put"}),s=!1,ShowNextResumeTooltip()}),$(document).on("click","#resume-templates .template-thumb",function(e){e.preventDefault();var t=$(this),s=$(this).data("theme");$("#resume-templates .template-thumb.active").removeClass("active"),t.addClass("active"),$("#resume-preview").removeClass(),$("#resume-preview").addClass(s);var o=$("#resume-preview").data("formatting-customs")[s];o||(o=$("#resume-preview").data("formatting-defaults")[s]),resume.generateInlineStyles(o),resume.updateFormattingRange(o)}),$("#wrapper-resume-content").on("click",function(e){e.originalEvent&&s&&(e.preventDefault(),setTimeout(function(){$("#resume-templates .button-save").trigger("click")},100))}),$(document).ready(function(){var e=$("#resume-preview").data("formatting-customs")[resume.currentTheme];e||(e=$("#resume-preview").data("formatting-defaults")[resume.currentTheme]),resume.updateFormattingRange(e),resume.initFormattingRange(e)}),resume.currentTheme=$("#resume-preview").attr("class"),resume.currentFormatting=$("#resume-preview").data("formatting-customs")[resume.currentTheme],resume.currentFormatting||(resume.currentFormatting=$("#resume-preview").data("formatting-defaults")[resume.currentTheme]),resume.initFormattingRangeInited=!1,resume.initFormattingRange=function(e){resume.initFormattingRangeInited=!0,$("#range-font-size").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:13,max:25,step:1,boostat:1,maxboostedstep:3,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-heading-size").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:14,max:27,step:1,boostat:1,maxboostedstep:3,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-line-height").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:90,max:270,step:5,boostat:10,maxboostedstep:50,postfix:"%"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-paragraph-spacing").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:0,max:100,step:1,boostat:1,maxboostedstep:40,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-heading-spacing").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:0,max:100,step:1,boostat:1,
maxboostedstep:40,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-section-spacing").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:15,max:100,step:1,boostat:1,maxboostedstep:40,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-top-bottom-margins").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:0,max:100,step:1,boostat:1,maxboostedstep:40,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-side-margins").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:0,max:100,step:1,boostat:1,maxboostedstep:40,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#range-paragraph-indent").TouchSpin({buttondown_class:"btn",buttonup_class:"btn",min:0,max:100,step:1,boostat:1,maxboostedstep:40,postfix:"px"}).on("touchspin.on.stopspin",function(){resume.saveFormattingSettings()}),$("#palette-text-color").colorpicker({color:e.tc,container:!0,horizontal:!0}).on("changeColor",function(e){var t=e.color.toHex(),s=$(this);s.find(".palette-color").css("background-color",t),s.find(".palette-text").text(t),resume.saveFormattingSettings()}).on("click",".inner-item",function(){var e=$(this).closest(".palette-item");$(".opened-colorpicker").not(e).removeClass("opened-colorpicker"),e.toggleClass("opened-colorpicker")}),$("#palette-heading-color").colorpicker({color:e.hc,container:!0,horizontal:!0}).on("changeColor",function(e){var t=e.color.toHex(),s=$(this);s.find(".palette-color").css("background-color",t),s.find(".palette-text").text(t),resume.saveFormattingSettings()}).on("click",".inner-item",function(){var e=$(this).closest(".palette-item");$(".opened-colorpicker").not(e).removeClass("opened-colorpicker"),e.toggleClass("opened-colorpicker")}),$("#in-font-face").on("change",function(){resume.saveFormattingSettings()}),$("#in-heading-font-face").on("change",function(){resume.saveFormattingSettings()}),$("#btn-formatting-restore").on("click",function(e){e.preventDefault();var t=$("#resume-preview").data("formatting-defaults")[resume.currentTheme];resume.updateFormattingRange(t),resume.saveFormattingSettings()}),$("input[name=paper_size]").on("change",function(){var e="letter",t=$(this).val();void 0!==t&&(e=t.toLowerCase()),$("input[name='paper-size-resume']").val(e),resume.saveFormattingSettings()}),$(document).on("click",'[data-toggle="set-bg-paper"]',function(e){e.preventDefault();var t=$(this);t.closest(".list-paper-backgrounds").find(".item-bg.selected").removeClass("selected"),t.addClass("selected"),resume.saveFormattingSettings()})},resume.updateFormattingRange=function(e){var t=$("#range-font-size"),s=$("#range-heading-size"),o=$("#range-line-height"),a=$("#range-paragraph-spacing"),n=$("#range-heading-spacing"),i=$("#range-section-spacing"),r=$("#range-top-bottom-margins"),l=$("#range-side-margins"),c=$("#range-paragraph-indent"),d=$("#palette-text-color"),u=$("#palette-heading-color"),p=$("#in-font-face"),m=$("#in-heading-font-face"),h=$("input[name=paper_size][value='letter']"),f=$("#paper-backgrounds");"undefined"!=typeof e.psz&&(h=$("input[name=paper_size][value='"+e.psz.toLowerCase()+"']"),e.psz.toLowerCase()),t.val(e.fs),s.val(e.hs),o.val(Math.round(100*e.ls)),a.val(e.ps),n.val(e.hsp),i.val(e.ss),r.val(e.tbm),l.val(e.sm),c.val(e.pi),p.find("option[value='"+e.ff+"']").prop("selected",!0),m.find("option[value='"+e.hff+"']").prop("selected",!0),h.prop("checked",!0),$("input[name='paper-size-resume']").val(h.val().toLowerCase()),f.find(".item-bg.selected").removeClass("selected"),f.find('.item-bg[data-bg-src="'+e.pb+'"]').addClass("selected"),resume.initFormattingRangeInited?(d.colorpicker("setValue",e.tc),u.colorpicker("setValue",e.hc)):(d.find(".palette-text").html(e.tc),u.find(".palette-text").html(e.hc),d.find(".palette-color").css("background-color",e.tc),u.find(".palette-color").css("background-color",e.hc)),$(".selectpicker").selectpicker("refresh"),$("input[name=paper_size]").closest(".btn-group").find(".btn.active").removeClass("active"),$("input[name=paper_size]:checked").closest(".btn").addClass("active")},resume.setPaperSize=function(e){$("#resume-preview").find(".page-resume").alterClass("pagesize-*","pagesize-"+e.toLowerCase())},resume.mergePages=function(e,t){(1200<=$(window).width()||t)&&($("#resume-preview .page-resume").removeClass("state-completed has-overflowed-nosplit-emelent with-overflowed-info"),$(".hover-mode-placeholder, .overflowed-nosplit-element, .overlowed-show-info").removeClass("hover-mode-placeholder overflowed-nosplit-element overlowed-show-info"),$("#resume-preview .text-info-overflowed-page").remove(),currentScrollTop=$(document).scrollTop(),window.mergePagesFunc(e))},resume.splitPages=function(e){1200<=$(window).width()&&(window.splitPagesFunc(e),$("#resume-preview .page-resume .overflowed-nosplit-element").closest(".page-resume").addClass("has-overflowed-nosplit-emelent"),$("#resume-preview .page-resume .overlowed-show-info").closest(".page-resume").addClass("with-overflowed-info").append('<div class="text-info-overflowed-page"><div class="text-info-overflowed-inner"></div></div>'),1<$("#resume-preview .page-resume").size()&&$("#resume-preview .page-resume").each(function(){$(this).after('<div class="resume-page-number"><div class="inner-page-number"></div></div>')}),$("#resume-preview .page-resume").addClass("state-completed"),$(document).scrollTop(currentScrollTop),updateSortable(),updateTooltip())},resume.saveFormattingSettings=function(){var e=$("#resume-preview"),t=(e.data("id"),e.data("theme")),s=e.data("formatting-customs"),o={fs:$("#range-font-size").val(),hs:$("#range-heading-size").val(),ls:$("#range-line-height").val()/100+"",ps:$("#range-paragraph-spacing").val(),hsp:$("#range-heading-spacing").val(),ss:$("#range-section-spacing").val(),tbm:$("#range-top-bottom-margins").val(),sm:$("#range-side-margins").val(),pi:$("#range-paragraph-indent").val(),tc:$("#palette-text-color").data("colorpicker").color.toHex(),hc:$("#palette-heading-color").data("colorpicker").color.toHex(),ff:$("#in-font-face").find("option:selected").val(),hff:$("#in-heading-font-face").find("option:selected").val(),psz:$("input[name='paper-size-resume']").val(),pb:$("#paper-backgrounds .item-bg.selected").data("bg-src")};return!$("body").hasClass("resume-templates-opened")&&(JSON.stringify(s[t])!=JSON.stringify(o)&&(s[t]=o,e.data("formatting-customs",s),resume.generateInlineStyles(o),typeof resume.saveFormattingSettingsTimeoutId!=undefined&&clearTimeout(resume.saveFormattingSettingsTimeoutId),void(resume.saveFormattingSettingsTimeoutId=setTimeout(function(){var e=$("#resume-preview").data("formatting-defaults")[resume.currentTheme],t=JSON.stringify(e)!=JSON.stringify(o)?o:"";$.ajax({url:$(".editable-content form").attr("action"),method:"PUT",data:{settings:t}}),resume.saveFormattingSettingsTimeoutId=undefined},300))))},resume.generateInlineStyles=function(t){var e=0==t.pb.length?"none":"url("+t.pb+")",s='<style id="resume-formatting-styles-inline">#resume-preview { font-family: '+t.ff+" !important; line-height: "+t.ls+" !important; color: "+t.tc+" !important; }#resume-preview .page-resume, #resume-preview .resume-page-number { background-image: "+e+" !important; }#resume-preview .page-resume .page-resume-inner { padding: "+t.tbm/16+"em "+t.sm/16+"em !important; }#resume-preview .wrapper-contacts-info:before, #resume-preview .wrapper-contacts-info:after { padding-top: "+t.tbm/t.fs+"em !important; margin-top: -"+t.tbm/t.fs+"em !important; margin-left: -"+t.sm/t.fs+"em !important; margin-right: -"+t.sm/t.fs+"em !important; }#resume-preview .page-resume:before, #resume-preview .resume-page-number:before { font-size: "+t.fs/16+"em !important; padding-left: "+t.sm/t.fs+"em !important; }#resume-preview .with-subsections { padding-top: "+t.ss/16+"em !important; color: "+t.hc+"!important; }#resume-preview .with-subsections section.resume-row, #resume-preview .wrapper-contacts-info, #resume-preview .wrapper-letter-info, #resume-preview .with-subsections .heading-section .heading-text-like-base, #resume-preview .with-subsections .heading-section:after { font-size: "+t.fs/16+"em !important; }#resume-preview .with-subsections section.resume-row { padding-left: "+t.pi/t.fs+"em !important; padding-top: "+t.ps/t.fs+"em !important; }#resume-preview .with-subsections .heading-section { padding-top: "+t.hsp/t.hs+"em !important; }#resume-preview .with-subsections .heading-section, #resume-preview .contacts .fullname-info > .inner, #resume-preview .contacts .initials-info > .inner, #resume-preview .contacts .initials-info-with-fulllastname > .inner { font-size: "+t.hs/16+"em !important; }#resume-preview .with-subsections .heading-section, #resume-preview .contacts .fullname-info, #resume-preview .contacts .others-contact > .contact-item .title-contact, #resume-preview .contacts .others-contact > .contact-item .initial-contact, #resume-preview .contacts .location-info:before, #resume-preview .contacts .initials-info, #resume-preview .contacts .initials-info-with-fulllastname, #resume-preview .contacts .others-contact .location-info .title-contact, #resume-preview .contacts .soc-accounts ul li .prepand-name-soc { font-family: "+t.hff+" !important; color: "+t.hc+" !important; }#resume-preview .with-subsections .description { color: "+t.tc+" !important; }#resume-preview .contacts .top-contacts-info { border-color: "+t.hc+" !important; }</style>";$("style#resume-formatting-styles-inline").remove(),$("body").append(s);var o=theme_settings.ff.match(/"([^']+)"/)[1],a=theme_settings.hff.match(/"([^']+)"/)[1];o=new FontFaceObserver(o),a=new FontFaceObserver(a);var n=window.globalCountCheckLoaded=0,i=function(){window.globalCountCheckLoaded++,n++,Promise.all([o.load(null,1e3),a.load(null,1e3)]).then(function(){window.globalCountCheckLoaded==n&&(resume.mergePages(t.psz.toLowerCase()),resume.splitPages(t.psz.toLowerCase()))})["catch"](function(e){window.globalCountCheckLoaded==n&&(1==n&&(console.warn("Some critical font are not available:",e),resume.mergePages(t.psz.toLowerCase()),resume.splitPages(t.psz.toLowerCase())),i())})};i()}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.colorpicker&&e(window.jQuery)}(function(l){"use strict";var o=function(e){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,e&&(e.toLowerCase!==undefined?("#"===(e+="").charAt(0)||3!==e.length&&6!==e.length||(e="#"+e),this.setColor(e)):e.h!==undefined&&(this.value=e))},s={horizontal:!(o.prototype={constructor:o,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||e===undefined?1:e.toLowerCase!==undefined?parseFloat(e):1},setColor:function(e){e=e.toLowerCase(),this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1}},stringToHSB:function(n){n=n.toLowerCase();var i=this,r=!1;return l.each(this.stringParsers,function(e,t){var s=t.re.exec(n),o=s&&t.parse.apply(i,[s]),a=t.format||"rgba";return!o||(r=a.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,o)):i.RGBtoHSB.apply(i,o),i.origFormat=a,!1)}),r},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,s,o){var a,n,i,r,l;return e||(e=this.value.h,t=this.value.s,s=this.value.b),e=(e*=360)%360/60,a=n=i=s-(l=s*t),a+=[l,r=l*(1-Math.abs(e%2-1)),0,0,r,l][e=~~e],n+=[r,l,l,r,0,0][e],i+=[0,0,r,l,l,r][e],{r:Math.round(255*a),g:Math.round(255*n),b:Math.round(255*i),a:o||this.value.a}},toHex:function(e,t,s,o){var a=this.toRGB(e,t,s,o);return"#"+(1<<24|parseInt(a.r)<<16|parseInt(a.g)<<8|parseInt(a.b)).toString(16).substr(1)},toHSL:function(e,t,s,o){e=e||this.value.h,t=t||this.value.s,s=s||this.value.b,o=o||this.value.a;var a=e,n=(2-t)*s,i=t*s;return i/=0<n&&n<=1?n:2-n,n/=2,1<i&&(i=1),{h:isNaN(a)?0:a,s:isNaN(i)?0:i,l:isNaN(n)?0:n,a:isNaN(o)?0:o}},toAlias:function(e,t,s,o){var a=this.toHex(e,t,s,o);for(var n in this.colors)if(this.colors[n]==a)return n;return!1},RGBtoHSB:function(e,t,s,o){var a,n,i,r;return e/=255,t/=255,s/=255,a=((a=0===(r=(i=Math.max(e,t,s))-Math.min(e,t,s))?null:i===e?(t-s)/r:i===t?(s-e)/r+2:(e-t)/r+4)+360)%6*60/360,n=0===r?0:r/i,{h:this._sanitizeNumber(a),s:n,b:i,a:this._sanitizeNumber(o)}},HueToRGB:function(e,t,s){return s<0?s+=1:1<s&&(s-=1),6*s<1?e+(t-e)*s*6:2*s<1?t:3*s<2?e+(t-e)*(2/3-s)*6:e},HSLtoRGB:function(e,t,s,o){var a;t<0&&(t=0);var n=2*s-(a=s<=.5?s*(1+t):s+t-s*t),i=e+1/3,r=e,l=e-1/3;return[Math.round(255*this.HueToRGB(n,a,i)),Math.round(255*this.HueToRGB(n,a,r)),Math.round(255*this.HueToRGB(n,a,l)),this._sanitizeNumber(o)]},toString:function(e){switch(e=e||"rgba"){case"rgb":return"rgb("+(t=this.toRGB()).r+","+t.g+","+t.b+")";case"rgba":var t;return"rgba("+(t=this.toRGB()).r+","+t.g+","+t.b+","+t.a+")";case"hsl":var s=this.toHSL();return"hsl("+Math.round(360*s.h)+","+Math.round(100*s.s)+"%,"+Math.round(100*s.l)+"%)";case"hsla":s=this.toHSL();return"hsla("+Math.round(360*s.h)+","+Math.round(100*s.s)+"%,"+Math.round(100*s.l)+"%,"+s.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return!1}},stringParsers:[{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}},{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(e){var t=this.colorNameToHex(e[0])||"#000000",s=this.stringParsers[0].re.exec(t);return s&&this.stringParsers[0].parse.apply(this,[s])}}],colorNameToHex:function(e){return"undefined"!=typeof this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}}),inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'},n=function(e,t){this.element=l(e).addClass("colorpicker-element"),this.options=l.extend({},s,this.element.data(),t),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&l(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new o(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,this.picker=l(this.options.template),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format||this.picker.addClass("colorpicker-with-alpha"),this.picker.on("mousedown.colorpicker touchstart.colorpicker",l.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:l("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":l.proxy(this.keyup,this)}),!1===this.component&&this.element.on({"focus.colorpicker":l.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":l.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":l.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":l.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":l.proxy(this.show,this),"focus.colorpicker":l.proxy(this.show,this)}),this.update(),l(l.proxy(function(){this.element.trigger("create")},this))};n.version="2.0.0-beta",n.Color=o,n.prototype={constructor:n,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==document.body?"position":"offset",t=this.component?this.component[e]():this.element[e]();this.picker.css({top:t.top+(this.component?this.component.outerHeight():this.element.outerHeight()),left:t.left})},show:function(e){if(this.isDisabled())return!1;this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),l(window).on("resize.colorpicker",l.proxy(this.reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1===this.options.inline&&l(window.document).on({"mousedown.colorpicker":l.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color})},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),l(window).off("resize.colorpicker",this.reposition),l(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){return e=e||this.color.toString(this.format),!1!==this.input&&this.input.prop("value",e),e},updatePicker:function(e){e!==undefined&&(this.color=new o(e));var t=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,s=this.picker.find("i");if(0!==s.length)return!1===this.options.horizontal?(t=this.options.sliders,s.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,s.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),s.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e},updateComponent:function(e){if(e=e||this.color.toString(this.format),!1!==this.component){var t=this.component.find("i").eq(0);0<t.length?t.css({backgroundColor:e}):this.component.css({backgroundColor:e})}return e},update:function(e){var t=this.updateComponent();return!1===this.getValue(!1)&&!0!==e||(this.updateInput(t),this.updateData(t)),this.updatePicker(),t},setValue:function(e){this.color=new o(e),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){var t;return e=e===undefined?"#000000":e,(t=this.hasInput()?this.input.val():this.element.data("color"))!==undefined&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){e.pageX||e.pageY||!e.originalEvent||(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=l(e.target).closest("div"),s=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!t.is(".colorpicker")){if(t.is(".colorpicker-saturation"))this.currentSlider=l.extend({},s.saturation);else if(t.is(".colorpicker-hue"))this.currentSlider=l.extend({},s.hue);else{if(!t.is(".colorpicker-alpha"))return!1;this.currentSlider=l.extend({},s.alpha)}var o=t.offset();this.currentSlider.guide=t.find("i")[0].style,this.currentSlider.left=e.pageX-o.left,this.currentSlider.top=e.pageY-o.top,this.mousePointer={left:e.pageX,top:e.pageY},l(document).on({"mousemove.colorpicker":l.proxy(this.mousemove,this),"touchmove.colorpicker":l.proxy(this.mousemove,this),"mouseup.colorpicker":l.proxy(this.mouseup,this),"touchend.colorpicker":l.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){e.pageX||e.pageY||!e.originalEvent||(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),s=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=s+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,s/this.currentSlider.maxTop),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),l(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},keyup:function(e){if(38===e.keyCode)this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0);else if(40===e.keyCode)0<this.color.value.a&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0);else{var t=this.input.val();this.color=new o(t),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())}this.element.trigger({type:"changeColor",color:this.color,value:t})}},l.colorpicker=n,l.fn.colorpicker=function(o){var a=arguments;return this.each(function(){var e=l(this),t=e.data("colorpicker"),s="object"==typeof o?o:{};t||"string"==typeof o?"string"==typeof o&&t[o].apply(t,Array.prototype.slice.call(a,1)):e.data("colorpicker",new n(this,s))})},l.fn.colorpicker.constructor=n}),function(A){"use strict";function s(e,t){return e+".touchspin_"+t}function H(e,t){return A.map(e,function(e){return s(e,t)})}var q=0;A.fn.TouchSpin=function(L){if("destroy"!==L){var N={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"&ndash;",buttonup_txt:"+"},D={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function e(){P.data("alreadyinitialized")||(P.data("alreadyinitialized",!0),q+=1,P.data("spinnerid",q),P.is("input")?(o(),t(),h(),i(),c(),d(),u(),p(),k.input.css("display","block")):console.log("Must be an input."))}function t(){""!==C.initval&&""===P.val()&&P.val(C.initval)}function s(e){n(e),h();var t=k.input.val();""!==t&&(t=Number(k.input.val()),k.input.val(t.toFixed(C.decimals)))}function o(){C=A.extend({},N,F,a(),L)}function a(){var o={};return A.each(D,function(e,t){var s="bts-"+t;P.is("[data-"+s+"]")&&(o[e]=P.data(s))}),o}function n(e){C=A.extend({},C,e)}function i(){var e=P.val(),t=P.parent();""!==e&&(e=Number(e).toFixed(C.decimals)),P.data("initvalue",e).val(e),P.addClass("form-control"),t.hasClass("input-group")?r(t):l()}function r(e){e.addClass("bootstrap-touchspin");var t,s,o=P.prev(),a=P.next(),n='<span class="input-group-addon bootstrap-touchspin-prefix">'+C.prefix+"</span>",i='<span class="input-group-addon bootstrap-touchspin-postfix">'+C.postfix+"</span>";o.hasClass("input-group-btn")?(t='<button class="'+C.buttondown_class+' bootstrap-touchspin-down" type="button">'+C.buttondown_txt+"</button>",o.append(t)):(t='<span class="input-group-btn"><button class="'+C.buttondown_class+' bootstrap-touchspin-down" type="button">'+C.buttondown_txt+"</button></span>",A(t).insertBefore(P)),a.hasClass("input-group-btn")?(s='<button class="'+C.buttonup_class+' bootstrap-touchspin-up" type="button">'+C.buttonup_txt+"</button>",a.prepend(s)):(s='<span class="input-group-btn"><button class="'+C.buttonup_class+' bootstrap-touchspin-up" type="button">'+C.buttonup_txt+"</button></span>",A(s).insertAfter(P)),A(n).insertBefore(P),A(i).insertAfter(P),x=e}function l(){var e;e=C.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+C.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+C.postfix+'</span><span class="input-group-btn-vertical"><button class="'+C.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+C.verticalupclass+'"></i></button><button class="'+C.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+C.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+C.buttondown_class+' bootstrap-touchspin-down" type="button">'+C.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+C.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+C.postfix+'</span><span class="input-group-btn"><button class="'+C.buttonup_class+' bootstrap-touchspin-up" type="button">'+C.buttonup_txt+"</button></span></div>",x=A(e).insertBefore(P),A(".bootstrap-touchspin-prefix",x).after(P),P.hasClass("input-sm")?x.addClass("input-group-sm"):P.hasClass("input-lg")&&x.addClass("input-group-lg")}function c(){k={down:A(".bootstrap-touchspin-down",x),up:A(".bootstrap-touchspin-up",x),input:A("input",x),prefix:A(".bootstrap-touchspin-prefix",x).addClass(C.prefix_extraclass),postfix:A(".bootstrap-touchspin-postfix",x).addClass(C.postfix_extraclass)}}function d(){""===C.prefix&&k.prefix.hide(),""===C.postfix&&k.postfix.hide()}function u(){P.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==B&&(g(),w()),e.preventDefault()):40===t&&("down"!==B&&(v(),b()),e.preventDefault())}),P.on("keyup",function(e){var t=e.keyCode||e.which;38===t?$():40===t&&$()}),P.on("blur",function(){h()}),k.down.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("down"!==B&&(v(),b()),e.preventDefault())}),k.down.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||$()}),k.up.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("up"!==B&&(g(),w()),e.preventDefault())}),k.up.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||$()}),k.down.on("mousedown.touchspin",function(e){k.down.off("touchstart.touchspin"),P.is(":disabled")||(v(),b(),e.preventDefault(),e.stopPropagation())}),k.down.on("touchstart.touchspin",function(e){k.down.off("mousedown.touchspin"),P.is(":disabled")||(v(),b(),e.preventDefault(),e.stopPropagation())}),k.up.on("mousedown.touchspin",function(e){k.up.off("touchstart.touchspin"),P.is(":disabled")||(g(),w(),e.preventDefault(),e.stopPropagation())}),k.up.on("touchstart.touchspin",function(e){k.up.off("mousedown.touchspin"),P.is(":disabled")||(g(),w(),e.preventDefault(),e.stopPropagation())}),k.up.on("mouseout touchleave touchend touchcancel",function(e){B&&(e.stopPropagation(),$())}),k.down.on("mouseout touchleave touchend touchcancel",function(e){B&&(e.stopPropagation(),$())}),k.down.on("mousemove touchmove",function(e){
B&&(e.stopPropagation(),e.preventDefault())}),k.up.on("mousemove touchmove",function(e){B&&(e.stopPropagation(),e.preventDefault())}),A(document).on(H(["mouseup","touchend","touchcancel"],q).join(" "),function(e){B&&(e.preventDefault(),$())}),A(document).on(H(["mousemove","touchmove","scroll","scrollstart"],q).join(" "),function(e){B&&(e.preventDefault(),$())}),P.on("mousewheel DOMMouseScroll",function(e){if(C.mousewheel&&P.is(":focus")){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),t<0?v():g()}})}function p(){P.on("touchspin.uponce",function(){$(),g()}),P.on("touchspin.downonce",function(){$(),v()}),P.on("touchspin.startupspin",function(){w()}),P.on("touchspin.startdownspin",function(){b()}),P.on("touchspin.stopspin",function(){$()}),P.on("touchspin.updatesettings",function(e,t){s(t)})}function m(e){switch(C.forcestepdivisibility){case"round":return(Math.round(e/C.step)*C.step).toFixed(C.decimals);case"floor":return(Math.floor(e/C.step)*C.step).toFixed(C.decimals);case"ceil":return(Math.ceil(e/C.step)*C.step).toFixed(C.decimals);default:return e}}function h(){var e,t,s;""!==(e=P.val())&&(0<C.decimals&&"."===e||(t=parseFloat(e),isNaN(t)&&(t=0),(s=t).toString()!==e&&(s=t),t<C.min&&(s=C.min),t>C.max&&(s=C.max),s=m(s),Number(e).toString()!==s.toString()&&(P.val(s),P.trigger("change"))))}function f(){if(C.booster){var e=Math.pow(2,Math.floor(R/C.boostat))*C.step;return C.maxboostedstep&&e>C.maxboostedstep&&(e=C.maxboostedstep,y=Math.round(y/e)*e),Math.max(C.step,e)}return C.step}function g(){h(),y=parseFloat(k.input.val()),isNaN(y)&&(y=0);var e=y,t=f();(y+=t)>C.max&&(y=C.max,P.trigger("touchspin.on.max"),$()),k.input.val(Number(y).toFixed(C.decimals)),e!==y&&P.trigger("change")}function v(){h(),y=parseFloat(k.input.val()),isNaN(y)&&(y=0);var e=y,t=f();(y-=t)<C.min&&(y=C.min,P.trigger("touchspin.on.min"),$()),k.input.val(y.toFixed(C.decimals)),e!==y&&P.trigger("change")}function b(){$(),R=0,B="down",P.trigger("touchspin.on.startspin"),P.trigger("touchspin.on.startdownspin"),T=setTimeout(function(){z=setInterval(function(){R++,v()},C.stepinterval)},C.stepintervaldelay)}function w(){$(),R=0,B="up",P.trigger("touchspin.on.startspin"),P.trigger("touchspin.on.startupspin"),S=setTimeout(function(){_=setInterval(function(){R++,g()},C.stepinterval)},C.stepintervaldelay)}function $(){switch(clearTimeout(T),clearTimeout(S),clearInterval(z),clearInterval(_),B){case"up":P.trigger("touchspin.on.stopupspin"),P.trigger("touchspin.on.stopspin");break;case"down":P.trigger("touchspin.on.stopdownspin"),P.trigger("touchspin.on.stopspin")}R=0,B=!1}var C,x,k,y,z,_,T,S,P=A(this),F=P.data(),R=0,B=!1;e()})}this.each(function(){var e=A(this).data();A(document).off(H(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],e.spinnerid).join(" "))})}}(jQuery),function(w){"use strict";w.fn.hasAnyClass=function(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e].split(" "),s=0;s<t.length;s++)if(this.hasClass(t[s]))return!0;return!1},w.fn.hasClosestAnyClass=function(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e].split(" "),s=0;s<t.length;s++)if(this.closest("."+t[s]).length)return!0;return!1},w.fn.alterClass=function(e,t){var s=this;if(-1===e.indexOf("*"))return s.removeClass(e),t?s.addClass(t):s;var o=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return s.each(function(e,t){for(var s=" "+t.className+" ";o.test(s);)s=s.replace(o," ");t.className=w.trim(s)}),t?s.addClass(t):s},w.fn.splitPages=function(e){var t,s,o,a,n,i,r=this,f=function(e,t){var s,o=e.children("."+t.innerClass);return(s=parseInt(o.children().first().css("margin-top"),10)-parseInt(o.css("margin-top"),10))<0&&(s=0),o.outerHeight(!0)+s>e.innerHeight()},g=function(e,t){var s=Math.round(e.offset().top)==Math.round(t.offset().top),o=e.is(":visible")&&t.is(":visible"),a="0"!=e.css("opacity")&&"0"!=t.css("opacity");return!!(s&&o&&a)},v=0,b=function(t,s,o,e){0;var a,n=w.extend({},e),i=!1,r=!1,l=!1;for(a=function(e){for(var t,s=/\W\b/;null!==s.exec(e.nodeValue);)t=s.exec(e.nodeValue),e=e.splitText(t.index+1);return e};!i;){if(s.contents().last().prependTo(t),n.withInner)/\S/.test(t.contents().first().get(0).nodeValue)||t.contents().first().remove(),t.contents().first().length&&3===t.contents().first().get(0).nodeType?(a(t.contents().first().get(0)),i=!0):((t=t.contents().first()).attr("data-node")||(v++,t.attr("data-node",v).addClass("node-"+v)),s=t.clone().empty().appendTo(s),f(o,n)&&(s.remove(),l=i=!0));for(n.withInner=!0;!f(o,n)&&t.contents().first().length&&!r&&!l;)if(!t.children().eq(0).hasClosestAnyClass(n.splitSimpleTextClass)&&3!==t.contents().first().get(0).nodeType&&1<t.children().length&&g(t.children().eq(0),t.children().eq(1))){r=!0;var c=[],d=[],u=[];t.children().each(function(e){c[e]=w(this),c[e].attr("data-node")||(v++,c[e].attr("data-node",v).addClass("node-"+v)),d[e]=c[e].clone().empty().appendTo(s),u[e]=w.extend({},n),e===t.children().length-1&&u[e].checkToCreateNewPage?u[e].checkToCreateNewPage=!0:u[e].checkToCreateNewPage=!1,u[e].withInner=!1}),t.children().each(function(e){b(c[e],d[e],o,u[e])})}else t.contents().first().appendTo(s);if(r)i=!0;else{var p=!1;f(o,n)||t.contents().first().length||(p=i=!0),f(o,n)&&(s.children().last().hasAnyClass(n.splitExceptionClass)||"none"==s.children().last().data("split"))&&(i=!0),i&&!p&&s.contents().last().prependTo(t)}}if(!r&&n.checkToCreateNewPage&&("function"==typeof n.beforeCreatePage&&n.beforeCreatePage(),f(w("."+n.pageClass).last(),n))){var m="<"+n.pageTag+' class="'+n.pageClass+" "+n.pageSizeClassPrefix+n.pageSize.toLowerCase()+'" />',h=w("."+n.pageClass).last();o=w(m).insertBefore(h);b(t=h,s=o,o,n)}};s={pageTag:"div",pageClass:"page",innerClass:"page-inner",pageSize:"A4",pageSizeClassPrefix:"pagesize-",splitExceptionClass:"no-split",splitSimpleTextClass:"split-simple-text",withInner:!0,checkToCreateNewPage:!0},a="<"+(e=w.extend(s,e)).pageTag+' class="'+e.pageClass+" "+e.pageSizeClassPrefix+e.pageSize.toLowerCase()+'" />',"function"==typeof e.beforeCreatePage&&e.beforeCreatePage(),r.find("."+e.pageClass).length?(r.find("."+e.pageClass).alterClass(e.pageSizeClassPrefix+"*",e.pageSizeClassPrefix+e.pageSize.toLowerCase()),t=r.find("."+e.pageClass).first()):((t=w(a).appendTo(r)).append("<"+e.pageTag+' class="'+e.innerClass+'" />'),r.children().not(t).appendTo(t.children("."+e.innerClass))),f(t,e)&&(n=t,i=o=w(a).insertBefore(t),"function"==typeof e.afterCreateFirstPage&&e.afterCreateFirstPage(),b(n,i,o,e))},w.fn.mergeNodes=function(e){w(e).each(function(){var t=this,e=w(t).attr("data-node");w(t).removeAttr("data-node"),w('[data-node="'+e+'"]').not(t).each(function(){var e=this;w(e).contents().appendTo(t),w(e).remove()}),w(t).find("[data-node]").each(function(){w.fn.mergeNodes(this)})})},w.fn.mergePages=function(e){var t,s,o,a=this;s={pageTag:"div",pageClass:"page",innerClass:"page-inner",pageSize:"A4",pageSizeClassPrefix:"pagesize-"},o="<"+(e=w.extend(s,e)).pageTag+' class="'+e.pageClass+" "+e.pageSizeClassPrefix+e.pageSize.toLowerCase()+'" />',t=w(o).appendTo(a),a.children().not(t).appendTo(t),t.find("."+e.pageClass+" > ."+e.innerClass).unwrap(),w("[data-node]").each(function(){var t=this,e=w(t).attr("data-node");w(t).removeAttr("data-node"),w('[data-node="'+e+'"]').not(t).each(function(){var e=this;w(e).contents().appendTo(t),w(e).remove()})})}}(jQuery),resume.resizeCoverPage=function(){var e=$("#resume-page").outerHeight(),t=$("#frameCoverResumePage"),s=0,o=$("#resume-preview"),a=0,n=$(".page-bg-container");0<e&&($(resume.frameCoverResumePage).off("resize",resume.frameCoverResumePageFunc),o.addClass("reset-min-height"),s=t.outerHeight(),1<(a=Math.ceil(s/e))?n.removeClass("one-page"):n.addClass("one-page"),s=(e-1)*a,o.css("min-height",s),o.removeClass("reset-min-height"),setTimeout(function(){$(resume.frameCoverResumePage).on("resize",resume.frameCoverResumePageFunc)},200))},window.dublicateControls=function(e,o){$.fn.mergeNodes("section.with-subsections[data-node] .resume-section-toolbar[data-node]"),e.find(".page-resume-inner section.with-subsections[data-node]").each(function(){var e=$(this),t=e.attr("data-node"),s=o.find('.page-resume-inner section[data-node="'+t+'"]');e.find(".resume-section-toolbar").clone().prependTo(s),e.find(".overlay-main-bg").clone().prependTo(s)}),$.fn.mergeNodes(".resume-row[data-node] .resume-toolbar[data-node]"),e.find(".page-resume-inner .resume-row[data-node]").each(function(){var e=$(this),t=e.attr("data-node"),s=o.find('.resume-row[data-node="'+t+'"]');e.find(".resume-toolbar").clone().prependTo(s),e.find(".overlay-submain-bg").clone().prependTo(s)})},window.duplicateHeading=function(e,o){$.fn.mergeNodes(".page-resume-inner section .inner-section .heading-section[data-node]"),e.find(".page-resume-inner section.with-subsections[data-node], .page-resume-inner section.contacts[data-node]").each(function(){var e=$(this),t=e.attr("data-node"),s=o.find('.page-resume-inner section[data-node="'+t+'"]');e.find(".overlay-main-bg").clone().prependTo(s),e.find(".inner-section .heading-section").clone().prependTo(s.find(".inner-section"))}),$(".page-resume-inner section.with-subsections, .page-resume-inner section.contacts").each(function(){var e=$(this);e.find(".inner-section .resume-rows > .resume-row").length||e.remove()})},window.splitPagesFunc=function(e){$("#resume-preview").splitPages({pageSize:e,pageClass:"page-resume",innerClass:"page-resume-inner",pageSizeClassPrefix:"pagesize-",splitExceptionClass:"no-split-content",splitSimpleTextClass:"split-like-simple-text",beforeCreatePage:function(){var a=$("#resume-preview .page-resume");1<a.size()&&(a.eq(a.length-2).find("section.resume-row .resume-view > div[data-node]").each(function(){var e=$(this),t=e.closest("section.resume-row"),s=t.data("node");if(0==e.height()){$.fn.mergeNodes('section.resume-row[data-node="'+s+'"]');var o=t.closest("[data-node]").data("node");t.prependTo(a.last().find('[data-node="'+o+'"]'))}}),a.eq(a.length-2).find("section.with-subsections[data-node]").each(function(){var e=$(this),t=e.data("node");if(0==e.find("section.resume-row").size()){$.fn.mergeNodes('section.with-subsections[data-node="'+t+'"]');var s=e.closest("[data-node]").data("node");e.prependTo(a.last().find('[data-node="'+s+'"]'))}}),window.dublicateControls(a.eq(a.length-2),a.last()))},afterCreateFirstPage:function(){var e=$("#resume-preview .page-resume").last(),t=e.children(".page-resume-inner"),o=e.height()-(t.outerHeight()-t.height());e.find(".no-split-content").each(function(){var e,t=$(this),s=t.closest(".with-subsections");s.length?(s.find(".resume-row").not(this).hide(),e=s.outerHeight(!0),o<=e&&(50<=e-o&&t.addClass("overlowed-show-info"),t.height(0).css("min-height",0),t.height(o-s.outerHeight(!0)-(t.outerHeight(!0)-t.height())).css("min-height","").addClass("overflowed-nosplit-element")),s.find(".resume-row").show()):t.outerHeight(!0)>=o&&(50<=t.outerHeight(!0)-o&&t.addClass("overlowed-show-info"),t.height(o-1).addClass("overflowed-nosplit-element"))})}})},window.mergePagesFunc=function(e){$("section[data-node]").each(function(){var e=$(this).attr("data-node");$('section[data-node="'+e+'"]:not(:first)').each(function(){el=$(this),el.find(".overlay-main-bg, .heading-section, .resume-section-toolbar").remove()}),$('.resume-row[data-node="'+e+'"]:not(:first)').each(function(){el=$(this),el.find(".overlay-submain-bg, .resume-toolbar").remove()})}),$(".resume-row[data-node]").each(function(){var e=$(this).attr("data-node");$('.resume-row[data-node="'+e+'"]:not(:first)').each(function(){el=$(this),el.find(".resume-toolbar").remove()})}),$("#resume-preview .resume-row").height(""),$("#resume-preview .resume-page-number").remove(),$("#resume-preview").mergePages({pageSize:e+"-min",pageClass:"page-resume",innerClass:"page-resume-inner",pageSizeClassPrefix:"pagesize-"})},$(function(){if(0<$("#wrapper-resume-content").length){window.location.pathname.split("/")[2];var n=null,l=[];$(document).on("click",".resume-spellcheck .button-check",function(e){if(e.preventDefault(),$(this).hasClass("disabled")||0==isAvailableToEditForm())return!1;$(this).addClass("disabled"),l=[],$("#resume-preview section .resume-edit form").each(function(){l.push($(this).serializeArray())}),(n=new $.SpellChecker($(".wrapper-others-info .resume-view:visible"),{lang:"en",parser:"html",webservice:{path:"/resume/spellcheck",driver:"pspell"},suggestBox:{position:"below"}})).on("check.start",function(){$(".resume-spellcheck").addClass("active"),$(".resume-spellcheck .loading-mask").show(),$(".resume-spellcheck .loading-mask .well").html("Loading...")}),n.on("check.complete",function(){setTimeout(function(){var e=$("#wrapper-resume-content .resume-view .spellchecker-word-highlight:visible").length;0<e?($(".resume-spellcheck .loading-mask").hide(),$(".resume-spellcheck .button-cancel").removeClass("disabled"),$(".resume-spellcheck .button-save").addClass("disabled"),$(".resume-spellcheck .confirmation").show(),$(".resume-spellcheck .confirmation .well").html('Spell Check completed.                 <span>                  <i class="fa  flaticon-fa-exclamation-triangle"></i>                   Found <strong>'+e+"</strong> errors.                </span>")):(n.destroy(),n=null,$(".resume-spellcheck .button-check").removeClass("disabled"),$(".resume-spellcheck").addClass("active"),$(".resume-spellcheck .loading-mask").show(),$(".resume-spellcheck .loading-mask .well").html('Spell Check completed.               <span><i class="fa flaticon-fa-check-circle"></i> No errors found.</span>'),$("#wrapper-resume-content").addClass("editable-mode"))},100)}),n.on("replace.word",function(){var e=this.incorrectWord,t=this.replacedWord;$(".spellchecker-word-highlight:visible").filter(function(){return $(this).text()===e||$(this).text()===t}).text(t).contents().unwrap(),$(".resume-spellcheck .button-save").removeClass("disabled");var s=[new RegExp("s"+this.incorrectWord+"s","g"),new RegExp("s"+this.incorrectWord,"g"),new RegExp(this.incorrectWord+"s","g"),new RegExp(this.incorrectWord,"g"),new RegExp("\\"+this.incorrectWord,"g")];for(var o in l){var a=l[o];for(var o in a){var n=a[o];for(var i in s){var r=s[i];if(r.test(n.value)){n.value=n.value.replace(r,this.replacedWord),a[0].updated=!0;break}}}}}),n.check(),$("#wrapper-resume-content").removeClass("editable-mode")}),$(document).on("click",".resume-spellcheck .button-save",function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return!1;$(".resume-spellcheck .confirmation").hide(),$(".resume-spellcheck").addClass("active"),$(".resume-spellcheck .loading-mask").show(),$(".resume-spellcheck .loading-mask .well").html("Save changes..."),$(".resume-spellcheck .button-save").removeClass("disabled");var t="";for(var s in l){var o=l[s],a=$("form.resume_title").attr("action");o[0].updated&&$.ajax({url:a,method:"POST",data:o,async:!1,success:function(e){e.success&&(t=e.html,$(".resume-spellcheck").removeClass("active"),$(".resume-spellcheck .loading-mask").hide(),$(".resume-spellcheck .button-check").removeClass("disabled"),$("#wrapper-resume-content").addClass("editable-mode"))}})}""!=t&&($("#resume-preview").html($(t)[0].innerHTML),$("#wrapper-resume-content").addClass("editable-mode"),resume.splitPages($("input[name='paper-size-resume']").val()),updateResumeBuilderButtons(),updateSortable(),updateTooltip()),n.destroy(),n=null}),$(document).on("click",".resume-spellcheck .button-cancel",function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return!1;$(".resume-spellcheck .button-cancel").addClass("disabled"),$.get(window.location.pathname,function(e){$(".resume-spellcheck .confirmation").hide(),$(".resume-spellcheck .button-check").removeClass("disabled"),$("#wrapper-resume-content").addClass("editable-mode"),$("#resume-preview").html($(e).find("#resume-preview")[0].innerHTML),resume.splitPages($("input[name='paper-size-resume']").val()),updateResumeBuilderButtons(),updateSortable(),updateTooltip(),n&&(n.destroy(),n=null)})})}}),"undefined"==typeof window.current_user_tip_options&&(window.current_user_tip_options={}),window.current_user_tip_options.resume_select_theme={delay:1e3,id:"resume_select_theme",element:"div.template-thumb.active",placement:"bottom",title:"Template",content:"Select your template design",disableTrigger:!0,container:"body",hideOnClick:!0},window.current_user_tip_options.resume_add_experience={id:"resume_add_experience",element:'a[data-type="position"]',placement:"left",title:"Add Experience",content:"Add experience to your resume",hideOnClick:!0,appearCondition:function(){return 0==$('section[data-title="Experience"]').length}},window.current_user_tip_options.resume_edit_section={id:"resume_edit_section",element:'section[data-title="Experience"]',placement:"top",title:"Edit Resume",content:"To edit resume click to edit text",hideOnClick:!0,appearCondition:function(){return 0<$('section[data-title="Experience"]').length}},window.current_user_tip_options.resume_add_education={id:"resume_add_education",element:'a[data-type="education"]',placement:"left",title:"Add Education",content:"Add Education to your resume",hideOnClick:!0,appearCondition:function(){return 0==$('section[data-title="Educations"]').length}},window.current_user_tip_options.resume_add_skills={id:"resume_add_skills",element:'a[data-title="Skills"]',placement:"left",title:"Add Skills",content:"Add Skills to your resume",hideOnClick:!0,appearCondition:function(){return 0==$('section[data-title="Skills"]').length}},window.validationResumeForm=function(){var e;(e=$(this).find(".resume-edit form")).find(".has-error").removeClass("has-error"),e.validate({ignore:'[type="hidden"]',rules:{"section[description]":{required:!0}},submitHandler:function(e){return!(!$(e).valid()||$(e).attr("disabled"))&&($(e).data("remote")||e.submit(),!0)}})},$(document).ready(function(){$("#resume-templates-owl").owlCarousel({nav:!0,items:2,responsive:{0:{items:1},320:{items:2},480:{items:3},700:{items:3},975:{items:1},1200:{items:2},1400:{items:2},1600:{items:2}},navText:!1})}),$(document).ready(function(){0<$("#wizard-select-template").length&&($(".owl-carousel2").owlCarousel({nav:!0,items:2,responsive:{0:{items:1},320:{items:2},480:{items:2},700:{items:2},975:{items:2},1200:{items:2},1400:{items:2},1600:{items:2}},navText:!1}),$(document).on("submit","form#wizard-select-template-form",function(e){if($("#btn-wizard-step-2").addClass("disabled"),""==$("#resume_wizard_theme").val()){var t=$("#wizard-select-template .owl-item:nth-child(1) .template-thumb");return $("#wizard-select-template .template-thumb").removeClass("active"),t.addClass("active"),setTimeout(function(){$("#resume_wizard_theme").val(t.data("theme")),$("#wizard-select-template-form").submit()},500),e.preventDefault(),!1}}),$(document).on("click","#wizard-select-template .template-thumb",function(){var e=$(this).data("theme");$("#wizard-select-template .template-thumb").removeClass("active"),$(this).addClass("active"),$("#btn-wizard-step-2").removeClass("disabled"),$("#resume_wizard_theme").val(e)}))}),$(document).ready(function(){if($(".wizard-resume-datas-form").length){var o=function(){for(var e={},t=0;t<5;t++)e["user[user_positions_attributes]["+t+"][company_name]"]={required:function(t){return function(e){return""!=$(e).parents(".entry-item").find("input[name='user[user_positions_attributes]["+t+"][position]']").val()||""!=$(e).parents(".entry-item").find("textarea[name='user[user_positions_attributes]["+t+"][description]']").redactor("code.get")}}(t)},e["user[user_positions_attributes]["+t+"][position]"]={required:function(t){return function(e){return""!=$(e).parents(".entry-item").find("input[name='user[user_positions_attributes]["+t+"][company_name]']").val()||""!=$(e).parents(".entry-item").find("textarea[name='user[user_positions_attributes]["+t+"][description]']").redactor("code.get")}}(t)},e["user[user_educations_attributes]["+t+"][school]"]={required:function(t){return function(e){return""!=$(e).parents(".entry-item").find("select[name='user[user_educations_attributes]["+t+"][level_of_education]']").val()||""!=$(e).parents(".entry-item").find("textarea[name='user[user_educations_attributes]["+t+"][description]']").redactor("code.get")}}(t)},e["user[user_educations_attributes]["+t+"][level_of_education]"]={required:function(t){return function(e){return""!=$(e).parents(".entry-item").find("input[name='user[user_educations_attributes]["+t+"][school]']").val()||""!=$(e).parents(".entry-item").find("textarea[name='user[user_educations_attributes]["+t+"][description]']").redactor("code.get")}}(t)};return{rules:e}},a=function(){$(".wizard-resume-datas-form form textarea:visible").redactor(redactorOptions),$("[data-toggle='tooltip']").tooltip();var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/user_educations/autocompleate_university/?query=%QUERY"}});$("input.resume-wizard-school-field").typeahead({minLength:1},{source:e})};$(document).on("submit",".wizard-resume-datas-form form",function(e){return e.preventDefault(),!1}),$(document).on("click",'.wizard-resume-datas-form [data-toggle="step-wizard-datas"]',function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return!1;var t=$(this);if(parent=$("#resume-datas-accordion"),current_step=parent.find(".accordion-group.expanded .collapse"),current_step_form=current_step.find("form"),next_step=$(t.attr("href")),!next_step.is(current_step)&&next_step.length)if(current_step_form.validate(o()),current_step_form.valid()){$("#btn-wizard-next-step").attr("disabled","disabled"),$("#btn-wizard-next-step").addClass("disabled");var s=current_step_form.serialize();$.post("/resume_wizard/save",s,function(e){if($("#btn-wizard-next-step").removeAttr("disabled"),$("#btn-wizard-next-step").removeClass("disabled"),$(".wizard-resume-datas-form .error").remove(),e.success)current_step.collapse("hide"),next_step.collapse("show");else{for(var t in e.errors){var s=e.errors[t][0];$('<div class="error">'+s+".</div>").insertAfter("#user_"+t)}current_step_form.find("input.error, textarea.error, select.error").eq(0).focus(),$("html, body").animate({scrollTop:current_step.offset().top-36},200)}})}else current_step_form.find("input.error, textarea.error, select.error").eq(0).focus(),$("html, body").animate({scrollTop:current_step.offset().top-36},200)}),$("#resume-datas-accordion").on("hide",function(e){$(e.target).hasClass("collapse")&&$(e.target).parents(".accordion-group").eq(0).removeClass("expanded").find(".accordion-body").removeClass("opened-tips").find(".showed-tips").removeClass("showed-tips")}),$("#resume-datas-accordion").on("show",function(e){if($(e.target).hasClass("collapse")){$("#btn-wizard-step-3");var t=$(e.target),s=t.data("step"),o=t.data("next");t.parents(".accordion-group").eq(0).addClass("expanded"),$(".tips-sidebar-content .step-content").addClass("hidden"),$('.tips-sidebar-content .step-content[data-step="'+s+'"]').removeClass("hidden"),$("#btn-wizard-next-step").attr("href","#resume-datas-accordion-s"+o),"none"==o?($("#btn-wizard-next-step").hide(),$("#btn-wizard-final-step").show()):($("#btn-wizard-next-step").show(),$("#btn-wizard-final-step").hide()),setTimeout(function(){$("html, body").animate({scrollTop:t.offset().top-36},200)},350)}}),$(document).on("click","#btn-wizard-final-step",function(e){if(e.stopPropagation(),e.preventDefault(),$(this).hasClass("disabled"))return!1;$("#btn-wizard-final-step").attr("disabled","disabled"),$("#btn-wizard-final-step").addClass("disabled"),$(".wizard-resume-datas-form").block({message:"Processing..."});var t={};$(".wizard-resume-datas-form input[name=utf8]").remove(),$(".wizard-resume-datas-form input[name=authenticity_token]").remove();t=$(".wizard-resume-datas-form form").serialize();$.post("/resume_wizard/create",t,function(e){1==e.success?window.location.href=e.redirect_to:window.location.href="/resume-builder"})}),$(document).on("click","#resume-datas-accordion .list-entries .remove-entry",function(){$(this).parents(".entry-item").eq(0).slideUp("normal",function(){$(this).remove()}),$('[data-toggle="tooltip"]').data("tooltip",!1).tooltip(),$("body .tooltip").remove()}),$(document).on("click",'[data-toggle="add-new-entry"]',function(){var e=$(this),t=e.data("url"),s=$(e.data("parent")),o=s.find(".entry-item").size();$('.wizard-resume-datas-form [data-toggle="tips-n-examples"].showed-tips').removeClass("showed-tips"),$(".wizard-resume-datas-form .accordion-body.opened-tips").removeClass("opened-tips"),$(".wizard-resume-datas-form").block({message:"Processing..."}),$.get(t+"?index="+o,function(e){var t=$(e).find(".entry-item");t.hide(),$(s).append(t),t.slideDown("normal"),$(".wizard-resume-datas-form").unblock(),a()})}),a()}});