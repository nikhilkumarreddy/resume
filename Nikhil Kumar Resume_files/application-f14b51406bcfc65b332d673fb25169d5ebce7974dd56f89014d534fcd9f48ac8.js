function setFreeTrial(e){0==e.data("trial")?($(".text-trial").hide(),$("#charged").css("text-decoration","none")):($(".text-trial").show(),$("#charged").css("text-decoration","line-through"))}function setSocialType(t){$("#tab-signup-form .auth-other a.btn-full").each(function(){var e=$(this);e.attr("href","/users/auth/"+e.data("type")+"?state=auth&role="+t)})}function is_touch_device(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints}function closeShareModal(){$("#modal-pinterest-follow").modal("show"),window.removeEventListener("focus",closeShareModal,!1)}!function(t){"use strict";t(function(){var e;t.support.transition=(e=function(){var e,t=document.createElement("bootstrap"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in a)if(t.style[e]!==undefined)return a[e]}())&&{end:e}})}(window.jQuery),function(l){"use strict";var i=function(e,t){this.options=l.extend({},l.fn.affix.defaults,t),this.$window=l(window).on("scroll.affix.data-api",l.proxy(this.checkPosition,this)).on("click.affix.data-api",l.proxy(function(){setTimeout(l.proxy(this.checkPosition,this),1)},this)),this.$element=l(e),this.checkPosition()};i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,t=l(document).height(),a=this.$window.scrollTop(),n=this.$element.offset(),i=this.options.offset,r=i.bottom,o=i.top,s="affix affix-top affix-bottom";"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top()),"function"==typeof r&&(r=i.bottom()),e=!(null!=this.unpin&&a+this.unpin<=n.top)&&(null!=r&&n.top+this.$element.height()>=t-r?"bottom":null!=o&&a<=o&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?n.top-a:null,this.$element.removeClass(s).addClass("affix"+(e?"-"+e:"")))}};var e=l.fn.affix;l.fn.affix=function(n){return this.each(function(){var e=l(this),t=e.data("affix"),a="object"==typeof n&&n;t||e.data("affix",t=new i(this,a)),"string"==typeof n&&t[n]()})},l.fn.affix.Constructor=i,l.fn.affix.defaults={offset:0},l.fn.affix.noConflict=function(){return l.fn.affix=e,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var e=l(this),t=e.data();t.offset=t.offset||{},t.offsetBottom&&(t.offset.bottom=t.offsetBottom),t.offsetTop&&(t.offset.top=t.offsetTop),e.affix(t)})})}(window.jQuery),function(r){"use strict";var t='[data-dismiss="alert"]',n=function(e){r(e).on("click",t,this.close)};n.prototype.close=function(e){function t(){a.trigger("closed").remove()}var a,n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),a=r(i),e&&e.preventDefault(),a.length||(a=n.hasClass("alert")?n:n.parent()),a.trigger(e=r.Event("close")),e.isDefaultPrevented()||(a.removeClass("in"),r.support.transition&&a.hasClass("fade")?a.on(r.support.transition.end,t):t())};var e=r.fn.alert;r.fn.alert=function(a){return this.each(function(){var e=r(this),t=e.data("alert");t||e.data("alert",t=new n(this)),"string"==typeof a&&t[a].call(e)})},r.fn.alert.Constructor=n,r.fn.alert.noConflict=function(){return r.fn.alert=e,this},r(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),function(i){"use strict";var r=function(e,t){this.$element=i(e),this.options=i.extend({},i.fn.button.defaults,t)};r.prototype.setState=function(e){var t="disabled",a=this.$element,n=a.data(),i=a.is("input")?"val":"html";e+="Text",n.resetText||a.data("resetText",a[i]()),a[i](n[e]||this.options[e]),setTimeout(function(){"loadingText"==e?a.addClass(t).attr(t,t):a.removeClass(t).removeAttr(t)},0)},r.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var e=i.fn.button;i.fn.button=function(n){return this.each(function(){var e=i(this),t=e.data("button"),a="object"==typeof n&&n;t||e.data("button",t=new r(this,a)),"toggle"==n?t.toggle():n&&t.setState(n)})},i.fn.button.defaults={loadingText:"loading..."},i.fn.button.Constructor=r,i.fn.button.noConflict=function(){return i.fn.button=e,this},i(document).on("click.button.data-api","[data-toggle^=button]",function(e){var t=i(e.target);t.hasClass("btn")||(t=t.closest(".btn")),t.button("toggle")})}(window.jQuery),function(r){"use strict";var i=function(e,t){this.$element=r(e),this.options=r.extend({},r.fn.collapse.defaults,t),this.options.parent&&(this.$parent=r(this.options.parent)),this.options.toggle&&this.toggle()};i.prototype={constructor:i,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var e,t,a,n;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),t=r.camelCase(["scroll",e].join("-")),(a=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&a.length){if((n=a.data("collapse"))&&n.transitioning)return;a.collapse("hide"),n||a.data("collapse",null)}this.$element[e](0),this.transition("addClass",r.Event("show"),"shown"),r.support.transition&&this.$element[e](this.$element[0][t])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",r.Event("hide"),"hidden"),this.$element[e](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(e,t,a){var n=this,i=function(){"show"==t.type&&n.reset(),n.transitioning=0,n.$element.trigger(a)};this.$element.trigger(t),t.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),r.support.transition&&this.$element.hasClass("collapse")?this.$element.one(r.support.transition.end,i):i())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var e=r.fn.collapse;r.fn.collapse=function(n){return this.each(function(){var e=r(this),t=e.data("collapse"),a=r.extend({},r.fn.collapse.defaults,e.data(),"object"==typeof n&&n);t||e.data("collapse",t=new i(this,a)),"string"==typeof n&&t[n]()})},r.fn.collapse.defaults={toggle:!0},r.fn.collapse.Constructor=i,r.fn.collapse.noConflict=function(){return r.fn.collapse=e,this},r(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var t,a=r(this),n=a.attr("data-target")||e.preventDefault()||(t=a.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""),i=r(n).data("collapse")?"toggle":a.data();a[r(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),r(n).collapse(i)})}(window.jQuery),function(o){"use strict";function n(){o(l).each(function(){s(o(this)).removeClass("open")})}function s(e){var t,a=e.attr("data-target");return a||(a=(a=e.attr("href"))&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,"")),(t=a&&o(a))&&t.length||(t=e.parent()),t}var l="[data-toggle=dropdown]",i=function(e){var t=o(e).on("click.dropdown.data-api",this.toggle);o("html").on("click.dropdown.data-api",function(){t.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var e,t,a=o(this);if(!a.is(".disabled, :disabled"))return t=(e=s(a)).hasClass("open"),n(),t||e.toggleClass("open"),a.focus(),!1},keydown:function(e){var t,a,n,i,r;if(/(38|40|27)/.test(e.keyCode)&&(t=o(this),e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled"))){if(!(i=(n=s(t)).hasClass("open"))||i&&27==e.keyCode)return 27==e.which&&n.find(l).focus(),t.click();(a=o("[role=menu] li:not(.divider):visible a",n)).length&&(r=a.index(a.filter(":focus")),38==e.keyCode&&0<r&&r--,40==e.keyCode&&r<a.length-1&&r++,~r||(r=0),a.eq(r).focus())}}};var e=o.fn.dropdown;o.fn.dropdown=function(a){return this.each(function(){var e=o(this),t=e.data("dropdown");t||e.data("dropdown",t=new i(this)),"string"==typeof a&&t[a].call(e)})},o.fn.dropdown.Constructor=i,o.fn.dropdown.noConflict=function(){return o.fn.dropdown=e,this},o(document).on("click.dropdown.data-api",n).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",l,i.prototype.toggle).on("keydown.dropdown.data-api",l+", [role=menu]",i.prototype.keydown)}(window.jQuery),function(r){"use strict";function i(e,t){var a,n=r.proxy(this.process,this),i=r(e).is("body")?r(window):r(e);this.options=r.extend({},r.fn.scrollspy.defaults,t),this.$scrollElement=i.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(a=r(e).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=r("body"),this.refresh(),this.process()}i.prototype={constructor:i,refresh:function(){var n=this;this.offsets=r([]),this.targets=r([]),this.$body.find(this.selector).map(function(){var e=r(this),t=e.data("target")||e.attr("href"),a=/^#\w/.test(t)&&r(t);return a&&a.length&&[[a.position().top+(!r.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,a=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,i=this.targets,r=this.activeTarget;if(a<=t)return r!=(e=i.last()[0])&&this.activate(e);for(e=n.length;e--;)r!=i[e]&&t>=n[e]&&(!n[e+1]||t<=n[e+1])&&this.activate(i[e])},activate:function(e){var t,a;this.activeTarget=e,r(this.selector).parent(".active").removeClass("active"),a=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',(t=r(a).parent("li").addClass("active")).parent(".dropdown-menu").length&&(t=t.closest("li.dropdown").addClass("active")),t.trigger("activate")}};var e=r.fn.scrollspy;r.fn.scrollspy=function(n){return this.each(function(){var e=r(this),t=e.data("scrollspy"),a="object"==typeof n&&n;t||e.data("scrollspy",t=new i(this,a)),"string"==typeof n&&t[n]()})},r.fn.scrollspy.Constructor=i,r.fn.scrollspy.defaults={offset:10},r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=e,this},r(window).on("load",function(){r('[data-spy="scroll"]').each(function(){var e=r(this);e.scrollspy(e.data())})})}(window.jQuery),function(o){"use strict";var n=function(e){this.element=o(e)};n.prototype={constructor:n,show:function(){var e,t,a,n=this.element,i=n.closest("ul:not(.dropdown-menu)"),r=n.attr("data-target");r||(r=(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(e=i.find(".active:last a")[0],a=o.Event("show",{relatedTarget:e}),n.trigger(a),a.isDefaultPrevented()||(t=o(r),this.activate(n.parent("li"),i),this.activate(t,t.parent(),function(){n.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,t,a){function n(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var i=t.find("> .active"),r=a&&o.support.transition&&i.hasClass("fade");r?i.one(o.support.transition.end,n):n(),i.removeClass("in")}};var e=o.fn.tab;o.fn.tab=function(a){return this.each(function(){var e=o(this),t=e.data("tab");t||e.data("tab",t=new n(this)),"string"==typeof a&&t[a]()})},o.fn.tab.Constructor=n,o.fn.tab.noConflict=function(){return o.fn.tab=e,this},o(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),o(this).tab("show")})}(window.jQuery),function(l){"use strict";var i=function(e,t){this.init("tooltip",e,t)};i.prototype={constructor:i,init:function(e,t,a){var n,i,r,o,s;for(this.type=e,this.$element=l(t),this.options=this.getOptions(a),this.enabled=!0,s=(r=this.options.trigger.split(" ")).length;s--;)"click"==(o=r[s])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=o&&(n="hover"==o?"mouseenter":"focus",i="hover"==o?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=l.extend({},l.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var t,a=l.fn[this.type].defaults,n={};if(this._options&&l.each(this._options,function(e,t){a[e]!=t&&(n[e]=t)},this),!(t=l(e.currentTarget)[this.type](n).data(this.type)).options.delay||!t.options.delay.show)return t.show();clearTimeout(this.timeout),t.hoverState="in",this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},leave:function(e){var t=l(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!t.options.delay||!t.options.delay.hide)return t.hide();t.hoverState="out",this.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},show:function(){var e,t,a,n,i,r,o=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(o),o.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),i="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),t=this.getPosition(),a=e[0].offsetWidth,n=e[0].offsetHeight,i){case"bottom":r={top:t.top+t.height,left:t.left+t.width/2-a/2};break;case"top":r={top:t.top-n,left:t.left+t.width/2-a/2};break;case"left":r={top:t.top+t.height/2-n/2,left:t.left-a};break;case"right":r={top:t.top+t.height/2-n/2,left:t.left+t.width}}this.applyPlacement(r,i),this.$element.trigger("shown")}},applyPlacement:function(e,t){var a,n,i,r,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(e).addClass(t).addClass("in"),a=o[0].offsetWidth,n=o[0].offsetHeight,"top"==t&&n!=l&&(e.top=e.top+l-n,r=!0),"bottom"==t||"top"==t?(i=0,e.left<0&&(i=-2*e.left,e.left=0,o.offset(e),a=o[0].offsetWidth,n=o[0].offsetHeight),this.replaceArrow(i-s+a,a,"left")):this.replaceArrow(n-l,n,"top"),r&&o.offset(e)},replaceArrow:function(e,t,a){this.arrow().css(a,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){t.off(l.support.transition.end).detach()},500);t.one(l.support.transition.end,function(){clearTimeout(e),t.detach()})}var t=this.tip(),a=l.Event("hide");if(this.$element.trigger(a),!a.isDefaultPrevented())return t.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?e():t.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return l.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var t=e?l(e.currentTarget)[this.type](this._options).data(this.type):this;t.tip().hasClass("in")?t.hide():t.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var e=l.fn.tooltip;l.fn.tooltip=function(n){return this.each(function(){var e=l(this),t=e.data("tooltip"),a="object"==typeof n&&n;t||e.data("tooltip",t=new i(this,a)),"string"==typeof n&&t[n]()})},l.fn.tooltip.Constructor=i,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=e,this}}(window.jQuery),function(i){"use strict";var r=function(e,t){this.init("popover",e,t)};r.prototype=i.extend({},i.fn.tooltip.Constructor.prototype,{constructor:r,setContent:function(){var e=this.tip(),t=this.getTitle(),a=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](a),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return("function"==typeof t.content?t.content.call(e[0]):t.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=i(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var e=i.fn.popover;i.fn.popover=function(n){return this.each(function(){var e=i(this),t=e.data("popover"),a="object"==typeof n&&n;t||e.data("popover",t=new r(this,a)),"string"==typeof n&&t[n]()})},i.fn.popover.Constructor=r,i.fn.popover.defaults=i.extend({},i.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.fn.popover.noConflict=function(){return i.fn.popover=e,this}}(window.jQuery),function(){window.SocialShareButton={openUrl:function(e,t,a){return"true"!==t?(window.open(e),!1):(window.open(e,"popup","height=500,width=500"),"true"===a&&void 0!==closeShareModal?window.addEventListener("focus",closeShareModal,!1):void 0)},share:function(a){var e,t,n,i,r,o,s,l,c,d,u,p;switch(s=$(a).data("site"),t=$(a).data("appkey")||"",e=$(a).parent(),l=encodeURIComponent($(a).data(s+"-title")||e.data("title")||""),r=encodeURIComponent(e.data("img")||""),d=encodeURIComponent(e.data("url")||""),u=encodeURIComponent(e.data("via")||""),n=encodeURIComponent(e.data("desc")||" "),o=encodeURIComponent(e.data("popup")||"false"),0===d.length&&(d=encodeURIComponent(location.href)),s){case"email":SocialShareButton.openUrl("https://mail.google.com/mail/?view=cm&fs=1&su="+l+"&body="+d+"&tf=1");break;case"linkedin":SocialShareButton.openUrl("http://www.linkedin.com/shareArticle?mini=true&url="+d+"&title="+l,o);break;case"weibo":SocialShareButton.openUrl("http://service.weibo.com/share/share.php?url="+d+"&type=3&pic="+r+"&title="+l+"&appkey="+t,o);break;case"twitter":p="",0<u.length&&(p="&via="+u),SocialShareButton.openUrl("https://twitter.com/intent/tweet?url="+d+"&text="+l+p,o);break;case"douban":SocialShareButton.openUrl("http://shuo.douban.com/!service/share?href="+d+"&name="+l+"&image="+r+"&sel="+n,o);break;case"facebook":SocialShareButton.openUrl("http://www.facebook.com/sharer.php?u="+d,o);break;case"qq":SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+d+"&title="+l+"&pics="+r+"&summary="+n+"&site="+t,o);break;case"tqq":SocialShareButton.openUrl("http://share.v.t.qq.com/index.php?c=share&a=index&url="+d+"&title="+l+"&pic="+r+"&appkey="+t,o);break;case"baidu":SocialShareButton.openUrl("http://hi.baidu.com/pub/show/share?url="+d+"&title="+l+"&content="+n,o);break;case"kaixin001":SocialShareButton.openUrl("http://www.kaixin001.com/rest/records.php?url="+d+"&content="+l+"&style=11&pic="+r+"&aid="+t,o);break;case"renren":SocialShareButton.openUrl("http://widget.renren.com/dialog/share?resourceUrl="+d+"&srcUrl="+d+"&title="+l+"&pic="+r+"&description="+n,o);break;case"google_plus":SocialShareButton.openUrl("https://plus.google.com/share?url="+d,o);break;case"google_bookmark":SocialShareButton.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+d+"&title="+l,o);break;case"delicious":SocialShareButton.openUrl("http://www.delicious.com/save?url="+d+"&title="+l+"&jump=yes&pic="+r,o);break;case"plurk":SocialShareButton.openUrl("http://www.plurk.com/?status="+l+": "+d+"&qualifier=shares",o);break;case"pinterest":SocialShareButton.openUrl("http://www.pinterest.com/pin/create/button/?url="+d+"&media="+r+"&description="+l,o,"true");break;case"tumblr":i=function(e){var t;if(t=$(a).attr("data-"+e))return encodeURIComponent(t)},c=function(){var e,t,a,n;return t=i("type")||"link",e=function(){switch(t){case"text":return"title="+(l=i("title")||l);case"photo":return l=i("caption")||l,n=i("source")||r,"caption="+l+"&source="+n;case"quote":return a=i("quote")||l,n=i("source")||"","quote="+a+"&source="+n;default:return l=i("title")||l,d=i("url")||d,"name="+l+"&url="+d}}(),"/"+t+"?"+e},SocialShareButton.openUrl("http://www.tumblr.com/share"+c(),o)}return!1}}}.call(this),function(){$(document).ready(function(){return $("form[data-validate-form]").each(function(){return $(this).validate({submitHandler:function(e){return $(e).valid()}})})})}.call(this),function(){$(document).ready(function(){return $("#brand_write_review").validate({submitHandler:function(e){var t;return!(!$(e).valid()||$(e).attr("disabled"))&&((t=$(".wrapper-rating-progressbar")).length&&t.find("input.rating-review-brand").length&&0===t.find("input.rating-review-brand:checked").length?(t.addClass("has-error validation-show-always"),!1):(t.removeClass("has-error validation-show-always"),$(e).data("remote")||e.submit(),!0))}})})}.call(this),function(){window.validate=!0,$(document).ready(function(){var e;return $(document).on("ajax:beforeSend",'form[data-toggle="fbin-validation"]',function(){return $(this).find("[type=submit]").addClass("disabled"),$(this).find("[type=submit]").attr("disabled","disabled")}),$(document).on("ajax:success, ajax:error",'form[data-toggle="fbin-validation"]',function(){return $(this).find("[type=submit]").removeClass("disabled"),$(this).find("[type=submit]").removeAttr("disabled","disabled")}),e={"user[name]":{required:"Full Name cannot be blank."},"user[password]":{required:"Password cannot be blank."},"user[email]":{required:"Email cannot be blank.",email:"Please include a valid email address."}},$(document).on("keypress",'form[data-toggle="fbin-validation"] input',function(e){if(13===e.which)return e.preventDefault(),window.validate=!1,$(this).closest('form[data-toggle="fbin-validation"]').trigger("submit")}),$('form[data-toggle="fbin-validation"]').validate({messages:e,submitHandler:function(e){var t,a,n,i;return i=(a=$(e).find(".step-form.active")).next(".step-form"),!$(e).valid()||$(e).attr("disabled")||i.length?(window.validate||0!==a.find(".input.required.has-error").size()||(window.validate=!0),window.validate&&(window.validate=!0,t=a.data("step"),n=i.data("step"),$(e).find('[data-step="'+t+'"]:not(.step-form)').hide(),$(e).find('[data-step="'+n+'"]:not(.step-form)').show(),a.hide().removeClass("active"),i.fadeIn(300).addClass("active"),i.find('input:not([type="hidden"])').trigger("focusout"),i.find('input:not([type="hidden"])').eq(0).focus()),!1):($(e).data("remote")||e.submit(),!0)}}),$(document).on("click",'form[data-toggle="fbin-validation"] [data-toggle="back-step"]',function(e){var t,a,n,i,r;return e.preventDefault(),n=$(this).closest('form[data-toggle="fbin-validation"]'),r=(a=$(n).find(".step-form.active")).prev(".step-form"),t=a.data("step"),i=r.data("step"),$(n).find('[data-step="'+t+'"]:not(.step-form)').hide(),$(n).find('[data-step="'+i+'"]:not(.step-form)').show(),a.hide().removeClass("active"),r.fadeIn(300).addClass("active"),r.find('input:not([type="hidden"])').eq(0).focus()})})}.call(this),function(){$(document).ready(function(){var e,t;return t={"support[email]":{required:!0,email:!0},"support[inquiry]":{required:!0}},e={"support[email]":{required:"This field is required.",email:"Your email address is invalid. Please enter a valid address."},"support[inquiry]":{required:"This field is required."}},$("#support-form").validate({rules:t,messages:e,submitHandler:function(e){return!(!$(e).valid()||$(e).attr("disabled"))&&($(e).data("remote")||e.submit(),!0)}})})}.call(this),function(){$(document).ready(function(){var e,t;return t={"user[name]":{required:!0},"user[email]":{required:!0,email:!0},"user[password]":{required:!0}},e={"user[name]":{required:"This field is required."},"user[email]":{required:"This field is required.",email:"Your email address is invalid. Please enter a valid address."},"user[password]":{required:"This field is required."}},$("#university_platform_register, #outplacement_demo_register, #download_the_guide_form").validate({rules:t,messages:e,submitHandler:function(e){return!(!$(e).valid()||$(e).attr("disabled"))&&($(e).data("remote")||e.submit(),!0)}})})}.call(this),$(document).ready(function(){if($("#resume-templates-small-owl .owl-carousel").length){var e=0;$("#resume-templates-small-owl").hasClass("resume-templates-owl2")&&(e=5),$("#resume-templates-small-owl .owl-carousel").owlCarousel({nav:!0,items:2,margin:e,responsive:{0:{items:1},320:{items:2},480:{items:3},700:{items:1},975:{items:1},1200:{items:2},1400:{items:2},1600:{items:2}},navText:!1})}}),function(){window.job_apply={init:function(){return this.applyJob(),this.recruitingClick()},applyJob:function(){return $(".set-apply-job").click(function(){return $.get("/index/set_apply_job",{job_id:$(this).data("job"),apply:$(this).data("apply")})})},recruitingClick:function(){return $(".recruiting_click").click(function(){return $.get("/index/recruiting_click",{type:$(this).data("type")})})}},$(document).ready(function(){return job_apply.init()})}.call(this),function(){$(function(){return $(".bill-period label").on("click",function(){var e,t;return(e=$(this).closest(".bill-periods")).find(".bill-period_checked").removeClass("bill-period_checked"),$(this).parent().addClass("bill-period_checked"),t=$(this).find("strong").text(),e.find(".bill-total").text(t)})})}.call(this),$(function(){if($(document).on("click",".talent-rating .star-rating",function(){$.getScript($(this).find("a").attr("title"))}),$(document).on("click",".talent-item .btn-talent-add-note",function(e){e.preventDefault();var t=$(this).closest(".talent-item").find(".wrapper-talent-note"),a=t.find("textarea");t.addClass("editable-note"),setTimeout(function(){a.focus()},100)}),$(document).on("click",".wrapper-talent-note .btn-flat-cancel",function(e){e.preventDefault(),$(this).closest(".talent-item").find(".wrapper-talent-note").removeClass("editable-note")}),$("#my_candidates_container").length&&$("#toggle-view-candidates").length){var e,t=localStorage.getItem("toggle-view-candidates"),a=$("#toggle-view-candidates");t?(e="candidates-view-"+t,$("body").addClass(e),a.val(t)):(e="candidates-view-"+a.val(),$("body").addClass(e))}$(document).on("change","#toggle-view-candidates",function(){var e=$(this).val(),t="candidates-view-"+e;localStorage.setItem("toggle-view-candidates",e),$("body").attr("class",$("body").attr("class").replace(/\bcandidates-view-\d+\b/g,"")).addClass(t)})}),$(function(){$("#choose-membership-with-trial")[0]!=undefined&&(setFreeTrial($('.premium-variants input[name="plan_id"]').filter(":checked")),$('.premium-variants input[name="plan_id"]').on("change",function(){setFreeTrial($(this))}));$('#choose-membership-with-trial input[name="in-membership"]').on("change",function(){var e=$(this),t=e.is(":checked"),a=e.closest(".item-variant-membership"),n=e.val(),i=a.closest(".wrapper-list-variants-membership"),r=$("#submit-button-for-basic");t?(i.find(".item-variant-membership.selected-plan").removeClass("selected-plan"),a.addClass("selected-plan"),i.find(".item-variant-membership").not(".selected-plan").each(function(){var e=$(this).find('input[name="in-membership"]');e.is(":checked")&&e.click()}),0!=n?r.addClass("hidden disabled").prop("disabled",!0):r.removeClass("disabled").removeProp("disabled")):(a.removeClass("selected-plan"),0!=n?r.removeClass("hidden"):r.addClass("disabled").prop("disabled",!0))})}),function(){window.company={init:function(){return this.changeCompanyName(),this.changeCompanySlug(),this.uploadLogo()},changeCompanyName:function(){return $('#my-company input[name="user_company[name]"]').change(function(){var e,t;return e=$(this).val(),t=$('#my-company input[name="user_company[slug]"]'),$.get("/my-company/get_company_subdomain?name="+e,function(e){return t.val(e.subdomain)})})},changeCompanySlug:function(){return $('#my-company input[name="user_company[slug]"]').keyup(function(e){var t;if(57<e.keyCode||e.keyCode<=32)return(t=$(this)).val(t.val().replace(/[^a-z0-9\-]/,function(){return $.pnotify({text:"Please enter valid subdomain name",type:"error"}),""}))})},uploadLogo:function(){var t;return t={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},$('#my-company input[name="user_company[logo]"]').fileupload({dataType:"script",beforeSend:function(){var e;return e=$(".wrapper-blank-logo").parents(".inner")[0],new Spinner(t).spin(e)}})}},$(document).ready(function(){if(void 0!==$("#my-company")[0])return window.company.init()})}.call(this),$(function(){function e(){var e={displayMode:"markers",backgroundColor:"#FBFBFB",colorAxis:{colors:["#777","#333"]},enableRegionInteractivity:!0},t=[["City","Employees Percentage",{role:"tooltip"}]],n=[],i=[];$("#statistic_location_list .table-statistic-lines .row-st").each(function(){$(this)[0].innerHTML;var e=$(this).find(".country-text").attr("d"),t=$(this).find(".col-legend.col-item").html().split("\n")[1].trim(),a=parseFloat($(this).find(".complete-text").html().replace("%",""));n.push([t,a,"Employees: "+a+"%"]),"United States"==e&&i.push([t,a,"Employees: "+a+"%"]),n.length}),.9<i.length/n.length?(e.region="US",e.resolution="provinces",t=t.concat(i)):t=t.concat(n);var a=new google.visualization.GeoChart(document.getElementById("statistic_location_map_placeholder")),r=google.visualization.arrayToDataTable(t);a.draw(r,e),$("#statistic_location_list .table-statistic-lines .row-st .country-text").each(function(){$(this).html($(this).attr("d"))})}0<$("#company_statistic_tabs").length&&($("#company_statistic_tabs.nav-tabs a").on("click",function(e){$(this).tab("show"),e.preventDefault()}),$(window).on("resize",function(){e()}),google.setOnLoadCallback(e),$(document).on("click",".wrapper-table-statistics .wrapper-show-more .btn",function(e){e.preventDefault();var t=$(this).closest(".wrapper-table-statistics"),a=t.find(".body-st.showed-group-row:last").next(".body-st");t.block({message:null}),setTimeout(function(){a.addClass("showed-group-row"),t.unblock(),a.next(".body-st").length||t.addClass("showed-full-content")},150)}))}),$(document).ready(function(){function t(a){var e=[$(".btn-view-report"),$(".btn-download-report")];jQuery.each(e,function(e,t){t[0].disabled=a})}if("undefined"!=typeof $("#user-company-reports")[0]){var o=!1;$(document).on("change","#company_id",function(){var e={company_id:$(this).val()};t(!0),$.get("/gratitude-employer-branding/generate-hash",e,function(e){$("#hash").val(e.hash),t(!1)})}),$(document).on("change","#datapicker-jump-to",function(){if(""!=$(this).val()&&"custom-period"!=$(this).val()){var e=$(this).find("option:selected"),t=new Date(e.data("period-from")),a=new Date(e.data("period-to")),n=$("#datapickerEndDate"),i=$("#datapickerStartDate");o=!0,n.datepicker("setStartDate",t).datepicker("setDate",a),n.find(".date-value-text").text(e.data("period-to")),o=!0,i.datepicker("setEndDate",a).datepicker("setDate",t),i.find(".date-value-text").text(e.data("period-from")),$("#period_from").val(t)}}),$("#datapickerStartDate").datepicker({startView:"days",orientation:"top left",autoclose:!0,todayHighlight:!0,minViewMode:"days",format:"MM d, yyyy",endDate:new Date(date_to)}).datepicker("setDate",new Date(date_from)).on("changeDate",function(e){if(e.date)if(o)o=!1;else{var t=$(e.target),a=t.datepicker("getFormattedDate"),n=e.date.getFullYear(),i=e.date.getMonth()+1,r=e.date.getDate();$("#datapickerEndDate"),i=i<10?"0"+i:i;r=r<10?"0"+r:r,dateFormatted=n+"-"+i+"-"+r,$("input#period_from").val(dateFormatted),t.find(".date-value-text").text(a),$("body").removeClass("datapicker-opened"),$(".wrapper-datapicker.opened").removeClass("opened"),$("#datapicker-jump-to").find("option").attr("selected",!1),$("#datapicker-jump-to").val("custom-period")}else $("#datapickerStartDate").datepicker("setDate",new Date($(e.target).find(
".date-value-text").text()))}),$("#datapickerEndDate").datepicker({startView:"days",orientation:"top left",autoclose:!0,todayHighlight:!0,minViewMode:"days",format:"MM d, yyyy",startDate:new Date(date_from)}).datepicker("setDate",new Date(date_to)).on("changeDate",function(e){if(e.date)if(o)o=!1;else{var t=$(e.target),a=t.datepicker("getFormattedDate"),n=e.date.getFullYear(),i=e.date.getMonth()+1,r=e.date.getDate();$("#datapickerStartDate").datepicker("getDate");i=i<10?"0"+i:i,r=r<10?"0"+r:r,dateFormatted=n+"-"+i+"-"+r,$("input#period_to").val(dateFormatted),t.find(".date-value-text").text(a),$("body").removeClass("datapicker-opened"),$(".wrapper-datapicker.opened").removeClass("opened"),$("#datapicker-jump-to").find("option").attr("selected",!1),$("#datapicker-jump-to").val("custom-period")}else $("#datapickerEndDate").datepicker("setDate",new Date($(e.target).find(".date-value-text").text()))}),$(document).on("click",'[data-toggle="datapicker"]',function(){var e=$(this).closest(".wrapper-datapicker"),t=e.hasClass("opened");$("body").removeClass("datapicker-opened"),$(".wrapper-datapicker.opened").removeClass("opened"),t||(e.addClass("opened"),$("body").addClass("datapicker-opened"))}),$(document).on("click",".datapicker-opened",function(e){var t=$(".wrapper-datapicker.opened");t.is(e.target)||0!==t.has(e.target).length||($("body").removeClass("datapicker-opened"),$(".wrapper-datapicker.opened").removeClass("opened"))})}}),$(function(){$(".earn.earn_upgrade, .earn.earn_refer").click(function(){window.location.href=$("a",$(this)).attr("href")}),$(".earn.earn_twitter, .earn.earn_linked_in").on("click",function(){$(this);var t=$(this).attr("kind"),e="share_on_linkedin"==t?"600":"800",a=window.open($(this).attr("href"),"intent","width="+e+",height=345"),n=function(){try{null==a.opener?($("div[kind="+t+"]").fadeOut(),$.post("/credits",{kind:t})):setTimeout(n,500)}catch(e){setTimeout(n,500)}};return n(),!1}),$(".earn.earn_fb").on("click",function(){$(this);var a=$(this).attr("kind"),n=window.open($(this).attr("href"),"intent","width=800,height=320"),i=function(){try{var e=n.location.href;e&&"about:blank"!=e?(/post_id/.test(e)&&($("div[kind="+a+"]").fadeOut(),$.post("/credits",{kind:a})),n.close()):setTimeout(i,500)}catch(t){setTimeout(i,1e3)}};return i(),!1})}),function(){var a;a={init:function(){return this.detectElements(),this.clickUser(),this.groupAction(),this.addBlacklist(),this.loadLater()},detectElements:function(){var e;return e={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:17,left:80},this.spinner=new Spinner(e).spin()},addBlacklist:function(){return $(document).on("change","#blacklist",function(){var e;return e=this.checked?"add":"remove",$.getJSON($(this).data("url"),{type:e})})},clickUser:function(){return $(".customer_service tbody tr td").click(function(e){if("A"!==e.target.tagName)return e.preventDefault(),location.href=$(this).parents("tr").data("url")})},groupAction:function(){return a.href_approve=$("#group-action-dropdown a.approve").attr("href"),a.href_decline=$("#group-action-dropdown a.decline").attr("href"),$("input[name=history]").on("change",function(){var e,t;0<(t=$("table > tbody > tr > td input[name=history]:checked")).length?($("#group-action-dropdown span").html("Selected "+t.length),$("#group-action-dropdown").show(),e="",t.each(function(){e+="ids[]="+$(this).val()+"&"}),$("#group-action-dropdown a.approve").attr("href",a.href_approve+"?"+e),$("#group-action-dropdown a.decline").attr("href",a.href_decline+"?"+e)):($("#group-action-dropdown").hide(),$("#group-action-dropdown a.decline").attr("href",a.href_decline),$("#group-action-dropdown a.approve").attr("href",a.href_approve))})},loadLater:function(){return $(".load-later").each(function(){return $(this).html($(a.spinner.el).clone()),$.get($(this).data("url"))})}},$(document).ready(function(){return a.init()})}.call(this),$(function(){if($(".table-company-members-vj").length){var e=$(".table-company-members-vj tbody").find("tr").length,t=$(".table-company-members-vj");$.extend($.fn.dataTableExt.oStdClasses,{sTable:"vj-dataTable",sNoFooter:"vj-no-footer",sPageButton:"vj-paginate_button",sPageButtonActive:"vj-current",sPageButtonDisabled:"vj-disabled",sStripeOdd:"vj-odd",sStripeEven:"vj-even",sRowEmpty:"vj-dataTables_empty",sWrapper:"vj-dataTables_wrapper",sFilter:"vj-dataTables_filter",sInfo:"vj-dataTables_info",sPaging:"vj-dataTables_paginate paging_",sLength:"vj-dataTables_length",sProcessing:"vj-dataTables_processing",sSortAsc:"vj-sorting_asc",sSortDesc:"vj-sorting_desc",sSortable:"vj-sorting",sSortableAsc:"vj-sorting_asc_disabled",sSortableDesc:"vj-sorting_desc_disabled",sSortableNone:"vj-sorting_disabled",sSortColumn:"vj-sorting_",sFilterInput:"vj-filter-input",sLengthSelect:"vj-length-select",sScrollWrapper:"vj-dataTables_scroll",sScrollHead:"vj-dataTables_scrollHead",sScrollHeadInner:"vj-dataTables_scrollHeadInner",sScrollBody:"vj-dataTables_scrollBody",sScrollFoot:"vj-dataTables_scrollFoot",sScrollFootInner:"vj-dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var a="",n=(a="")+"vj-state-default",i=a+"vj-css_right vj-icon vj-icon-",r=a+"vj-fg-toolbar vj-toolbar vj-widget-header vj-helper-clearfix";$.extend($.fn.dataTableExt.oJUIClasses,{sPageButton:"vj-fg-button vj-button "+n,sPageButtonActive:"vj-state-disabled",sPageButtonDisabled:"vj-state-disabled",sPaging:"vj-dataTables_paginate vj-fg-buttonset vj-buttonset vj-fg-buttonset-multi vj-buttonset-multi vj-paging_",sSortAsc:n+" vj-sorting_asc",sSortDesc:n+" vj-sorting_desc",sSortable:n+" vj-sorting",sSortableAsc:n+" vj-sorting_asc_disabled",sSortableDesc:n+" vj-sorting_desc_disabled",sSortableNone:n+" vj-sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"vj-DataTables_sort_wrapper",sSortIcon:"vj-DataTables_sort_icon",sScrollHead:"vj-dataTables_scrollHead "+n,sScrollFoot:"vj-dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:r+" vj-corner-tl vj-corner-tr",sJUIFooter:r+" vj-corner-bl vj-corner-br"}),t.DataTable({columns:[null,null,null,null,null,{orderable:!1}],order:[[2,"asc"]],language:{aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"},emptyTable:"No members available in table",info:"Showing <strong>_TOTAL_</strong> jobs",infoEmpty:"No members found",infoFiltered:"",lengthMenu:"Show members on page: _MENU_",search:"",zeroRecords:"No matching members found",paginate:{previous:"Prev",next:"Next"}},dom:5<e?"<'vj-filter-row'<'vj-left-col'f><'vj-right-col'l>r>t<'vj-pagination-row'<'vj-left-col'><'vj-right-col'p>>":"t",lengthMenu:[[5,10,15,20,-1],[5,10,15,20,"All"]],pageLength:5}),$(".vj-dataTables_wrapper .vj-dataTables_filter input").attr("placeholder","Keywords")}if($("#send-invite-modal").length){$(".invite-button").click(function(){$("#send-invite-modal form #company_id").val($(this).data("id"))});var o=function(){var e=$("#send-invite-modal #user_company_manager_email").val(),t=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);e.length&&t.test(e)?$("#send-invite-modal #btn-submit-send-invite").removeClass("disabled").attr("disabled",!1):$("#send-invite-modal #btn-submit-send-invite").addClass("disabled").attr("disabled",!0)};$("#send-invite-modal").on("hidden",function(){$("#send-invite-modal form")[0].reset(),$("#send-invite-modal #btn-submit-send-invite").addClass("disabled").attr("disabled",!0),$("#send-invite-modal form #company_id").val("")}),$("#send-invite-modal #user_company_manager_email").on("textchange",o)}}),$(".brand-review-box").click(function(){0<$(this).data("count")?window.location.href="/gratitude-employer-branding":$.pnotify({text:"Please create new company"})}),$(".outplacement-box").click(function(){if(0<$(this).data("count")){var e=$(this).data("company");window.location.href="/company/"+e+"/outplacement_contacts"}else $.pnotify({text:"Please create new company"})}),function(){}.call(this),function(){$(function(){var t,a;return a=$(".filter-wrap"),(t=$(".filter-toggle")).on("click",function(){var e;return a.toggle(),e=null,e=a.is(":visible")?'<i class="fa flaticon-fa-filter"></i> Hide Filter':'<i class="fa flaticon-fa-filter"></i> Show Filter',t.html(e)})})}.call(this),function(){window.collapsedViriant={init:function(){return $(".filter-item_list").each(function(){var e,t,a,n;return n=$(this),e=$(this).find(".caption").first(),a=e.siblings(".filter-list-content"),t=n.find(".collapsed-variant"),e.on("click",function(){return a.is(":visible")?a.slideUp(300,function(){return n.addClass("filter-item_list_collapsed"),t.text(n.find(".filter-variant_selected .filter-variant-val").text())}):(a.slideDown(300,function(){return n.removeClass("filter-item_list_collapsed"),n.removeClass("filter-item_list_collapsed")}),t.text(""))})})},unbind:function(){return $(".filter-item_list").each(function(){return $(this),$(this).find(".caption").unbind("click")})}},$(function(){return collapsedViriant.init()})}.call(this),function(){var s;s={init:function(){return this.detectElements(),this.initFilter(),this.filterNames(),this.clearFilter()},detectElements:function(){return this.names=[],this.filter=$("#filter-connection-connections")},initFilter:function(){var o;return o=[],s.filter.find(".filter-body li").each(function(){return o.push(this.firstElementChild.firstElementChild.innerHTML)}),s.filter.find(".filter-head input").on("keyup",function(e){var t,a,n,i,r;if(r=e.target.value,i=new RegExp(r,"i"),a=s.filter.find(".filter-body li"),""===r)return s.filter.find(".filter-body li").removeClass("hidden");for(t in n=[],o)i.test(o[t])?n.push(a[t].className=""):n.push(a[t].className="hidden");return n})},filterNames:function(){return s.filter.find(".filter-body ul li").click(function(){var e,t;return(e=$(this)).hasClass("active")?e.removeClass("active"):e.addClass("active"),0<s.filter.find(".filter-body li.active").length?s.filter.addClass("filtered"):s.filter.removeClass("filtered"),s.remove_or_add($(this).find("h5").html()),t=0<s.names.length?location.pathname+"?names="+s.names:location.pathname,$.get(t,null,null,"script"),window.history.pushState(null,null,t)})},clearFilter:function(){return s.filter.find(".filter-footer .clear-tag").click(function(e){return e.preventDefault(),s.filter.find(".filter-head input").val(""),s.filter.find(".filter-body li").removeClass("active hidden"),s.filter.removeClass("filtered"),s.names=[],$.get(location.pathname,null,null,"script"),window.history.pushState(null,null,location.pathname)})},remove_or_add:function(e){var t,a,n;if(-1===$.inArray(e,s.names))return s.names.push(e);for(t in n=[],a=s.names)a[t]===e?n.push(s.names.splice(t,1)):n.push(void 0);return n}},$(document).ready(function(){if(void 0!==$("#filter-connection-connections")[0]&&s.init(),void 0!==$(".friends-pagination")[0])return $(".friends-pagination li a").live("click",function(e){return e.preventDefault(),window.history.pushState(null,null,$(this).attr("href")),$.rails.handleRemote($(this)),!1})})}.call(this),function(){window.full_service_job={init:function(){return this.dataTableInit()},dataTableInit:function(){return $(".full-service-jobs").dataTable({bInfo:!1,bFilter:!1,bSort:!1,fnFooterCallback:function(){return window.full_service_job.detailsJob(),window.full_service_job.acceptDecline()}})},detailsJob:function(){return $(".full-service-jobs .details-job").click(function(e){var t;return e.preventDefault(),$(".full-service-jobs .accept-decline").unbind("click"),t=$(this).data("job"),$.ajax({type:"GET",url:"/full_service_jobs/details_job",data:{job_id:t},dataType:"script"})})},acceptDecline:function(){return $(".accept-decline").click(function(e){var t;if(e.preventDefault(),confirm("Are you sure?"))return t=$(this),$("#detailsJob").modal("hide"),$.ajax({type:"GET",url:"/full_service_jobs/accept_decline",data:{job_id:t.data("job"),status:t.data("action")},dataType:"json"}),$("#job_"+t.data("job")).fadeOut(700,function(){return $(this).remove()})})}},$(document).ready(function(){if(void 0!==$(".full-service-jobs")[0])return window.full_service_job.init()})}.call(this),$(document).ready(function(){if($('[data-toggle="google-news-list"]').length){var t,n=$('[data-toggle="google-news-list"]'),e=n.data("search-query");t=function(e){if(e.length){for(var t in e){var a=e[t];html_row_news='<div class="item-popular" itemprop="itemListElement" itemscope="" itemtype="http://schema.org/Article"><div class="articlePreviewMini with-teaser-text"><div class="inner"><div class="media-table"><div class="media-body"><div class="wrapper-title"><div class="inner"><h2 class="article-title" itemprop="headline"><a href="'+a.unescapedUrl+'" itemprop="url" target="_blank">'+a.title+'</a></h2><h3 class="article-category">'+a.publisher+"</h3></div></div></div>",a.image!==undefined&&(html_row_news+='<div class="media-right"><a href="'+a.unescapedUrl+'" class="article-image" itemprop="url" target="_blank"><span class="image-bg" style="background-image: url('+a.image.url+')"></span></a></div>'),html_row_news+='</div></div><meta content="'+t+'" itemprop="position"><meta content="'+a.publishedDate+'" itemprop="datePublished"></div></div>',n.append(html_row_news)}n.closest('[data-toggle="closest-google-news"]').removeClass("hidden")}},$.get("/company/news",{query:e},function(e){e.success&&t(e.results)})}});var UpdatePersistentHeaders=function(){$('[data-toggle="persistent-header"]').each(function(){var e=$(this),t=e.closest('[data-toggle="wrapper-persistent-header"]'),a=e.offset(),n=e.data("offset")?e.data("offset"):0,i=$(window).scrollTop();t.length?t.height()>e.parent().height()&&(i>=a.top+n?e.addClass("active"):e.removeClass("active"),t.height()+t.offset().top<=e.children().height()+i-n?e.addClass("bottom"):e.removeClass("bottom")):i>=a.top+n?e.addClass("active"):e.removeClass("active")})};document.fonts.ready.then(function(){$('[data-toggle="persistent-header"]').length&&$(window).resize(UpdatePersistentHeaders).scroll(UpdatePersistentHeaders).trigger("scroll")}),function(){var e,s;s={init:function(){return this.detectElements(),this.changePassword(),this.editInformation()},detectElements:function(){return this.form_edit=$("#edit_user"),this.new_password=this.form_edit.find("#user_password"),this.password_confirm=this.form_edit.find("#user_password_confirmation"),this.password_current=this.form_edit.find("#user_password_current")},editInformation:function(){return this.form_edit.submit(function(e){var t;return e.preventDefault(),""!==s.new_password.val()?(t=s.password_confirm.parents(".input-field").find(".error"),s.password_confirm.val()===s.new_password.val()?($(t).hide(),s.checkPassword()):$(t).html("Repeat your new password").show()):s.form_edit.get(0).submit()})},checkPassword:function(){var t;return t=s.password_current.parents(".input-field").find(".error"),""!==s.password_current.val()?$.get("/check_password",{password:s.password_current.val()}).done(function(e){return e?($(t).hide(),s.form_edit.get(0).submit()):$(t).html("Invalid current password").show()}):$(t).html("Enter your current password").show()},changePassword:function(){return this.new_password.bind("change click keyup",function(){return""!==$(this).val()?(s.password_confirm.parents(".input-field").show(),s.password_current.parents(".input-field").show()):(s.password_confirm.val(""),s.password_current.val(""),s.password_confirm.parents(".input-field").hide(),s.password_current.parents(".input-field").hide())})},createAccount:function(){return $("#signup-employer-button").click(function(){var e,t,a,n,i,r,o;if(a=!1,o=(r=$(".fr-signup-employer")).find('input[name="user[name]"]'),e=r.find('input[name="user[email]"]'),t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=o.next(".error").empty(),""===o.val()&&(i.html("Please enter your full name"),a=!0),n=e.next(".error").empty(),""!==e.val()&&t.test(e.val())||(n.html("Please enter your company email address"),a=!0),!a)return $("#signup-employer-modal").modal("show"),s.createAccountContinue()})},createAccountContinue:function(){return $("#signup-employer-continue").click(function(){var e,t,a,n,i,r,o,s;if($("#signup-employer-modal #sign-up-error-block").hide(),t=!1,o=(r=$(".fr-signup-employer")).find('input[name="user[password]"]'),s=r.find('input[name="user[phone]"]'),e=r.find('input[name="profile[company]"]'),n=o.next(".error").empty(),""===o.val()&&(n.html("Please enter password"),t=!0),i=s.next(".error").empty(),""===s.val()&&(i.html("Please enter phone number"),t=!0),a=e.next(".error").empty(),""===e.val()&&(a.html("Please enter company name"),t=!0),!t)return $("#signup-employer-continue").attr("disabled","disabled"),$.ajax({dataType:"JSON",url:r.data("url"),data:r.serialize(),success:function(e){return window.location.href=e.redirect},error:function(e){return $("#signup-employer-modal #sign-up-error-block p").html(e.responseJSON.error.message),$("#signup-employer-modal #sign-up-error-block").show(),$("#signup-employer-continue").attr("disabled",!1)}})})}},e=function(){0===fileSelectEle.value.length?alert("You clicked cancel - FileName:"+fileSelectEle.value+"; Length: "+fileSelectEle.value.length):alert("You selected a file - FileName:"+fileSelectEle.value+"; Length: "+fileSelectEle.value.length),document.body.onfocus=null},$(document).ready(function(){return $("form#rating-expert-review").bind("ajax:success",function(){$.pnotify({text:"We received your feedback. Thank you!"}),$("form#rating-expert-review").remove()}),$(".upload-file-input").change(function(){var e;return(e=$(this)).val().length?e.parent().find(".upload-text-input").val($(this)[0].files[0].name):e.parent().find(".upload-text-input").val("")}),$(".newsletter").click(function(){return location.href=$(this).attr("href")}),void 0!==$("#edit_user")[0]&&s.init(),void 0!==$(".fr-signup-employer")[0]&&s.createAccount(),$("form.email-me-sign-up").bind("ajax:success",function(e,t){return window.location.href=t.redirect}),$("form.email-me-sign-up").bind("ajax:error",function(e,t){var a,n;return n=$.parseJSON(t.responseText),"email"===t.responseJSON.error.field||($(".next-step-reg").show(),$(".next-step-reg input").attr("required","required"),$("#subscription-search-modal").hasClass("in"))?($(this).find("#sign-up-error-block").show(),$(this).find("#sign-up-error-block p").html(n.error.message),$(this).find("#user_"+n.error.field).focus()):($("#subscription-search-modal").modal("show"),$("#subscription-search-alert").find("#sign-up-error-block").hide(),a=$("#subscription-search-alert").find("input[name='user[email]']").val(),void $("#subscription-search-modal").find("input[name='user[email]']").val(a))}),$("#subscription-search-modal").on("hide",function(){return $(this).parents("form")[0].reset(),$(this).find("#sign-up-error-block").hide(),$(".next-step-reg").hide(),$(".next-step-reg input").attr("required",!1)})})}.call(this),function(){var e;e={init:function(){return this.autocompleteLocation()},autocompleteLocation:function(){var e;return e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/search/autocomplete_postal/?query=%QUERY"}}),$(".job-alerts-modal .job_alert_location").typeahead({minLength:1},{source:e})}},$(document).ready(function(){if(void 0!==$(".job-alerts-modal")[0])return e.init()})}.call(this),function(){$.fn.removeClassWild=function(n){return this.removeClass(function(e,t){var a;return a=n.replace(/\*/g,"\\S+"),(t.match(new RegExp("\\b"+a,"g"))||[]).join(" ")})},window.job={init:function(){return this.changeCounty(),this.following(),this.dataTableInit(),this.unFollowing(),this.reportsJobExpired(),this.autocompleteCompanyType(),this.closeJob(),this.deleteJob(),this.applyLoginOrRegister(),void 0!==$("form[data-toggle=sign-up-validation]")[0]&&this.validateSignupForm(),void 0!==$("form[data-toggle=signup-and-apply-validation]")[0]&&this.validateSignupAndApplyForm(),void 0!==$("*[data-toggle=upload-resume-s3]")[0]&&this.resumeS3Uploader(),void 0!==$("#submit-button-for-basic")[0]&&this.chooseMembershipBasic(),void 0!==$(".job-posting-form")[0]&&this.changeEmployerSelect(),this.createEmployerCompany(),this.customizationJobWidget(),this.jobsWidgetSelectCompany(),this.selectPostJobService(),this.clickToPayService(),this.loadAdditionalJobs()},loadAdditionalJobs:function(){var e;if(0<(e=$("#additional-jobs-placeholder")).length)return $.get("/additional_jobs.json",{id:e.data("id"),filter:e.data("filter")},function(e){$("#additional-jobs-placeholder").html(e.html)})},clickToPayService:function(){return $("#continue_pay_for_service").click(function(e){return e.preventDefault(),location.href=$("label :checked").parents("label").data("url")})},selectPostJobService:function(){if($(".type-service-post-job").length)return $(document).on("click",'.type-service-post-job .item-dashboard input[type="radio"]',function(){var e,t;(t=(e=$(this)).closest(".item-dashboard")).closest(".type-service-post-job").find(".item-dashboard.checked").removeClass("checked"),e.is(":checked")?t.addClass("checked"):t.removeClass("checked")})},jobsWidgetSelectCompany:function(){return $("#jobs-widget-select-company").change(function(){return location.href="/jobs-plugin/"+$(this).val()})},customizationJobWidget:function(){return $("#customization_job_widget input").change(function(){var e,t,a;return a=$('input[name="view-detail"]:checked').val(),t=$('input[name="location-detail"]:checked').val(),e=$('input[name="date-posted-detail"]:checked').val(),window.job.renderJobWidget(a,t,e)})},renderJobWidget:function(e,t,a){var n;return n=$("#jobs-widget-select-company").val(),$.ajax({type:"GET",url:"/jobs-plugin-customization",data:{id:$("#jobs-widget-select-company :selected").data("id"),settings:{view:e,date_posted:a}},dataType:"json",success:function(){return(window.location.href="/jobs-plugin/"+n)()}})},createEmployerCompany:function(){var e;return $(document).on("submit","#create-company-job-modal form",function(e){var a,n;return e.preventDefault(),0<(n=$("#employer-select")).find("optgroup").length&&(n=n.find("optgroup:first")),a=$('#create-company-job-modal [name="company-name"]').val(),$.ajax({type:"POST",url:"/my-company",data:{user_company:{name:a}},dataType:"json",success:function(e){var t;return void 0!==$("#create-company-job-modal form").data("post-job")?(t=e.id,n.append($("<option>",{value:t,text:a,selected:"selected"})),n.val(t),$("#job_employer").val(a),$("#create-company-job-modal").modal("hide"),$("#create-company-job-modal form")[0].reset(),$("#create-company-job-modal #btn-submit-create-company").addClass("disabled").attr("disabled",!0)):location.href=location.href}})}),e=function(){return $('#create-company-job-modal input[name="company-name"]').val().length?$("#create-company-job-modal #btn-submit-create-company").removeClass("disabled").attr("disabled",!1):$("#create-company-job-modal #btn-submit-create-company").addClass("disabled").attr("disabled",!0)},$('#create-company-job-modal input[name="company-name"]').on("textchange",e)},changeEmployerSelect:function(){if($("#job_employer").val(null),null!==$("#employer-select").val()&&"create"!==$("#employer-select").val()&&$("#job_employer").val($("#employer-select :selected").text()),$(document).on("change","#employer-select",function(e){var t;return"create"===(t=$(this)).val()?(e.preventDefault(),t.find("option:last").attr("selected","selected"),$("#job_employer").val(null),$("#create-company-job-modal").modal("show")):$("#job_employer").val($("#employer-select :selected").text())}),!(2<$("#employer-select option").length))return $("#employer-select").trigger("change")},chooseMembershipBasic:function(){return $("#submit-button-for-basic").click(function(){return location.href=$(this).data("url")})},resumeS3Uploader:function(){return $("*[data-toggle=upload-resume-s3]").each(function(){var n,e,t,a,i,r,o,s;return n=null,t=$(this),i=t.closest(".wrapper-upload-resume-s3"),s=i.find(".btn"),e=t.parents("form"),a=e.find('input[name="job_remote_resume_url"]'),o=e.find(".form-actions button"),r=e.find(".input.resume"),t.fileupload({forceIframeTransport:!0,autoUpload:!0,formData:t.data("s3").params,url:t.data("s3").url,add:function(e,t){var a;if(0<t.files.length&&(a=(n=t.files[0].name).split(".").pop().toLowerCase(),-1!==$.inArray(a,["pdf","doc","docx"])))return r.removeClass("has-error"),i.removeClassWild("state-*").addClass("state-uploading"),o.prop("disabled",!0),s.prop("disabled",!0),t.submit(),setTimeout(function(){var e;if(0<(e=$("body > form > iframe")).length&&"uninitialized"===(e[0].contentDocument||e[0].contentWindow.document).readyState)return e.trigger("load")},300)},success:function(){var e;return e=t.data("s3").url+"/"+t.data("s3").params.key.replace("${filename}",n),a.val(e),o.prop("disabled",!1),s.prop("disabled",!1),i.removeClassWild("state-*").addClass("state-uploaded"),r.removeClass("has-error")},error:function(){return a.val(nil),o.prop("disabled",!1),s.prop("disabled",!1),i.removeClassWild("state-*"),r.addClass("has-error"),r.find(".error-validation-bubble > .inner").html("Failed to save resume, please try again")}})})},validateSignupForm:function(){return $("form[data-toggle=sign-up-validation]").each(function(){var e;return(e=$(this)).find("[type=submit]").removeClass("disabled"),e.find("[type=submit]").removeAttr("disabled","disabled"),e.validate({rules:{"apply[name]":{required:!0},"apply[email]":{required:!0,email:!0},"apply[resume]":{required:!0,extension:"pdf|doc|docx"},"user[name]":{required:!0},"user[email]":{required:!0,email:!0}},messages:{"apply[name]":{required:"Full Name cannot be blank"},"apply[email]":{required:"Email cannot be blank",email:"Please include a valid email address"},"apply[resume]":{required:"Resume cannot be blank",accept:"Please include a valid resume file format"},"user[name]":{required:"Full Name cannot be blank"},"user[email]":{required:"Email cannot be blank",email:"Please include a valid email address"},"user[password]":{required:"Password cannot be blank"},"user[zipcode]":{required:"Zip Code cannot be blank"},"user[job_title_interest]":{required:"Job Title of interest cannot be blank"},"user[newsletter_id]":{required:"Edition cannot be blank"}},submitHandler:function(e){return!(!$(e).valid()||$(e).attr("disabled"))&&($(e).find("[type=submit]").addClass("disabled"),$(e).find("[type=submit]").attr("disabled","disabled"),$(e).data("remote")||e.submit(),!0)}})})},validateSignupAndApplyForm:function(){return $(document).on("ajax:beforeSend","form[data=signup-and-apply-validation]",function(){$(this).find("[type=submit]").addClass("disabled"),$(this).find("[type=submit]").attr("disabled","disabled")}),$(document).on("ajax:success, ajax:error","form[data=signup-and-apply-validation]",function(){$(this).find("[type=submit]").removeClass("disabled"),$(this).find("[type=submit]").removeAttr("disabled","disabled")}),$("form[data-toggle=signup-and-apply-validation]").each(function(){var e;return(e=$(this))[0].reset(),e.find("[type=submit]").removeClass("disabled"),e.find("[type=submit]").removeAttr("disabled","disabled"),e.validate({messages:{"user[name]":"Full Name cannot be blank","user[password]":"Password cannot be blank","user[email]":{required:"Email cannot be blank",email:"Please include a valid email address"}},submitHandler:function(e){var t,a,n,i;return!!$(e).valid()&&(t=$(e).find('[name="job_remote_resume_url"]'),i=$(e).find(".input.resume"),!(0<t.length)||((a=t.val())||(a=""),n=a.split(".").pop().toLowerCase(),""===a&&i.hasClass("required")?(i.addClass("has-error"),i.find(".error-validation-bubble > .inner").html("Resume cannot be blank"),!1):""!==a&&-1===$.inArray(n,["pdf","doc","docx"])?(i.addClass("has-error"),i.find(".error-validation-bubble > .inner").html("Please include a valid resume file format"),!1):(i.removeClass("has-error"),!0)))}})})},applyLoginOrRegister:function(){return $(document).on("click",".btn-apply_login_or_register",function(e){return e.preventDefault(),History.pushState(null,"VelvetJobs","/apply_login_or_register"),$(".jobs-show").hide(),$("#apply_login_or_register_show").show(),$("body").scrollTop(0),History.Adapter.bind(window,"statechange",function(){return"apply_login_or_register"===location.href.split("/")[3]?($(".jobs-show").hide(),$("#apply_login_or_register_show").show()):($(".jobs-show").show(),$("#apply_login_or_register_show").hide()),$("body").scrollTop(0)})})},closeJob:function(){return $(".close-my-job, .repost-my-job").bind("click",function(){var e,t;return $(this).parents("tr").remove(),t=$("#total-my-jobs strong"),e=parseInt(t.html()),t.html(e-1)})},deleteJob:function(){return $(".btn-delete-job-step-1").on("click",function(){var e;return e=$(this),$("#deleteModal .btn-delete-job-step-2").data("job-id",e.data("job-id")).prop("href",e.data("job-href"))}),$(".btn-delete-job-step-2").on("click",function(){var e,t,a;return e=$(this),$(e.data("job-id")).remove(),a=$("#total-my-jobs strong"),t=parseInt(a.html()),a.html(t-1),$("#deleteModal").modal("hide")})},autocompleteCompanyType:function(){var e;if(0<$("#job_company_type").length)return e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/jobs/autocomplete_company_type/?query=%QUERY"}}),$("#job_company_type").typeahead({minLength:1},{source:e})},dataTableInit:function(){return $("#open-jobs-tab #per_page, #open-jobs-tab #sort").change(function(){return location.href="/my_jobs?type_jobs="+$(".nav-tabs li.active").data("type")+"&per_page="+$("#open-jobs-tab #per_page :selected").val()+"&sort="+$("#open-jobs-tab #sort :selected").val()+"&"+$("#my-job-filter").serialize()})},changeCounty:function(){return"United States"===$("#job_country_id :selected").text()?($(".state_zip").show(),$(".fr-country-col").removeClass("col-sm-6").addClass("col-sm-5"),$(".fr-cityzip-col").removeClass("col-sm-6").addClass("col-sm-7"),$(".fr-city-col").removeClass("col-sm-12").addClass("col-sm-7")):($(".state_zip").hide(),$(".fr-country-col").removeClass("col-sm-5").addClass("col-sm-6"),$(".fr-cityzip-col").removeClass("col-sm-7").addClass("col-sm-6"),$(".fr-city-col").removeClass("col-sm-7").addClass("col-sm-12")),$("#job_country_id").change(function(){return"United States"===$("#job_country_id :selected").text()?($(".state_zip").show(),$(".fr-country-col").removeClass("col-sm-6").addClass("col-sm-5"),$(".fr-cityzip-col").removeClass("col-sm-6").addClass("col-sm-7"),$(".fr-city-col").removeClass("col-sm-12").addClass("col-sm-7")):($(".state_zip").hide(),$(".fr-country-col").removeClass("col-sm-5").addClass("col-sm-6"),$(".fr-cityzip-col").removeClass("col-sm-7").addClass("col-sm-6"),$(".fr-city-col").removeClass("col-sm-7").addClass("col-sm-12"))})},unFollowing:function(){return $("#followings-table .follow-controll").click(function(e){var t;return e.preventDefault(),t=$(this),$.post("/jobs/delete_following",{id:t.data("job")},function(){return t.parents("tr").hide("slow",function(){if($(this).remove(),0===$("#followings-table tbody tr").length)return $("#followings-table tr").html("No following jobs")})})})},following:function(){return $(".btn-job-to-followings").click(function(e){var t,a,n;return e.preventDefault(),n=(t=$(this)).parents(".wrapper-following"),a=t.data("action"),n.toggleClass("active"),$.post("/jobs/"+a+"_following",{id:t.data("job")},function(){return t.data("action","add"===a?"delete":"add")})})},reportsJobExpired:function(){return $(".job-expired-link").click(function(e){var t;return e.preventDefault(),(t=$(this)).css({"pointer-events":"none",cursor:"default"}),$.get(t.attr("href")+".json"),$.pnotify({text:"Thank you for reporting the expired job"})})}},$(document).ready(function(){return void 0!==$("#copy-clipboard")[0]&&(Clipboard.isSupported()?new Clipboard("#copy-clipboard",{text:function(){return $("<div>").html($(".media-body .code-integration-text").html()).text().replace(/\s{2,}/g," ").trim()}}).on("success",function(){$.pnotify({text:"Code copied to your clipboard",type:"success"})}):$("#copy-clipboard").hide()),job.init()})}.call(this),$(function(){function e(){if(!window.getComputedStyle)return!1;var e,t=document.createElement("p"),a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var n in document.body.insertBefore(t,null)
,a)t.style[n]!==undefined&&(t.style[n]="translate(1px,1px)",e=window.getComputedStyle(t).getPropertyValue(a[n]));document.body.removeChild(t),e!==undefined&&0<e.length&&"none"!==e||$("html").addClass("no-translate")}$(document).on("click",'[data-toggle="left-off-canvas-toggle"]',function(e){e.preventDefault(),$(this).closest(".off-canvas-wrap").toggleClass("move-right")}),$(document).on("click",".off-canvas-wrap .exit-off-canvas",function(e){e.preventDefault(),$(this).closest(".off-canvas-wrap").prop("class","off-canvas-wrap")}),e()}),function(){window.managejob={init:function(){return this.dataTableInit()},dataTableInit:function(){return void 0===$(".manage-jobs")[0]?(window.managejob.detailsJob(),window.managejob.acceptDecline(),$("#decline_list_per_page").change(function(){return location.href="/managejobs/decline_list?per_page="+$(this).val()})):$(".manage-jobs").dataTable({bInfo:!1,bFilter:!1,bSort:!1,fnFooterCallback:function(){return window.managejob.detailsJob(),window.managejob.acceptDecline()}})},detailsJob:function(){return $(".details-job").click(function(e){var t;return e.preventDefault(),$(".accept-decline").unbind("click"),t=$(this).data("job"),$.ajax({type:"GET",url:"/managejobs/details_job",data:{job_id:t},dataType:"script"})})},acceptDecline:function(){return $(".accept-decline").click(function(e){var t;if(e.preventDefault(),confirm("Are you sure?"))return t=$(this),$("#detailsJob").modal("hide"),$.ajax({type:"GET",url:"/managejobs/accept_decline",data:{job_id:t.data("job"),status:t.data("action")},dataType:"json"}),$("#job_"+t.data("job")).fadeOut(700,function(){return $(this).remove()})})}},$(document).ready(function(){return window.managejob.init()})}.call(this),function(){$(function(){return $("#use_description_anonymized").on("change",function(){var e;return e=$(this).is(":checked")?1:0,$.ajax({type:"POST",url:"/manager/linkedin_jobs/set_description_anonymized",data:{description_anonymized:e},dataType:"JSON"})}),0<$("#manager-linkedin-jobs").length&&$("#manager-linkedin-jobs > tbody > tr").each(function(e,t){return $(t).find("select").each(function(e,t){var a,n,i,r,o,s;for(a in i="",n=(r=$(t)).attr("name"),s=r.attr("value"),window.linkedin_job_options[n])o="",a===s&&(o="selected"),i+='<option value="'+a+'" '+o+">"+window.linkedin_job_options[n][a]+"</option>";return r.html(i),r.removeAttr("disabled")})}),$("#manager-linkedin-jobs select, #manager-linkedin-jobs input").on("change",function(){var e,t,a,n;return a=(t=$(this)).parents("tr").find("form").attr("action"),e=t.attr("name"),n=t.is("input")?t.is(":checked")?1:0:t.val(),$.ajax({url:a,type:"PUT",data:{field:e,value:n},success:function(e){return e["default"]?t.attr("style","width: 150px;border-color: orange"):t.attr("style","width: 150px")}})}),$(".details-linkedin-job").click(function(e){var t;return e.preventDefault(),t=$(this).data("job"),$.ajax({type:"GET",url:"/manager/linkedin_jobs/details_job",data:{job_id:t},dataType:"script"})})})}.call(this),function(){$(document).ready(function(){return $(".job-source-statistics").each(function(){var e;return e=$(this).attr("id").split("-")[1],$.ajax({type:"GET",url:"/manager/statistics/source_statistics/details_job?job_id="+e+"&"+location.search.split("?")[1],dataType:"script"})})})}.call(this),$(document).ready(function(){$('.list-billing-plans .billing-plans-item input[type="radio"]').length&&$(document).on("click",'.list-billing-plans .billing-plans-item input[type="radio"]',function(){var e=$(this),t=e.closest(".list-billing-plans");t.find(".billing-plans-item.checked").removeClass("checked"),t.find(".row-billing-plans-variant.checked").removeClass("checked"),e.closest(".billing-plans-item").addClass("checked"),e.closest(".row-billing-plans-variant").addClass("checked"),e.hasClass("not-variants")?($("#billing-information").hide(),$("#flexible-pricing-form").show(),$("#premium-form").addClass("enterprise")):($("#billing-information").show(),$("#flexible-pricing-form").hide(),$("#premium-form").removeClass("enterprise"))})}),function(){var i;i={init:function(){if(this.detectElements(),this.stripeInit(),void 0!==$("#total_price").html()&&this.totalPrice(),void 0!==$(".save").html())return this.saveToUser()},detectElements:function(){return this.opts={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},this.spinner=new Spinner(this.opts).spin(),this.plans=$('input[name="plan_id"]'),this.total_price=$("#total_price"),this.total_credits=void 0!==$("#total-credits").html()?$("#total-credits").html():0,this.stripeResponseHandler=function(e,t){var a,n;if(a=$("#payment-form"),i.validationForm())return a.find(":submit").prop("disabled",!0),t.error?($(".error-card").closest(".control-group").removeClass("has-error"),$("#error_"+t.error.param).html(t.error.message).closest(".control-group").addClass("has-error"),a.find(":submit").prop("disabled",!1),a.find(".has-error").eq(0).find("input").eq(0).focus()):(n=a.serialize()+"&stripe_token="+t.id,$.getJSON(a.attr("action"),n,function(e){return e.error?(a.find(".error-card").hide(),$("#error_base").show().html(e.error),a.find(":submit").prop("disabled",!1),a.find(".has-error").eq(0).find("input").eq(0).focus()):location.href="/memberships"}))}},validationForm:function(){var t;return $("#payment-form").find(":submit").prop("disabled",!1),t=!0,$(".error-card").closest(".control-group.has-error").removeClass("has-error"),$(".error-card").each(function(){var e;return""===(e=$(this).closest(".control-group")).find("input").eq(0).val()?(e.addClass("has-error"),t*=!1):t*=!0}),$(".has-error").eq(0).find("input").eq(0).focus(),void 0!==$("#premium-form #error_email:visible")[0]&&(t=!1),t},changeForm:function(){return $(".error-card").closest(".control-group").each(function(){return $(this).find("input").eq(0).change(function(){var e;return""===(e=$(this)).val()?e.closest(".control-group").addClass("has-error"):e.closest(".control-group").removeClass("has-error"),$(".has-error").eq(0).find("input").eq(0).focus()})})},stripeInit:function(){return window.braintree_object.onSubmitEncryptForm("payment-form",function(e){var t;return e.preventDefault(),i.changeForm(),(t=$("#payment-form")).find(":submit").prop("disabled",!0),Stripe.createToken(t,i.stripeResponseHandler)})},totalPrice:function(){return i.total_price.html($(i.plans).filter(":checked").next("label").find(".price").text()),i.totalCharged(),i.plans.click(function(){return i.total_price.html("$"+$(this).data("price")),i.totalCharged()})},discount:function(){var e,t,a;return e=100*(a=3*(t=parseFloat($("#price-mnth").find("strong").html().replace("$","")))-parseFloat($("#price-qrt").find("strong").html().replace("$","")))/(3*t),$("#prc").html(parseInt(e)),$("#svng").html(a.toFixed(2))},saveToUser:function(){var n;return n=parseFloat($($(".price")[0]).html().replace("$","")),$(".save").each(function(){var e,t,a;return t=(a=$(this)).parent().find(".price"),parseInt(t.data("months")),e=100*(n-parseFloat(t.html().replace("$","")))/n,a.html(parseInt(e))})},totalCharged:function(){var e,t,a,n;return e=(a=parseFloat(i.total_price.html().replace("$","")))<(n=parseFloat(i.total_credits))?a:n,$("#bonus-credits").html(e),t=parseFloat(a)-parseFloat(e),t=/^[0-9]+$/.test(t)?t+".00":Math.round(100*t)/100,$("#charged").html("$"+t)}},$(document).ready(function(){if(void 0!==$("#payment-form")[0]&&i.init(),void 0!==$("#price-mnth").html())return i.discount()})}.call(this),$(function(){$(document).on("click","table#messages tbody tr",function(){var e=$(this).data("id"),t="/messages/"+e;e!=undefined&&(window.location=t)})}),function(){$(document).ready(function(){return $("#auth-forms #btnSwitch").on("click",function(e){return e.preventDefault(),$(this).parents("#auth-forms").toggleClass("switched")})})}.call(this),function(){window.my_candidates={init:function(){return this.detectElements(),this.filterRating(),this.clearRating(),this.filterStatus(),this.clearStatus(),this.scrollInit(),this.changeLimit(),this.changeSort(),this.submitSearch(),this.initRatingCandidate(),this.changeJob(),this.summaryShorten(),this.candidateViewChange()},detectElements:function(){var e;return e={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:80},this.spinner=new Spinner(e).spin(),this.candidates_container=$("#my_candidates_container"),this.status=status,this.rating=rating,this.page=page,this.job_id=$("#job_id :selected").val(),this.job_employer=$("#job_employer :selected").val(),this.limit=parseInt($("#limit :selected").val()),this.sort=parseInt($("#sort :selected").val())},summaryShorten:function(){return $(".candidate-summary.shorten").more({length:200,ellipsisText:"...",moreText:"more",lessText:"less",wordBreak:!1,onChange:function(e){e?$(this).addClass("expanded"):$(this).removeClass("expanded")}})},changeJob:function(){return $("#job_id").change(function(){return my_candidates.job_id=$(this).val(),my_candidates.page=1,my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.searchChange()}),$("#job_employer").change(function(){return my_candidates.job_employer=$(this).val(),my_candidates.job_id=null,my_candidates.page=1,my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.searchChange()})},initRatingCandidate:function(){return $("input.candidate-star").rating()},submitSearch:function(){var e;return(e=$("#my-candidates-filter-form")).submit(function(){if(""!==$.trim($(e).find("#keywords").val()))return e.find("#sort").val(2)})},changeLimit:function(){return $("#limit").change(function(){return my_candidates.limit=parseInt($("#limit :selected").val()),my_candidates.page=1,my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.searchChange()})},changeSort:function(){return $("#sort").change(function(){return my_candidates.sort=parseInt($("#sort :selected").val()),my_candidates.page=1,my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.searchChange()})},filterRating:function(){return $(".filter-rating").click(function(){var e;return e=$(this),my_candidates.rating=e.data("rating"),$(".filter-rating").each(function(){return $(this).parent().find(".clear-rating").hide()}),e.parent().find(".clear-rating").show(),$("#total").hide(),$(".filter-rating").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.page=1,my_candidates.searchChange()})},clearRating:function(){return $(".clear-rating").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-rating").css("font-weight","normal"),my_candidates.rating=" ",$("#total").hide(),my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.page=1,my_candidates.searchChange()})},filterStatus:function(){return $(".filter-status").click(function(){var e;return e=$(this),my_candidates.status=e.data("status"),$(".filter-status").each(function(){return $(this).parent().find(".clear-status").hide()}),e.parent().find(".clear-status").show(),$("#total").hide(),$(".filter-status").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.page=1,my_candidates.searchChange()})},clearStatus:function(){return $(".clear-status").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-status").css("font-weight","normal"),my_candidates.status=" ",$("#total").hide(),my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.page=1,my_candidates.searchChange()})},scrollInit:function(e){return null==e&&(e=my_candidates.page),$(".pagination-here").pagination({items:parseInt($("#total_people").html()),itemsOnPage:parseInt(my_candidates.limit),currentPage:e,displayedPages:5,cssStyle:"pagination",onPageClick:function(e){return my_candidates.page=e,my_candidates.candidates_container.html(my_candidates.spinner.el),my_candidates.searchChange()}})},searchChange:function(){return $("#pagination-here").unbind("bootpag"),$.ajax({type:"GET",url:$("#my-candidates-filter-form").attr("action"),data:{status:my_candidates.status,rating:my_candidates.rating,keywords:""!==$("#keywords").val()?$("#keywords").val():void 0,page:parseInt(my_candidates.page),limit:parseInt(my_candidates.limit),sort:parseInt(my_candidates.sort),job_id:my_candidates.job_id,job_employer:my_candidates.job_employer},dataType:"script",complete:function(){var e,t;return e=window.History,t=this.url.split("?"),window.url_new=t[1],e.pushState(null,null,"?"+window.url_new),window.initBoxPreviews()}})},candidateViewChange:function(){return $("#toggle-view-candidates").change(function(){})}},$(document).ready(function(){if(void 0!==$("#my_candidates_container")[0])return my_candidates.init()})}.call(this),function(){$(function(){return $(".nav-toggle").on("click",function(){return $("body").toggleClass("nav-opened")}),$(".nav-secondary .subnav-toggle").on("click",function(e){return e.preventDefault(),$(this).parent().toggleClass("nav-i_subnav_visible")})})}.call(this),function(){$(function(){return $(".newsletter").on("click",function(e){return e.preventDefault(),$(".newsletter_selected").removeClass("newsletter_selected"),$(this).addClass("newsletter_selected")})})}.call(this),window.html_select_filter_stage='<div class="dataTables_filter_custom"><label><span class="dt-label-for-in"><span class="hidden-xs hidden-xsmall"></span>Stage:</span> <select data-toggle="filter-stage-outplacement-dt" data-filter-column="1" class="in-flat in-flat-sm w-auto"><option value="-1">All</option><option value="0">Enrolled</option><option value="1">Engaged</option><option value="2">Completed</option></select></label></div>',window.html_select_filter_package='<div class="dataTables_filter_custom"><label><span class="dt-label-for-in"><span class="hidden-xs hidden-xsmall"></span>Package:</span> <select data-toggle="filter-package-outplacement-dt" data-filter-column="2" class="in-flat in-flat-sm w-auto"><option value="-1">All</option><option value="0">Foundation</option><option value="1">Professional</option><option value="2">Executive</option><option value="3">Custom</option></select></label></div>',$(document).ready(function(){($(document).on("change","#similar_contacts",function(){$(this).is(":checked")?$(".similar").addClass("text-success"):$(".similar").removeClass("text-success")}),Clipboard.isSupported())?new Clipboard('div[data-toggle="invite-link-club"] .copy-box-item button',{text:function(e){return $(e).parents(".copy-box-item").find("input").val()}}).on("success",function(){$.pnotify({text:"Invitation link copied to your clipboard",type:"success"})}):$('[data-toggle="invite-link-club"] .copy-box-item .btn-flat').hide();0<$(".b3-dataTable").length&&($(".b3-dataTable").each(function(){var e=$(this);$.extend($.fn.dataTableExt.oStdClasses,{sFilterInput:"in-flat in-flat-sm",sLengthSelect:"in-flat in-flat-sm"}),e.DataTable({sDom:"<'b3-row'<'col-sm-9 col-lg-6 dt-left-column'<'btn-toolbar with-large-btn no-marg'<'btn-group'l><'btn-group'<'wrapper-filter-package'>><'btn-group'<'wrapper-filter-stage'>>>><'col-sm-3 col-lg-6 dt-right-column'f>r>t<'b3-row'<'col-sm-6'i><'col-sm-6 dt-right-column'p>>",language:{lengthMenu:"<span class='dt-label-for-in'>Show:</span> _MENU_",search:"<span class='dt-label-for-in'>Search:</span> _INPUT_",paginate:{previous:"Prev",next:"Next"}}}).on("draw",function(){$("#similar_contacts").is(":checked")?$(".similar").addClass("text-success"):$(".similar").removeClass("text-success")})}),$(".wrapper-b3-dataTable[data-filter-stage] .wrapper-filter-stage").html(window.html_select_filter_stage),$(".wrapper-b3-dataTable[data-filter-package] .wrapper-filter-package").html(window.html_select_filter_package),$(document).on("change",'[data-toggle="filter-stage-outplacement-dt"], [data-toggle="filter-package-outplacement-dt"]',function(){var e=$(this),t=e.val(),a=e.data("filterColumn"),n=e.closest(".wrapper-b3-dataTable").find(".b3-dataTable").DataTable();-1!=t?n.columns(a).search(t,!0,!1).draw():n.columns(a).search("",!0,!1).draw()}));$("body").on("focus",'[data-toggle="datepicker-outplacement"]',function(){$(this).datepicker({startView:"days",orientation:"top left",autoclose:!0,todayHighlight:!0,minViewMode:"days",format:"mm/dd/yyyy",startDate:new Date("January 1, 1900 00:00:00"),endDate:new Date("December 31, 2100 23:59:59")})}),$(document).on("click",'[data-toggle="reload-page"]',function(e){e.preventDefault(),location.reload()}),$("#outplacement-company").change(function(){var e=$(this).val();window.location.href="/company/"+e+"/outplacement_contacts"}),$(document).on("change",'[data-toggle="change-stage-outplacement"], [data-toggle="change-package-outplacement"]',function(){var a=$(this),e=a.data("id-person"),n=a.val(),t="change-stage-outplacement"==a.data("toggle")?"stage":"package",i=a.data("company-id"),r=a.closest(".wrapper-b3-dataTable"),o=r.find('[data-toggle="filter-stage-outplacement-dt"]').val(),s=r.find('[data-toggle="filter-stage-outplacement-dt"]').data("filterColumn"),l=r.find('[data-toggle="filter-package-outplacement-dt"]').val(),c=r.find('[data-toggle="filter-package-outplacement-dt"]').data("filterColumn"),d=r.find(".b3-dataTable").DataTable(),u=d.page.info().page,p=d.page.len(),h="";h="change-package-outplacement"==a.attr("data-toggle")?"package":"stage","stage"==t&&(a.closest("tr").removeClass(function(e,t){return(t.match(/\btr-stage-\S+/g)||[]).join(" ")}).addClass("tr-stage-"+n).find("td.hidden-stage-filter").text(n),a.removeClass(function(e,t){return(t.match(/\bstage-\S+/g)||[]).join(" ")}).addClass("stage-"+n),a.closest(".wrapper-stage-manager").find(".badge-flat").removeClass(function(e,t){return(t.match(/\bstage-\S+/g)||[]).join(" ")}).addClass("stage-"+n)),"package"==t&&a.closest("tr").find("td.hidden-package-filter").text(n),a.closest(".wrapper-stage-manager").find(".badge-flat").html(a.find("option:selected").html());var f="";$.get("/company/"+i+"/outplacement_contacts/"+e+"/change_"+h+"/"+n,function(e){var t;("stage"==h&&(f="1"==n?"Engaged ("+e.engagement_date+")":"2"==n?"Completed ("+e.completion_date+")":"Enrolled ("+e.enrollment_date+")",a.find("option:selected").html(f),a.closest("tr").find(".engagement_date").html(e.engagement_date_today)),$.extend($.fn.dataTableExt.oStdClasses,{sFilterInput:"in-flat in-flat-sm",sLengthSelect:"in-flat in-flat-sm"}),r.find(".b3-dataTable").DataTable({destroy:!0,pageLength:p,displayStart:p*u,sDom:"<'b3-row'<'col-sm-8 col-md-6 dt-left-column'<'btn-toolbar with-large-btn no-marg'<'btn-group'l><'btn-group'<'wrapper-filter-package'>><'btn-group'<'wrapper-filter-stage'>>>><'col-sm-4 col-md-6 dt-right-column'f>r>t<'b3-row'<'col-sm-6'i><'col-sm-6 dt-right-column'p>>",language:{lengthMenu:"<span class='dt-label-for-in'>Show:</span> _MENU_",search:"<span class='dt-label-for-in'>Search:</span> _INPUT_",paginate:{previous:"Prev",next:"Next"}}}),d=r.find(".b3-dataTable").DataTable(),r.is("[data-filter-stage]")&&r.find(".wrapper-filter-stage").html(window.html_select_filter_stage),r.is("[data-filter-package]")&&r.find(".wrapper-filter-package").html(window.html_select_filter_package),r.find('[data-toggle="filter-stage-outplacement-dt"]').val(o),r.find('[data-toggle="filter-package-outplacement-dt"]').val(l),-1!=o||-1!=l)&&(-1!=o&&(t=d.page(u).columns(s).search(o,!0,!1)),-1!=l&&(t=d.page(u).columns(c).search(l,!0,!1)),u+1>t.page.info().pages&&(u-=1),t.page(u).draw(!1))})}),Clipboard.isSupported()?new Clipboard('[data-toggle="clipboard-opt-in-link"] .btn',{text:function(){return $('[data-toggle="clipboard-opt-in-link"] input').val()}}).on("success",function(){$.pnotify({text:"Link copied to your clipboard",type:"success"})}):$("[data-toggle='clipboard-opt-in-link'] .btn").hide()}),function(){}.call(this),function(){$(function(){return $('#partner-choose-services-form [data-toggle="checkbox-block"] input[type="checkbox"]').on("change",function(){var e,t;return t=(e=$(this)).closest('[data-toggle="checkbox-block"]'),e.is(":checked")?t.addClass("checked"):t.removeClass("checked")})})}.call(this),$(function(){$(".get-more-pints .facebook-points-share").on("click",function(e){e.preventDefault();window.open($(this).attr("href"),"intent","width=800,height=320");$.post("/points",{kind:"share_on_facebook"},function(){$(".get-more-pints .uncompleted").hide(),$(".get-more-pints .completed").show()})}),window.shareJobToSocialNetworks=function(e){var t=$(".share-job-to-socialnetworks"),a=t.data("kind"),n=t.data("url"),i=t.data("id");"off"!=e.state&&$.post("/points",{kind:a,open_job_id:i},function(){window.location.href=n})}}),function(){var s;s={init:function(){if(this.detectElements(),this.stripeInit(),void 0!==$(".premium-variants :radio:checked")[0]&&this.totalCharged(),this.changePlan(),void 0!==$(".no-stripe")[0]&&this.changeInputData(),void 0!==$("#premium-form #credits_field")[0])return this.totalChargeCredits()},detectElements:function(){return this.opts={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},this.spinner=new Spinner(this.opts).spin(),this.coupon=0,this.plans=$(".premium-variants :radio").not(".not-variants"),this.total_price=$("#total_price"),this.stripeResponseHandler=function(e,t){var a,n,i,r;if(a=$("#premium-form"),s.validationForm())return a.find(":submit").prop("disabled",!0),t.error?(0===(r=$("#error_"+t.error.param)).length&&(r=$("#error_base")),$(".error-card").hide(),$(".error-card").closest(".control-group").removeClass("has-error"),r.html(t.error.message).closest(".control-group").addClass("has-error"),r.show(),a.find(":submit").prop("disabled",!1),a.find(".has-error").eq(0).find("input").eq(0).focus()):(i=a.serialize()+"&stripe_token="+t.id,void 0!==(n=$("#action_spend"))[0]&&("job_details"===n.data("type")?i=i+"&source[job_type]="+n.html():"download_resume"===n.data("type")?i=i+"&source[resume_id]="+n.html():"choose_membership"===n.data("type")?i=i+"&job_id="+n.html():"choose_membership_ga"===n.data("type")&&(i=i+"&job_interested="+n.html())),1===s.coupon&&(i=i+"&coupon="+$("#coupon_code").val()),$.getJSON(a.attr("action"),i,function(e){if(a.hasClass("buy_points"))return e?location.href="/points":$("#no_money").show();if(e.error)return a.find(".error-card").hide(),"disallow"!==e.error&&($("#error_base").show().html(e.error),a.find(":submit").prop("disabled",!1)),a.find(".has-error").eq(0).find("input").eq(0).focus();if(void 0===n[0])return void 0!==$(".list-billing-plans")[0]?location.href="/my_jobs":location.href="/memberships";switch(n.data("type")){case"message":return location.href="/messages/new?id="+n.html()+"&use_point=true";case"view_resume":return location.href="/resume/"+n.html()+"?use_point=true";case"job_details":return location.href="/jobs/"+n.html();case"download_resume":return $("#download-resume").attr("target","_blank")[0].click(),location.href="/resumes/"+n.html();case"resume_service":return location.href="/resume-writing";case"choose_membership":return location.href="/jobs/"+n.html();case"choose_membership_ga":return location.href=n.data("redirect");case"purchase_credits":return location.href="/credits";default:return location.href="/memberships"}}))}},validationForm:function(){var t;return $("#premium-form").find(":submit").prop("disabled",!1),t=!0,$("#error_base").html("").hide(),$(".error-card").closest(".control-group.has-error").removeClass("has-error"),$(".error-card").each(function(){var e;return""===(e=$(this).closest(".control-group")).find("input").eq(0).val()?(e.addClass("has-error"),t*=!1):t*=!0}),$(".has-error").eq(0).find("input").eq(0).focus(),$("#premium-form #error_email").parents(".control-group").hasClass("has-error")&&(t=!1),t},changeInputData:function(){return $("#premium-form").change(function(e){if("radio"!==$(e.target).prop("type")&&!$(e.target).is("#coupon_code"))return $("#premium-form").removeClass("no-stripe")})},changeForm:function(){return $(".error-card").closest(".control-group").each(function(){return $(this).find("input").eq(0).change(function(){var e;return""===(e=$(this)).val()?e.closest(".control-group").addClass("has-error"):("email"===e.attr("id")&&$.getJSON("/users/validate_field",{field:"email",value:e.val()},function(e){return e.error?$("#error_email").html("Your email "+e.error.message).closest(".control-group").addClass("has-error"):$("#error_email").closest(".control-group").removeClass("has-error")}),e.closest(".control-group").removeClass("has-error")),$(".has-error").eq(0).find("input").eq(0).focus()})})},stripeInit:function(){return s.changeForm(),window.braintree_object.onSubmitEncryptForm("premium-form",function(e){var t;return e.preventDefault(),(t=$("#premium-form")).find(":submit").prop("disabled",!0),t.hasClass("enterprise")?$.getJSON(t.attr("action"),t.serialize()+"&enterprise="+!0,function(){return $("#billing-job-slot-container").remove(),$("#enterprise-request-success").show()}):t.hasClass("no-stripe")?$.getJSON(t.attr("action"),t.serialize(),function(e){return t.hasClass("buy_points")?e?location.href="/points":(t.find(":submit").prop("disabled",!1),$("#no_money").show()):e.error?("disallow"!==e.error&&($("#error_base").show().html(e.error),t.find(":submit").prop("disabled",!1)),t.find(".has-error").eq(0).find("input").eq(0).focus()):location.href="/memberships"}):Stripe.createToken(t,s.stripeResponseHandler)})},changePlan:function(){return s.plans.click(function(){return s.totalCharged()})},totalChargeCredits:function(){return $("#premium-form #credits_field").change(function(){var e,t;return e=0<(t=$(this).val())&&t<101?(t/2).toFixed(2):"0.50",$("#charged").html("$"+e),$("#total-charged").html("$"+e)})},totalCharged:function(){var e,t,a;if(void 0===$('#action_spend[data-type="resume_service"]')[0]?(a=$(".premium-variants :radio:checked").not(".not-variants").first(),e=parseFloat(a.data("price")),t=parseFloat(a.data("discount-price")),1===a.data("discount")&&(e=t)):e=$('#action_spend[data-type="resume_service"]').data("price"),"0.00"===(e=/^[0-9]+$/.test(e)?e+".00":(Math.round(100*e)/100).toFixed(2))&&(e="0"),$("#charged").html("$"+e),$("#total-charged").html("$"+e),void 0!==$("#coupon_code")[0]&&s.couponCode(),void 0!==$("#credit-discount")[0])return s.useCredits()},useCredits:function(){var e,t,a;return e=parseFloat($("#total-charged").html().replace("$","")),t=(a=parseFloat($("#credit-available").html().replace(",","").split("$")[1].replace("$","")))<e?a:e,$("#credit-discount").html("$"+(/^[0-9]+$/.test(t)?t+".00":(Math.round(100*t)/100).toFixed(2))),e-=t,e=/^[0-9]+$/.test(e)?e+".00":(Math.round(100*e)/100).toFixed(2),$("#charged").html("$"+e)},couponCode:function(){var e,t;return void 0===$('#action_spend[data-type="resume_service"]')[0]?(t=$(".premium-variants :radio:checked"),e=parseFloat(t.data("price")),parseFloat(t.data("discount-price"))):e=$('#action_spend[data-type="resume_service"]').data("price"),e=/^[0-9]+$/.test(e)?e+".00":(Math.round(100*e)/100).toFixed(2),$("#charged").html("$"+e),$("#total-charged").html("$"+e),$("#charged_old").html(parseFloat($("#charged").html().replace("$",""))),""!==$("#coupon_code").val()&&s.couponCodeChange(),$("#use-coupon").unbind("click"),$("#use-coupon").click(function(e){return e.preventDefault(),s.couponCodeChange()})},couponCodeChange:function(){return $("#premium-form").find(":submit").prop("disabled",!0),$(".coupon-block").hide(),$.get("/memberships/get_promocode",{coupon:$("#coupon_code").val()},function(e){var t,a,n,i,r,o;return $("#premium-form").find(":submit").prop("disabled",!1),n=parseFloat($("#charged_old").html()),(r=0)!==e?(n-=i=null===e.amount_off?n*e.percent_off/100:e.amount_off/100,r=/^[0-9]+$/.test(i)?i+".00":(Math.round(100*i)/100).toFixed(2),$("#error_coupon").hide(),$(".coupon-block").show(),s.coupon=1,t=/^[0-9]+$/.test(n)?n+".00":(Math.round(100*n)/100).toFixed(2)):($("#error_coupon").show(),$(".coupon-block").hide(),void(s.coupon=0)===$('#action_spend[data-type="resume_service"]')[0]?(o=$(".premium-variants :radio:checked"),a=parseFloat(o.data("discount-price"))):a=$('#action_spend[data-type="resume_service"]').data("price"),t=/^[0-9]+$/.test(a)?a+".00":(Math.round(100*a)/100).toFixed(2)),$("#charged").html("$"+t),$("#discount").html("$"+r)})}},$(document).ready(function(){return void 0!==$("#premium-form")[0]&&s.init(),void 0!==$('#action_spend[data-type="resume_service"]')[0]&&s.totalCharged(),$("[data-toggle='premium-sub-variants'] [data-toggle='tab']").on("click",function(e){var t;return"#flexible-pricing-form"===$(e.target).parents("label").data("target")?$("#premium-form").addClass("enterprise"):$("#premium-form").removeClass("enterprise"),t=$(e.target).closest("label").find("input[type='radio']"),$(e.target).closest(".active").find("input[type='radio']").each(function(){return $(this).prop("checked",!1)}).promise().done(function(){if(t.prop("checked",!0),!$(e.target).is("input[type='radio']"))return t.trigger("click")})}),$("[data-toggle='premium-variants'] [data-toggle='tab']").on("show",function(e){return $(e.target).find("input[type='radio']").prop("checked",!0),$($(e.target).data("target")).find("input[type='radio']").first().trigger("click"),s.totalCharged()})})}.call(this),jQuery.fn.resetTextField=function(){var e=$(this);e.find(":text, textarea").each(function(){$(this).val(function(){return this.defaultValue})}),e.find(".redactor-box").each(function(){var e=$(this);e.find(".redactor-editor").html(e.find("textarea").val())}),e.find('input[type="checkbox"]:checked').trigger("click")},jQuery.fn.live=function(e,t,a){return jQuery(this.context).on(e,this.selector,t,a),this},window.autocompleateUniversity=function(){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/user_educations/autocompleate_university/?query=%QUERY"}});$('input[name="user_education[school]"]').typeahead({minLength:1},{source:e})},window.autocompleatePositionCity=function(){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/search/autocomplete_postal/?query=%QUERY"}});$("input[name='user_position[city]']").typeahead({minLength:1},{source:e})},window.checkForStrengthProfile=function(t,e,a,n){var i=function(){$('<div class="modal hide fade"><div class="modal-header"><a class="close" data-dismiss="modal" >&times;</a><h3>'+e+'</h3></div><div class="modal-body" style="min-height:60px;"><p style="font-size:16px !important;font-weight:bold;">'+a+'</p></div><div class="modal-footer"><a href="/profile" class="button btn btn-square btn-green" style="float: left; margin: 13px 0 0 12px;padding: 0 12px;">Complete Profile</a><button style="margin: 21px 22px 0 0; width : 190px" data-dismiss="modal" class="btn" aria-hidden="true">Cancel</button></div></div>').modal("show")};"function"!=typeof n?i():$.post("/profile/strength",function(e){e.strength>=t?n():i()})},$(document).ready(function(){function n(e){setTimeout(function(){e.focus()},500)}if($("#profile-skills-generator").length){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/search/autocomplete_skills/?query=%QUERY"}});$("#in-profile-skills-toolbar").typeahead({minLength:1},{limit:4,source:e});var i=function(){var t=[];return $("#profile-skills-generator .skill-tag-item-flat label").each(function(){var e=$(this).html().trim();e=e.replace(/&amp;/g,"&"),t.push(e)}),t},r=function(){$("#profile-skills-generator .list-skills-flat").html("");var e=jQuery.parseJSON($("#in-profile-skills").val());if(e.length){for(var t in e){var a=e[t];$("#profile-skills-generator .list-skills-flat").append(function(){return $("<li>",{"class":"skill-tag-item-flat light-skill-tag with-close-btn"}).append($("<label>").text(a)).append($("<i>",{"class":"skill-tag-item-flat-destroy fa flaticon-close47",title:"Remove"}))})}$("#profile-skills-generator .list-skills-flat").sortable({update:function(){$("#in-profile-skills").val(JSON.stringify(i())),$("form.edit-profile-skills").submit()}})}else $("#profile-skills-generator .list-skills-flat").html('<li class="empty-text">Skills are empty</li>')};$(document).on("click","#btn-add-skill-profile",function(e){e.preventDefault();var t=$("#in-profile-skills-toolbar").val(),a=jQuery.parseJSON($("#in-profile-skills").val());t&&(a.push(t),$("#in-profile-skills").val(JSON.stringify(a))),$("#in-profile-skills-toolbar").val(""),r()
,$("form.edit-profile-skills").submit()}),$(document).on("click",".skill-tag-item-flat-destroy",function(e){e.preventDefault(),$(this).closest(".skill-tag-item-flat").remove(),$("#in-profile-skills").val(JSON.stringify(i())),r(),$("form.edit-profile-skills").submit()}),r()}if($(document).on("click",'[data-toggle="profile-library-resume"]',function(e){e.preventDefault(),$("#profile-library-resume").toggleClass("opened")}),0<$("#autocomplete_location").length){var t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/search/autocomplete_postal/?query=%QUERY"}});$("#autocomplete_location").typeahead({minLength:1},{source:t})}if($(document).on("click","#btn-edit-profile-main-info",function(){$("#profile-main-info-section .btn-edit").trigger("click")}),$(document).on("click",".editable-content .btn-edit:not(.disabled):not(.btn-with-remote-rails):not(.btn-no-effect-form), .editable-content .cancel, .editable-content .link-edit:not(.disabled)",function(e){e.preventDefault(),toggleEdit($(this))}),$(document).on("change",".time-period-position .cur-position",function(){var e=$(this).parents(".time-period-position").eq(0);$(this).prop("checked")?e.addClass("present-position"):e.removeClass("present-position")}),window.toggleEdit=function(e){var t=e.closest(".editable-content").eq(0),a=t.find("> .form-edit"),n=t.find("> .inner"),i=$(".wrapper-resume-profile .btn-edit:not(.btn-no-effect-form)"),r=$(".wrapper-resume-profile .link-edit");a.find('input[type="checkbox"]:not(.ez-hide):not(.unstyled)').ezMark(),t.toggleClass("edited"),$("#profile-library-resume").removeClass("opened"),i.each(function(){var e=$(this);e.prop("disabled",!$(this).prop("disabled")).toggleClass("disabled"),e.hasClass("btn-with-remote-rails")&&e.closest(".wrapper-remote-button").toggleClass("disabled")}),r.toggleClass("disabled"),$(".profile-progress-helps .btn").toggleClass("disable-link"),setTimeout(function(){a.toggleClass("out in"),n.toggleClass("out in")},1),a.find("textarea:visible").redactor(redactorOptions)},$(".wrapper-resume-profile")[0]!=undefined){$("#resume_file").on("change",function(){var e=$(this).val(),t=e.substr(e.lastIndexOf("\\")+1);$("#resume-file-name").html(t)}),window.autocompleateUniversity(),window.autocompleatePositionCity();var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/search/autocomplete_postal/?query=%QUERY"}});$(".edit-profile-info #profile-location").typeahead({minLength:1},{source:a}),$(document).on("change","#profile-access",function(){$.ajax({url:"/edit_profile.js",type:"PUT",data:{profile_info:{access:$(this).is(":checked")?1:0}}})}),$(document).on("click",".wrapper-profile-strength .btn-edit, #profile-main-info-section .btn-edit",function(e){e.preventDefault();var t=$(this).data("focus"),a=$(this).data("open");switch(t){case"location":$("#add-"+a).trigger("click"),n($("input[name='profile_info[location]']"));break;case"title":n($("input[name='profile_info[title]']"));break;case"social":n($("input[name='profile_info[facebook_account]']"));break;case"summary":$(".nav-tabs [data-target='#about']").trigger("click"),n($(".edit-profile-summary textarea"));break;case"position":$(".nav-tabs [data-target='#about']").trigger("click"),n($("#add-user-position input[name='user_position[company_name]']"));break;case"education":$(".nav-tabs [data-target='#about']").trigger("click"),n($("#add-user-education input[name='user_education[school]']"));break;case"resume":$(".nav-tabs [data-target='#resume']").trigger("click")}$("#add-"+a).trigger("click")}),$(document).on("click",".update-user-position .cancel, #add-user-position .cancel, .update-user-education .cancel, #add-user-education .cancel, .edit-profile-info .cancel, .edit-profile-summary .cancel, .edit-profile-contact .cancel",function(){var e=$(this).parents("form");$(e).resetTextField(),$(e).find(".errors").empty()}),$("[data-toggle=avatar-preview]").click(function(){new AvatarUploader("profile").init()}),$(document).on("click",'.wrapper-profile [data-toggle="tab"]',function(){$(".editable-content > .form-edit.in .cancel").click()}),$(document).on("click",".link-edit.disabled",function(e){e.preventDefault()}),$(document).on("click",".wrapper-recommendation .num-recommendations",function(e){e.preventDefault(),$(this).parents(".wrapper-recommendation").toggleClass("active")}),$(document).on("click","a.message-strength-request",function(e){e.preventDefault();var t=$(this).attr("href");window.checkForStrengthProfile(80,"Send an Message","To send an message, please complete your profile to 80%. Sending messages is free, but the person receiving it would most likely want to know who it is coming from. Thanks!",function(){window.location.href=t})}),Clipboard.isSupported()?new Clipboard(".profile-url-box button",{text:function(){return $(".profile-url-box input").val()}}).on("success",function(){$.pnotify({text:"Profile link copied to your clipboard",type:"success"})}):$(".profile-url-box button").hide(),$(document).on("click",".wrapper-list-resumes .resume-profile-item",function(){$(".wrapper-list-resumes .resume-profile-item").removeClass("selected"),$(this).addClass("selected"),$(".actions-list-resumes-import a").removeClass("disabled")}),$(document).on("click",".actions-list-resumes-import a",function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return null;$(this).addClass("disabled");var t=$(".wrapper-list-resumes .resume-profile-item.selected").data("url");$.post(t,function(){window.location.reload()})}),$(document).on("click",".actions-list-resumes-upload a",function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return null;$("#new_resume_document").submit()}),$(document).on("change","#new_resume_document #resume_document_resume",function(){$(".actions-list-resumes-upload a").removeClass("disabled")})}}),$(function(){$(document).on("change","#edit_user #outplacement-management-demo",function(){$.ajax({url:"/dashboard/role/add_remove_outplacement_role.json",type:"PUT"})}),$("#edit_user .make-switch").on("switch-change",function(e,t){$.ajax({url:"/users.json",type:"PUT",data:{user:{invitation_allowed:t.value}}})}),0<$(".choose-user-role").length&&($(document).on("click","a.choose-user-role",function(){var e=$(this).data("role");$("#user_roles").val(e),setSocialType(e)}),$(document).on("change","#user_roles",function(){setSocialType($(this).val())})),$(document).on("click",'span[data-action="sign-in"]',function(){window.location.href="/sign_in?redirect="+encodeURIComponent(window.location.pathname)}),$(document).on("click",'span[data-action="network-connect"]',function(){$.post("/network/connections",{user:$(this).data("user")})}),$(document).on("click",'span[data-action="network-decline"]',{decline:!0},function(){$.post("/network/connections",{user:$(this).data("user")})}),$(document).on("click",'span[data-action="send-message"]',function(){var e="/messages/new?user="+$(this).data("user");window.location.href=e})}),$(function(){$(".wrapper-rating-stars[data-toggle='ratings-default'] > input").rating({callback:function(e){var a=$(this).parents("*[data-toggle='ratings-default']"),t=a.data("id"),n=a.data("resource");$.post("/ratings",{id:t,resource:n,value:e},function(e){var t=a.parent().parent();t.find('*[data-toggle="rating-value"]').html(e.rate[0]),t.find('*[data-toggle="rating-count"]').html(e.rate[1])})}})});var managers_per_page=3;$(document).ready(function(){if($("#refer-share-stats").length){var e=$("#refer-share-stats-table tbody").find("tr").length,t=$("#refer-share-stats-table");$.extend($.fn.dataTableExt.oStdClasses,{sTable:"vj-dataTable",sNoFooter:"vj-no-footer",sPageButton:"vj-paginate_button",sPageButtonActive:"vj-current",sPageButtonDisabled:"vj-disabled",sStripeOdd:"vj-odd",sStripeEven:"vj-even",sRowEmpty:"vj-dataTables_empty",sWrapper:"vj-dataTables_wrapper",sFilter:"vj-dataTables_filter",sInfo:"vj-dataTables_info",sPaging:"vj-dataTables_paginate paging_",sLength:"vj-dataTables_length",sProcessing:"vj-dataTables_processing",sSortAsc:"vj-sorting_asc",sSortDesc:"vj-sorting_desc",sSortable:"vj-sorting",sSortableAsc:"vj-sorting_asc_disabled",sSortableDesc:"vj-sorting_desc_disabled",sSortableNone:"vj-sorting_disabled",sSortColumn:"vj-sorting_",sFilterInput:"vj-filter-input",sLengthSelect:"vj-length-select",sScrollWrapper:"vj-dataTables_scroll",sScrollHead:"vj-dataTables_scrollHead",sScrollHeadInner:"vj-dataTables_scrollHeadInner",sScrollBody:"vj-dataTables_scrollBody",sScrollFoot:"vj-dataTables_scrollFoot",sScrollFootInner:"vj-dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var a="",n=(a="")+"vj-state-default",i=a+"vj-css_right vj-icon vj-icon-",r=a+"vj-fg-toolbar vj-toolbar vj-widget-header vj-helper-clearfix";$.extend($.fn.dataTableExt.oJUIClasses,{sPageButton:"vj-fg-button vj-button "+n,sPageButtonActive:"vj-state-disabled",sPageButtonDisabled:"vj-state-disabled",sPaging:"vj-dataTables_paginate vj-fg-buttonset vj-buttonset vj-fg-buttonset-multi vj-buttonset-multi vj-paging_",sSortAsc:n+" vj-sorting_asc",sSortDesc:n+" vj-sorting_desc",sSortable:n+" vj-sorting",sSortableAsc:n+" vj-sorting_asc_disabled",sSortableDesc:n+" vj-sorting_desc_disabled",sSortableNone:n+" vj-sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"vj-DataTables_sort_wrapper",sSortIcon:"vj-DataTables_sort_icon",sScrollHead:"vj-dataTables_scrollHead "+n,sScrollFoot:"vj-dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:r+" vj-corner-tl vj-corner-tr",sJUIFooter:r+" vj-corner-bl vj-corner-br"}),t.DataTable({order:[[2,"desc"]],language:{aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"},emptyTable:"Send email referrals to start tracking",info:"Showing <strong>_TOTAL_</strong> shares",infoEmpty:"No shares found",infoFiltered:"",lengthMenu:"Show shares on page: _MENU_",search:"",zeroRecords:"No matching shares found",paginate:{previous:"Prev",next:"Next"}},dom:managers_per_page<e?"<'vj-filter-row'<'vj-left-col'f><'vj-right-col'l>r>t<'vj-pagination-row'<'vj-left-col'><'vj-right-col'p>>":"t",lengthMenu:[[5,10,15,20,-1],[5,10,15,20,"All"]],pageLength:managers_per_page}),$(".vj-dataTables_wrapper .vj-dataTables_filter input").attr("placeholder","Keywords"),$('#refer-share-stats a[data-toggle="tab"]').on("shown",function(){$(window).trigger("resize")})}$("#modal-preview-referral-message").on("show",function(){var e=$("#firstname-recipient").val();e.length?$("#modal-preview-referral-message .fullname-recipient").text(" "+e):$("#modal-preview-referral-message .fullname-recipient").text("")}),$("#address-recipient").data("company")&&$.validator.addMethod("companyemail",function(e){return/^([\w-\.]+@(?!gmail.com)(?!yahoo.com)(?!hotmail.com)(?!aol.com)(?!rocketmail.com)(?!msn.com)([\w-]+\.)+[\w-]{2,4})?$/.test(e)},"Please enter a company email, we do not accept Gmail, Yahoo, Hotmail, etc."),$('form[data-toggle="referral-validation"]').validate({rules:{first_name:{required:!0},emails:{required:!0,email:!0,companyemail:$("#address-recipient").data("company")}},messages:{first_name:{required:"First Name cannot be blank"},last_name:{required:"Last Name cannot be blank"},emails:{required:"Email cannot be blank",email:"Please include a valid email address"}},submitHandler:function(e){return!(!$(e).valid()||$(e).attr("disabled"))&&($(e).find("[type=submit]").addClass("disabled"),$(e).find("[type=submit]").attr("disabled","disabled"),$(e).data("remote")||e.submit(),!0)}})}),function(){window.resumeTemplates={init:function(){return this.eventsChooseTemplate(),this.loadingTemplates(),this.changeAnchorObserver()},redirectUrl:"/resume/wizard",loadingTemplates:function(){return window.location.hash="1",$(".template-thumb img").on("load",function(){return $(this).addClass("loaded")}).each(function(){if(this.complete)return $(this).load()})},changeAnchorObserver:function(){return setTimeout(function(){return $(window).on("hashchange",function(){if("#1"===window.location.hash&&window.resumeTemplates.showTemplates(),"#2"===window.location.hash)return window.resumeTemplates.showRegistration()})},100)},eventsChooseTemplate:function(){return $(document).on("click","#choose-resume-template .template-thumb a.overlay-mask-element",function(){var e,t;return t=$("#choose-resume-template"),e=$(this),t.find(".template-thumb.active").removeClass("active"),e.closest(".template-thumb").addClass("active"),window.resumeTemplates.redirectUrl=e.data("redirect")})},showRegistration:function(){return window.resumeTemplates.scrollTopPrev=$(window).scrollTop(),$.blockUI({message:'<div class="sk-three-bounce"><div class="sk-child sk-bounce1"></div><div class="sk-child sk-bounce2"></div><div class="sk-child sk-bounce3"></div></div>'}),$("#authorize-resume-template").length?(setTimeout(function(){return $("#choose-resume-template").fadeOut(100,function(){return $("#authorize-resume-template").fadeIn(300),$("html, body").animate({scrollTop:0},200),$.unblockUI()})},200),$('#authorize-resume-template input[name="redirect"]').val(window.resumeTemplates.redirectUrl),$('#authorize-resume-template a[data-type="facebook"]').attr("href","/users/auth/facebook?redirect="+encodeURIComponent(window.resumeTemplates.redirectUrl)),$('#authorize-resume-template a[data-type="linkedin"]').attr("href","/users/auth/linkedin?redirect="+encodeURIComponent(window.resumeTemplates.redirectUrl))):window.location.href=window.resumeTemplates.redirectUrl},showTemplates:function(){return $.blockUI({message:'<div class="sk-three-bounce"><div class="sk-child sk-bounce1"></div><div class="sk-child sk-bounce2"></div><div class="sk-child sk-bounce3"></div></div>'}),setTimeout(function(){return $("#authorize-resume-template").fadeOut(100,function(){return $("#choose-resume-template").fadeIn(300),$(window).scrollTop(window.resumeTemplates.scrollTopPrev),$.unblockUI()})},200)}},$(document).ready(function(){if($("#choose-resume-template").length)return resumeTemplates.init()})}.call(this),$(function(){$("#rating-analyzer-resume-result .in-rating-star").rating(),$("#rating-expert-review .in-rating-star").rating({callback:function(){$("#rating-expert-review").addClass("step-submit-showed")}})}),$("[rel='fancybox-resume-tpl']").fancybox({theme:"light",wrapCSS:"fancybox-resume-tpl"});var $body=$(document.body),getScrollbarWidth=function(){var e=document.createElement("div");e.className="scrollbar-measure",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};$(function(){$(document).on("change","#atach-resume-select",function(e){var t=$(this);if("atach"===t.val())e.preventDefault(),t.find("option:last").attr("selected","selected"),$("#atach-resume-modal").modal("show");else{var a=$(this).find("option:selected").data("resource");$('a[data-toggle="resume-fullscreen-modal"]').data("resource",a)}}),$(document).on("click",'[data-toggle="resume-fullscreen-modal"]',function(e){e.preventDefault();var t=$(this),a=$(t.data("target"));bodyPad=parseInt($body.css("padding-right")||0,10),resumeResourceId=t.data("resource"),resumeTitle=t.data("title"),a.find(".resume-title").html(resumeTitle),a.find(".wrapper-viewer-resume-as-page").html('      <div class="box-preview-container fullscreen" id="'+resumeResourceId+'">        <span>Resume preview is being prepared...          <br><br>          <i class="fa flaticon-fa-spinner fa-spin"></i>        </span>      </div>    '),$body.addClass("fullscreen-modal-open").css("padding-right",bodyPad+getScrollbarWidth()),a.show().addClass("animated fadeInDownBig").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated fadeInDownBig")}),window.initBoxPreview(resumeResourceId)}),$(document).on("click",".fullscreen-modal .close-modal",function(e){e.preventDefault();var t=$(this).closest(".fullscreen-modal");$body.removeClass("fullscreen-modal-open").css("padding-right",""),t.addClass("animated fadeOutUpBig").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated fadeOutUpBig").hide()})})}),function(){window.search={init:function(){return this.detectElements(),this.filterCountry(),this.clearCountry(),this.filterCity(),this.clearCity(),this.scrollInit(),this.countryChange(),this.filterDate(),this.clearDate(),this.submitSearch(),this.clearForm(),this.focusKeywords(),this.changeQuery(),this.changePostal(),this.changeEdition(),this.changeLimit(),this.changeSort(),this.mailchimpSubscribe(),this.historyWatcher(),this.saveSearchParamsToHistory=!0},detectElements:function(){var e;return e={lines:15,length:7,width:3,radius:13,corners:0,opacity:.15,rotate:0,color:"#000",speed:1,trail:70,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"80px",left:"50%"},this.spinner=new Spinner(e).spin(),this.jobs_container=$(".job-show-featured-list"),this.searchParams={query:""!==$("#search-query").val()?$("#search-query").val():void 0,newsletter:""!==$("#newsletter").val()?$("#newsletter").val():void 0,postal:""!==$("#postal").val()?$("#postal").val():void 0,city:$(".filter-list-content .filter-city.filter-variant_selected").data("city"),country:$(".filter-list-content .filter-country.filter-variant_selected").data("country"),date:$(".filter-list-content .filter-date.filter-variant_selected").data("date"),sort:""!==$("#sort :selected").val()?$("#sort :selected").val():void 0,limit:parseInt($("#limit :selected").val()),page:parseInt(purl(window.location.href).param("page")),adv:{}},""===this.searchParams.country&&(this.searchParams.country=void 0),(this.searchParams.page<=1||isNaN(this.searchParams.page))&&(this.searchParams.page=void 0),"date"===this.searchParams.sort&&(this.searchParams.sort=void 0),20===this.searchParams.limit&&(this.searchParams.limit=void 0),"all"!==this.searchParams.newsletter&&""!==this.searchParams.newsletter||(this.searchParams.newsletter=void 0),!0},applySearchParams:function(e){var t;for(t in search.searchParams)search.searchParams[t]=e[t];return"undefined"==typeof search.searchParams.adv&&(search.searchParams.adv={}),search.searchChange()},focusKeywords:function(){return $(document).on("focus",".in-search-keywords",function(){return $(this).closest(".wrapper-search-inputs").addClass("keywords-focused")}),$(document).on("blur",".in-search-keywords",function(){return $(this).closest(".wrapper-search-inputs").removeClass("keywords-focused")})},mailchimpSubscribe:function(){var e,t;return e=$("#mailchimp_subscribe"),t=e.html(),e.hover(function(){return e.html("Subscribed with Basic Membership"===t?"Unsubscribe with Basic Membership":"Subscribe with Basic Membership")},function(){return e.html(t)}),e.click(function(){return t="Subscribed with Basic Membership"===t?"Unsubscribed with Basic Membership":"Subscribed with Basic Membership",e.html(t),$.get("/memberships/subscribe_mailchimp",{id:$(this).data("newsletter")})})},changeQuery:function(){return $("#search-query").each(function(){return $(this).typeahead({minLength:1},{limit:8,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"//velvetjobs.s3.amazonaws.com/static/job_titles.json.gz"},sorter:TypeaheadBloodhoundSorter.bind($(this))})})}),$(document).on("keydown","#search-query",function(e){if(13===e.keyCode)return e.preventDefault(),$(this).trigger("change"),$(this).typeahead("close"),search.searchChange()}),$(document).on("change","#search-query",function(){var e;return""===(e=$(this).val().trim())&&(e=void 0),search.searchParams.query=e,search.searchParams.page=void 0}),$(document).on("typeahead:select","#search-query",function(){var e;return""===(e=$(this).val().trim())&&(e=void 0),search.searchParams.query=e,search.searchParams.page=void 0,search.searchChange()})},changePostal:function(){var e,t;return $("#postal").typeahead({minLength:1},{limit:8,source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"//velvetjobs.s3.amazonaws.com/static/cities.json.gz"}})}),t=null,e=function(){var e;return""===(e=$("#postal").val().trim())&&(e=void 0),search.searchParams.postal=e,search.searchParams.page=void 0,clearTimeout(t),t=setTimeout(search.searchChange,50),!0},$("#postal").on("typeahead:select",e),$("#postal").on("typeahead:close",e),$("#postal").on("change",e)},changeEdition:function(){var e,a;return a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:$("#editions").data("values").sort()}),e=function(e,t){return""===e?t(a.all()):a.search(e,t)},$("#editions").typeahead({minLength:0},{name:"editions",source:e,limit:1e4}).on("typeahead:select",function(e,t){var a;if($(".wrapper-filters-tags"),$(this).typeahead("val",""),setTimeout(function(){return $("#editions").blur()},1),1===(a=$("#newsletter").val().split(",")).length&&""===a[0]&&(a=[]),-1===a.indexOf(t))return a.push(t),search.searchParams.newsletter=a.join(","),search.searchParams.page=void 0,search.searchChange()}),$(document).on("click",'[data-toggle="remove-filter-search"]',function(){var e,t,a;return t=$(this).closest(".skill-tag-item-flat").data("newsletter"),-1!==(e=(a=$("#newsletter").val().split(",")).indexOf(t))&&a.splice(e,1),search.searchParams.newsletter=a.join(","),""===a.join(",")&&(search.searchParams.newsletter=void 0),search.searchParams.page=void 0,search.searchChange()}),$(document).on("click",'[data-toggle="clear-filters-search"]',function(e){var t,a;for(a in e.preventDefault(),$(".wrapper-advanced-search").removeClass("state-opened"),window.search_quicklist.fields)t=window.search_quicklist.fields[a],search.searchParams[t]=void 0;return search.searchParams.adv={},search.searchParams.page=void 0,search.searchParams.sort=void 0,search.searchChange()})},clearForm:function(){return $("#clear-form-filter").click(function(e){return e.preventDefault(),$("#search-query").val(""),$("#postal").val(""),$("#sort").val(""),$("#location option").eq(1).prop("selected",!0),$("#within option").eq(0).prop("selected",!0),$("#country option").filter(function(){return"United States"===$(this).text()}).prop("selected",!0),$("#search-country").show(),$("#search-postal").show(),$("#search-within").hide(),search.country=void 0,search.searchParams.page=void 0,search.searchParams.sort=void 0,search.searchChange()})},submitSearch:function(){return $("#search-filter-form"),$("#search-filter-form").submit(function(e){return e.preventDefault(),search.searchParams.page=void 0,search.searchChange()})},changeLimit:function(){return $("#limit").change(function(){var e;return 0!==(e=parseInt($("#limit :selected").val()))&&20!==e||(e=void 0),search.searchParams.limit=e,search.searchParams.page=void 0,search.searchChange()})},changeSort:function(){return $("#sort").change(function(){var e;return""===(e=$("#sort :selected").val())&&(e=void 0),search.searchParams.sort=e,search.searchParams.page=void 0,search.searchChange()})},countryChange:function(){return $("#country").change(function(){return"United States"!==$("#country :selected").text()?($("#search-postal").hide(),$("#search-within").hide()):($("#search-postal").show(),""!==$("#postal").val()?$("#search-within").show():void 0)})},filterDate:function(){return $(".filter-date").click(function(){var e,t;return e=$(this),(t=parseInt(e.data("date")))<=0&&(t=void 0),search.searchParams.date=t,$(".filter-date").each(function(){return $(this).parent().find(".clear-date").hide()}),e.parent().find(".clear-date").show(),$(".filter-country").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),search.searchParams.page=void 0,search.searchChange()})},clearDate:function(){return $(".clear-date").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-date").css("font-weight","normal"),search.searchParams.date=void 0,search.searchParams.page=void 0,search.searchChange()})},filterCountry:function(){return $(".filter-country").click(function(){var e,t;return"0"!==(t=(e=$(this)).data("country")+"")&&""!==t||(t=void 0),search.searchParams.country=t,$(".filter-country").each(function(){return $(this).parent().find(".clear-country").hide()}),e.parent().find(".clear-country").show(),$(".filter-country").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),search.searchParams.page=void 0,search.searchChange()})},clearCountry:function(){return $(".clear-country").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-country").css("font-weight","normal"),search.searchParams.country=void 0,search.searchParams.page=void 0,search.searchChange()})},filterCity:function(){return $(".filter-city").click(function(){var e;return e=$(this),search.searchParams.city=e.data("city"),$(".filter-city").each(function(){return $(this).parent().find(".clear-city").hide()}),e.parent().find(".clear-city").show(),$(".filter-city").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),search.searchParams.page=void 0,search.searchChange()})},clearCity:function(){return $(".clear-city").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-city").css("font-weight","normal"),search.searchParams.city=void 0,search.searchParams.page=void 0,search.searchChange()})},scrollInit:function(t){return null==t&&(t=search.page),$(document).on("click",".pagination-here li > a",function(e){return e.preventDefault(),(t=parseInt(purl($(this).attr("href")).param("page")))<=1&&(t=void 0),search.searchParams.page=t,search.searchChange()})},reloadNewsletterLabel:function(){var e,t,a,n,i;if(a=$("#newsletter").val().split(","),(t=(n=$(".wrapper-filters-tags")).find(".list-skills-flat")).html(""),1===a.length&&""===a[0])return n.find(".list-skills-flat").append('<label class="skill-tag-item-flat light-skill-tag" for="editions">All</label>');for(e in i=[],a)i.push(t.append('<label class="skill-tag-item-flat light-skill-tag with-close-btn" data-newsletter="'+a[e]+'">'+a[e]+'<i class="skill-tag-item-flat-destroy fa flaticon-close47" title="Remove" data-toggle="remove-filter-search"></i></label>'));return i},searchChange:function(){var e,t,a,n;for(t in $("#total").hide(),search.jobs_container.append(search.spinner.el).find(".spinner").wrap('<div class="wrapper-spinner"></div>'),$(".wrapper-filters-tags").addClass("empty-filters"),search.searchParams)"page"!==t&&"adv"!==t&&void 0!==search.searchParams[t]&&$(".wrapper-filters-tags").removeClass("empty-filters");for(a in $("#search-query").val(search.searchParams.query),$("#postal").val(search.searchParams.postal),$("#newsletter").val(search.searchParams.newsletter),$("#sort").val(search.searchParams.sort),void 0===search.searchParams.query?$("#sort-placeholder").hide():$("#sort-placeholder").show(),"string"==typeof search.searchParams.postal&&"remote"===search.searchParams.postal.toLowerCase()?$('div[data-toggle="job-search-filter-cities"]').hide():$('div[data-toggle="job-search-filter-cities"]').show(),search.searchParams.adv&&0===Object.keys(search.searchParams.adv).length?$('a[data-toggle="search-advanced"]').removeClass("selected"):($('a[data-toggle="search-advanced"]').addClass("selected"),$(".wrapper-filters-tags").removeClass("empty-filters")),window.search_advanced.fields)t=window.search_advanced.fields[a],n=search.searchParams.adv[t],$("input[name='"+t+"']").val(n);return search.searchParams.newsletter&&0<search.searchParams.newsletter.split(",").length&&$("title").html(search.searchParams.newsletter.split(",")[0]+" Jobs | VelvetJobs"),search.reloadNewsletterLabel(),window.search_quicklist.updateQuicklist(),e=jQuery.extend({},search.searchParams),$.ajax({type:"GET",url:$("#search-filter-form").attr("action"),data:e,dataType:"script",cache:!0,complete:function(){return search.saveSearchParamsToHistory&&window.history.pushState({data:e},$("title").html(),this.url),search.saveSearchParamsToHistory=!0}})},historyWatcher:function(){return window.onpopstate=function(e){if(e&&e.state&&"object"==typeof e.state.data)return window.search.saveSearchParamsToHistory=!1,window.search.applySearchParams(e.state.data)}}},$(document).ready(function(){if(void 0!==$("#search-query")[0]&&void 0!==$("#editions")[0])return window.search.init(),window.search_advanced.init(),window.search_quicklist.init()})}.call(this),function(){window.search_advanced={init:function(){var e,t,a,n;for(t in this.toggleAdvancedSearch(),this.bindInputs(),a=[],window.search_advanced.fields)e=window.search_advanced.fields[t],""!==(n=$("input[name='"+e+"']").val()).trim()?a.push(search.searchParams.adv[e]=n):a.push(void 0);return a},fields:["title_inc","title_exc","query_inc","query_exc","employer_inc","employer_exc"],toggleAdvancedSearch:function(){return $(document).on("click",'[data-toggle="search-advanced"]',function(e){return e.preventDefault(),$(this).closest(".wrapper-advanced-search").toggleClass("state-opened")})},bindInputs:function(){return $(document).on("change",'#search-filter-form input[data-toggle="advanced-search-input"]',function(e){var t,a,n,i;for(a in e.preventDefault(),window.search.searchParams.adv={},n=[],window.search_advanced.fields)t=window.search_advanced.fields[a],""!==(i=$("input[name='"+t+"']").val()).trim()?n.push(search.searchParams.adv[t]=i):n.push(void 0);return n})}}}.call(this),function(){window.search_candidates={init:function(){if(this.detectElements(),this.filterCountry(),this.clearCountry(),this.filterCity(),this.clearCity(),this.scrollInit(),this.changeLimit(),this.changeSort(),this.changeNewsletter(),this.submitSearch(),this.autocompleteLocation(),this.withResume(),this.clearResume(),this.clearNewsletter(),this.clickByCandidate(),void 0!==$("#search-previous-companies")[0]&&this.initCompanies(),void 0!==$("#search-titles")[0]&&this.initTitles(),$("#search-educations")&&this.initEducations(),void 0!==$("#level_education")[0])return this.initLevelEducation()},detectElements:function(){var e;return e={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:80},this.spinner=new Spinner(e).spin(),this.candidates_container=$("#candidates_container"),this.country=faced_country,this.city=faced_city,this.page=parseInt(page),this.total_count=parseInt(total_count),this.total_count_limited=parseInt(total_count_limited),this.show_upgrade_page=show_upgrade_page,this.date=0,this.limit=parseInt($("#limit :selected").val()),this.sort=parseInt($("#sort :selected").val()),this.with_resume=with_resume,this.newsletter=newsletter,this.companies="",this.companies_scope="cp",this.titles="",this.titles_scope="cp",this.level_education=$("#level_education").val()},initLevelEducation:function(){return $("#level_education").change(function(){return search_candidates.level_education=$("#level_education").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},initEducations:function(){var e;return(e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/people/autocomplete_educations.json?query=%QUERY"}})).initialize(),$("#search-educations").tagsinput({typeaheadjs:{name:"filtereducations",source:e.ttAdapter()}}),$("#search-educations").on("itemAdded",function(){return search_candidates.educations=$("#search-educations").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()}).on("itemRemoved",function(){return search_candidates.educations=$("#search-educations").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},initCompanies:function(){return""!==search_candidates.companies&&$("#companies_scope").show(),$("#companies_scope").change(function(){return search_candidates.companies=$("#search-previous-companies").val(),search_candidates.companies_scope=$("#companies_scope").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()}),$("#search-previous-companies").tagsinput(),$("#search-previous-companies").on("itemAdded",function(){
return $("#companies_scope").show(),search_candidates.companies=$("#search-previous-companies").val(),search_candidates.companies_scope=$("#companies_scope").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()}).on("itemRemoved",function(){return search_candidates.companies=$("#search-previous-companies").val(),search_candidates.companies_scope=$("#companies_scope").val(),""===search_candidates.companies&&$("#companies_scope").hide(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},initTitles:function(){return""!==search_candidates.titles&&$("#titles_scope").show(),$("#titles_scope").change(function(){return search_candidates.titles=$("#search-titles").val(),search_candidates.titles_scope=$("#titles_scope").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()}),$("#search-titles").tagsinput(),$("#search-titles").on("itemAdded",function(){return $("#titles_scope").show(),search_candidates.titles=$("#search-titles").val(),search_candidates.titles_scope=$("#titles_scope").val(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()}).on("itemRemoved",function(){return search_candidates.titles=$("#search-titles").val(),search_candidates.titles_scope=$("#ctitles_scope").val(),""===search_candidates.titles&&$("#titles_scope").hide(),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},clickByCandidate:function(){if(void 0!==$(".click-by-candidate")[0])return $(".click-by-candidate").click(function(){return $("#guest-registration-modal .sign-up #redirect").val($(this).data("redirect"))})},autocompleteLocation:function(){var e;return e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{wildcard:"%QUERY",url:"/search/autocomplete_postal/?query=%QUERY"}}),$("#location").typeahead({minLength:1},{source:e})},submitSearch:function(){var e;return e=$("#search-candidates-filter-form"),$("#search-candidates-filter-form").submit(function(){if(""!==$.trim($(e).find("#search-query").val()))return $(e).find("#sort").val(2)})},clearNewsletter:function(){return $(".newsletters .clear-newsletter").click(function(){var e;return e=void 0===$("#type_search :selected")[0]?"0":$("#type_search :selected").val(),location.href="1"===e?"/people/search/all/talent/":"/people/search"})},changeNewsletter:function(){return $(".newsletters .filter-newsletter").click(function(){var e,t;return e=$(this).data("newsletter"),t=void 0===$("#type_search :selected")[0]?"0":$("#type_search :selected").val(),location.href="1"===t?"/people/search/"+e+"/talent/":"/people/search/"+e}),$("#type_search").change(function(){var e;return e=$("#type_search :selected").val(),location.href="1"===e?"/people/search/"+search_candidates.newsletter+"/talent/":"/people/search"})},changeLimit:function(){return $("#limit").change(function(){return search_candidates.limit=parseInt($("#limit :selected").val()),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},changeSort:function(){return $("#sort").change(function(){return search_candidates.sort=parseInt($("#sort :selected").val()),search_candidates.page=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},withResume:function(){return $(".filter-resume").click(function(){return search_candidates.page=1,search_candidates.with_resume=1,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()})},clearResume:function(){return $(".clear-resume").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-resume").css("font-weight","normal"),search_candidates.with_resume=0,$("#total").hide(),search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.page=1,search_candidates.searchChange()})},filterCountry:function(){return $(".filter-country").click(function(){var e;return e=$(this),search_candidates.country=e.data("country"),$(".filter-country").each(function(){return $(this).parent().find(".clear-country").hide()}),e.parent().find(".clear-country").show(),$("#total").hide(),$(".filter-country").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.page=1,search_candidates.searchChange()})},clearCountry:function(){return $(".clear-country").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-country").css("font-weight","normal"),search_candidates.country=0,$("#total").hide(),search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.page=1,search_candidates.searchChange()})},filterCity:function(){return $(".filter-city").click(function(){var e;return e=$(this),search_candidates.city=e.data("city"),$(".filter-city").each(function(){return $(this).parent().find(".clear-city").hide()}),e.parent().find(".clear-city").show(),$("#total").hide(),$(".filter-city").removeClass("filter-variant_selected"),$(this).addClass("filter-variant_selected"),search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.page=1,search_candidates.searchChange()})},clearCity:function(){return $(".clear-city").click(function(e){return e.preventDefault(),$(this).hide(),$(this).parent().find(".filter-city").css("font-weight","normal"),search_candidates.city=" ",$("#total").hide(),search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.page=1,search_candidates.searchChange()})},scrollInit:function(e,t){var a;return null==e&&(e=search_candidates.page),null==t&&(t=search_candidates.total_count_limited),t=parseInt(t),a=search_candidates.total_count,search_candidates.total_count>t&&(a=t),$(".pagination-here").pagination({rel:"nofollow",items:a+("undefined"!=typeof show_upgrade_page&&null!==show_upgrade_page?show_upgrade_page:{1:0}),itemsOnPage:parseInt(search_candidates.limit),currentPage:e,displayedPages:5,cssStyle:"pagination",onPageClick:function(e){return search_candidates.page=e,search_candidates.candidates_container.html(search_candidates.spinner.el),search_candidates.searchChange()}})},searchChange:function(){return $("#pagination-here").unbind("bootpag"),$.ajax({type:"GET",url:$("#search-candidates-filter-form").attr("action"),data:{newsletter:search_candidates.newsletter,country:0!==parseInt(search_candidates.country)?search_candidates.country:void 0,city:" "!==search_candidates.city?search_candidates.city:void 0,query:""!==$("#search-query").val()?$("#search-query").val():void 0,page:parseInt(search_candidates.page),limit:parseInt(search_candidates.limit),talent:"1"===$("#type_search :selected").val()?"talent":void 0,location:""!==$("#location").val()?$("#location").val():void 0,with_resume:1===search_candidates.with_resume?1:void 0,companies:search_candidates.companies,companies_scope:search_candidates.companies_scope,titles:search_candidates.titles,titles_scope:search_candidates.titles_scope,level_education:search_candidates.level_education,educations:search_candidates.educations},dataType:"script",success:function(){var e,t;return e=window.History,t=this.url.split("?"),window.url_new=t[1],e.pushState(null,null,"?"+window.url_new)}})}},window.candidate={init:function(){return this.initSpinner(),this.following()},initSpinner:function(){var e;return e={lines:13,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:80},this.spinner=new Spinner(e).spin()},following:function(){return $(".btn-candidate-to-followings").click(function(e){var t,a,n;return e.preventDefault(),n=(t=$(this)).parents(".wrapper-following"),a=t.data("action"),n.toggleClass("active"),$.post("/talents/following",{user:t.data("candidate"),operation:a},function(){return t.data("action","add"===a?"delete":"add")})})}},$(document).ready(function(){if(void 0!==$("#candidates_container")[0]&&search_candidates.init(),void 0!==$(".btn-candidate-to-followings")[0])return candidate.init()})}.call(this),function(){window.search_quicklist={init:function(){return this.applyQuicklist(),this.removeFromQuicklist(),this.clearQuicklist(),this.showAllQuicklist(),window.search_quicklist.updateQuicklist()},fields:["query","city","postal","newsletter","country","date","adv"],applyQuicklist:function(){return $(document).on("click",'a[data-toggle="apply-quicklist"]',function(e){var t;if(e.preventDefault(),"apply-quicklist"===$(e.target).data("toggle"))return(t=$(this).data("params")).page=void 0,window.search.applySearchParams(t)})},clearQuicklist:function(){return $(document).on("click",'[data-toggle="clear-quicklist"]',function(e){return e.preventDefault(),$("#quickilist-unit").find("a:not(.see-more-history)").remove(),window.search_quicklist.updateQuicklist(),$.ajax({url:"/user_searches/-1",type:"DELETE"})})},showAllQuicklist:function(){return $(document).on("click",'[data-toggle="see-more-history"]',function(e){return e.preventDefault(),$("#quickilist-unit").closest(".wrapper-history-search").addClass("showed-all-list")})},removeFromQuicklist:function(){return $(document).on("click",'[data-toggle="remove-from-quicklist"]',function(e){var t;return e.preventDefault(),t=$(this).closest("[data-id]").data("id"),$(this).closest('[data-toggle="apply-quicklist"]').remove(),window.search_quicklist.updateQuicklist(),$.ajax({url:"/user_searches/"+t,type:"DELETE"})})},renderQuicklist:function(e){var t,a,n,i;for(t in(a=$("#quickilist-unit")).find("a:not(.see-more-history)").remove(),e.reverse())n=e[t],(i=$("<A>",{url:n.url,"class":"skill-tag-item-flat light-skill-tag with-close-btn","data-id":n.id,"data-toggle":"apply-quicklist","data-params":JSON.stringify(n.params)}).html(n.title)).append('<i class="skill-tag-item-flat-destroy fa flaticon-close47" title="Remove from Quickilist" data-toggle="remove-from-quicklist">'),a.prepend(i);return window.search_quicklist.updateQuicklist()},updateQuicklist:function(){var e,t;if($('a[data-toggle="apply-quicklist"]').each(function(){var e,t,a,n,i,r;for(a in i=jQuery.extend({},$(this).data("params")),r=jQuery.extend({},search.searchParams),n=!0,window.search_quicklist.fields)if("number"==typeof(t=r[e=window.search_quicklist.fields[a]])&&(t=t.toString()),"adv"===e&&(i[e]=JSON.stringify(i[e]||{}),t=JSON.stringify(t)),i[e]!==t){n=!1;break}return n?$(this).addClass("selected"):$(this).removeClass("selected")}),(e=(t=$("#quickilist-unit")).closest(".wrapper-history-search")).removeClass("with-empty-list"),e.removeClass("with-short-list"),0===t.find("> a:not(.see-more-history)").size()&&e.addClass("with-empty-list"),t.find("> a:not(.see-more-history)").size()<=5)return e.addClass("with-short-list")}}}.call(this),$(function(){var i="";$(window).resize(function(){var e=$(window).height()-100;$(".navbar .navbar-top .search-form .tt-dropdown-menu").css("max-height",e)});var r=$("#search-suggestions-input").data("default-placeholder");$(document).on("click","#search-suggestions-form .dropdown-menu a",function(e){e.preventDefault();var t=$(this),a=t.parent(),n=t.html();i=a.data("filter"),$("#search-suggestions-form .dropdown-menu li.active").removeClass("active"),a.addClass("active"),$("#search-suggestions-form input[name=filter]").val(i),$(".dropdown-toggle span.search-by").html(n),"Intros"==n&&(n="Introductions"),i?$("#search-suggestions-input").attr("placeholder","Search "+n.toLowerCase()):$("#search-suggestions-input").attr("placeholder",r)})}),function(){$(function(){return $("th").on("click",".ez-checkbox",function(){return $(this).closest("table").find("td input").trigger("click")})})}.call(this),$(function(){$(".suggestion-container form").bind("ajax:success",function(e,t){t.success&&($.pnotify({text:"We received your suggestion. Thank you!"}),$("#suggest_suggest").val(""))})}),window.recaptchaCallback=function(e){$("form").each(function(){$(this).find("input[name='g-recaptcha-response']").remove(),$(this).append("<input type='hidden'  name='g-recaptcha-response' value='"+e+"'>"),$(this).data("submit-after-captcha-challenge")&&$(this).submit()})},window.recaptchaOnload=function(){grecaptcha.execute()},$(function(){$(document).ready(function(){$("#job_options_zipcode").keypress(function(e){if(8!=e.which&&0!=e.which&&(e.which<48||57<e.which))return!1})}),$(document).on("click",".open-link-in-popup",function(t){t.preventDefault();var a=window.open($(this).attr("href"),"_blank","width=800,height=450"),n=setInterval(function(){try{var e=a.location.href;/www\.velvetjobs\.com/.test(e)&&(clearInterval(n),a.close())}catch(t){}},500);return!1}),$(document).on("click","#add-invitation-email",function(){var e=$("#invitation-email-template").html();return $("#invitation-emails").append(e),$("#invitation-emails input").last().focus(),!1}),$(document).on("click","#invitation-emails i.icon-remove",function(){$(this).parent().parent().parent().parent().remove()}),$(document).on("ajax:success","form.sign-in",function(e,t){t.success!=undefined?window.location.href=t.redirect:window.location.reload()}),$(document).on("ajax:success","form.job-options",function(e,t){window.location.href=t.redirect}),$(document).on("ajax:beforeSend","form.sign-in, form.sign-up, form.user-password",function(){$(this).find("*[type=submit]").addClass("disabled"),$(this).find("*[type=submit]").attr("disabled","disabled"),$(this).removeData("submit-after-captcha-challenge")}),$(document).on("ajax:success, ajax:error","form.sign-in, form.sign-up, form.user-password",function(){$(this).find("*[type=submit]").removeClass("disabled"),$(this).find("*[type=submit]").removeAttr("disabled","disabled")}),$(document).on("ajax:error","form.sign-in",function(e,t){var a=$.parseJSON(t.responseText);$("#sign-in-error-block p, .sign-in-error-block p").html(a.error),$("#sign-in-error-block, .sign-in-error-block").show()}),$(document).on("ajax:success",'form.sign-up, form[data-toggle="fbin-validation"]',function(e,t){t.redirect!=undefined?window.location.href=t.redirect:window.location.reload()}),$(document).on("ajax:error",'form.sign-up, form[data-toggle="fbin-validation"]',function(e,t){var a=$.parseJSON(t.responseText);"captcha"==a.error.field?($(this).data("submit-after-captcha-challenge",!0),0==$("#recaptcha").length?$(this).prepend('<div id="recaptcha" class="wrapper-invisible-recaptcha">'+a.error.message+"</div>"):"object"==typeof grecaptcha&&(grecaptcha.reset(),grecaptcha.execute())):($("#sign-up-error-block p, .sign-up-error-block p").html(a.error.message),$("#sign-up-error-block, .sign-up-error-block").show(),setTimeout(function(){$(window).trigger("resize")},100),$("#user_"+a.error.field).focus())}),$(document).on("click",".mailchimp_check",function(){$(this).data("userId")!=undefined?$.get("/memberships/subscribe_mailchimp",{id:$(this).data("newsletter"),user_id:$(this).data("userId")}):$.get("/memberships/subscribe_mailchimp",{id:$(this).data("newsletter")})}),$(document).on("click","#registration_source_check",function(){$(this).parents("td").data("userId")!=undefined?$.get("/index/subscribe_registration_source?user_id="+$(this).parents("td").data("userId")):$.get("/index/subscribe_registration_source")}),$(document).on("click","#alert_register_check",function(){$(this).parents("td").data("userId")!=undefined?$.get("/index/alerts?user_id="+$(this).parents("td").data("userId")):1==$(this).data("linkedin")?$.get("/index/alerts?linkedin=true&type="+$(this).data("type")):$.get("/index/alerts")}),$(".nav-i-link.sign-in").popover({content:$("#auth-container").html(),html:!0,placement:"bottom",trigger:"click"}).click(function(){var e=$(this).next(),t=e.find(".arrow");e.css("left",-107),t.css("left",225),$('input[type="checkbox"]').ezMark()})}),jQuery.validator.setDefaults({success:"valid",focusInvalid:!1,errorElement:"div",errorClass:"error error-validate-text",highlight:function(e){$(this).find(":input.error:first").focus(),$(e).closest(".control-group, div.input, div.file-upload-wrapper").addClass("has-error")},unhighlight:function(e){$(e).closest(".control-group, div.input, div.file-upload-wrapper").removeClass("has-error")},invalidHandler:function(e,t){t.numberOfInvalids()&&t.errorList[0].element.focus()},errorPlacement:function(e,t){$('<div class="wrapper-error-validation-bubble"><div class="error-validation-bubble"><div class="inner"></div></div></div>').insertAfter(t).find(".inner").append(e)}}),$(function(){$("#guest-registration-modal").on("show.bs.modal",function(e){var t=$(e.relatedTarget).data("jobredirect");t!=undefined&&$.post("/add_featured",{redirect:t})}).on("hide.bs.modal",function(){$.post("/add_featured")}),is_touch_device()?$("html").addClass("touch"):($("html").addClass("no-touch"),$('[data-toggle="scroll-pane-no-touch"]').jScrollPane({verticalGutter:10,autoReinitialise:!0})),$(".parallax").parallax(),$(".parallax img").on("load",function(){$(window).scroll()}).each(function(){this.complete&&$(this).trigger("load")}),$('[data-toggle="scroll-pane"]').jScrollPane({verticalGutter:10,autoReinitialise:!0}),window.applicationOnLoad&&window.applicationOnLoad(),$('input[type="checkbox"]').not(".unstyled").ezMark(),$('input[type="radio"].ez-radio').ezMark(),$('input[type="radio"].ez-radio-circle').ezMark({radioCls:"wrapper-ez-radio-circle"}),$.pnotify.defaults.icon=!1,$.pnotify.defaults.title=!1,$.pnotify.defaults.history=!1,$.pnotify.defaults.closer=!1,$.pnotify.defaults.sticker=!1,$.pnotify.defaults.delay=2e3,$.pnotify.defaults.mouse_reset=!1,$.pnotify.defaults.animate_speed=!0,$(document).on("click",".ui-pnotify",function(){$(this).hide()}),$("[data-popover]").popover(),$(".selectpicker-dropdown").selectpicker({style:"dropdown-toggle btn-square btn-dark btn-small",dropupAuto:!1}),$('[data-toggle="tooltip"], [data-tooltip]').tooltip(),$("body").on("focus",'[data-toggle="datepicker-position"]',function(){$(this).datepicker({endDate:"today",startView:2,todayBtn:"linked",orientation:"top left",autoclose:!0,todayHighlight:!0,minViewMode:1,format:"mm/yyyy",startDate:new Date("January 1, 1900 00:00:00"),endDate:new Date("December 31, 2100 23:59:59")})}),$("body").on("focus",'[data-toggle="datepicker-education"]',function(){$(this).datepicker({startView:2,todayBtn:"linked",orientation:"top left",autoclose:!0,todayHighlight:!0,minViewMode:2,format:"yyyy",startDate:new Date("January 1, 1900 00:00:00"),endDate:new Date("December 31, 2100 23:59:59")})}),$(".no-touch .navbar-with-submenu .nav > .dropdown > .dropdown-toggle").on("click",function(){var e=$(this).parent().find("> .dropdown-menu > li:first-child > a").prop("href");window.location.href=e}),$(document).on("click",".touch .btn-flat-dropdown-hover, .touch .wrapper-btn-popover",function(){$(this).toggleClass("opened")}),$(document).on("click",".touch .btn-flat-dropdown-hover .dropdown-list a",function(){$(this).closest(".btn-flat-dropdown-hover").removeClass("opened")}),$(document).on("click",".btn-modal-steps",function(){$("#fbin-registration-modal").modal("show")}),$(".menu-socials").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),"function"==typeof gtag&&$(document).on("click","a[data-tracking-event]",function(){var e=$(this).data("tracking-event");gtag("event","Click",e)}),"function"==typeof gtag&&(window.onbeforeprint=function(){gtag("event","Print Page",window.location.pathname)})});